import{a as I,M as T,b as k,P as D}from"./Page-X_CL2XrS.js";import{_ as N,u as M,aW as U,l as i,aX as $,aY as E,aZ as L,a_ as G,aD as O,A as c,a$ as V,b0 as R,b1 as F,b2 as q,b3 as W,b4 as X,b5 as Y,d as u,w as m,r as l,o as d,a,e as p,t as o,b as y,g as h,c as v,f as Z,F as j,I as H,n as J}from"./app-HuQxhYkh.js";import{B as K}from"./BasicTable-yOAfWnez.js";import{P as Q,G as ee}from"./GrowingLoader-hxei4TSu.js";import{U as te,C as se}from"./create-QvPmTJh-.js";import{D as re}from"./DefaultInput-8EaRomtX.js";import{P as ae}from"./Paginate-a87pEyqc.js";import{D as ie}from"./DefaultSelect-6fsBvJhD.js";import"./ImageInput-2jWvBMRc.js";import"./create-XOpOH6E7.js";import"./boxCreate-3yNddXQP.js";const ne={components:{DefaultSelect:ie,Paginate:ae,DefaultInput:re,PrimaryBtn:I,ModalCentered:T,PrimaryIconBtn:Q,PrimaryButton:k,GrowingLoader:ee,BasicTable:K,Page:D,Update:te,Create:se},setup(){return{counterStore:M()}},data(){return{items:[],item:[],paginateCount:10,headers:[1,2,3,4,5,6,7,8,9,10],last_page:1,current_page:1,column:"id",type:"desc",errors:[],loader:!1,medicineCategories:[],boxSizes:[],drugCompanies:[],sizeTypes:[],mloader:!1,crud:"create"}},methods:{async index(){try{const e=await U();this.items=e.data}catch(e){i(this,e)}},async indexActives(){try{const e=await $(this.paginateCount);this.items=e.data}catch(e){i(this,e)}},async indexPaginates(e=1){try{this.loader=!0;const t=await E(this.paginateCount,e);this.current_page=t.data.pagination.current_page,this.last_page=t.data.pagination.last_page,this.items=t.data.items,this.loader=!1}catch(t){i(this,t)}},async orderBys(){try{const e=await L(this.column,this.type);this.items=e.data}catch(e){i(this,e)}},async show(e){try{const t=await G(e);this.item=t.data}catch(t){i(this,t)}},async create(){try{const t=await O({});return t.status?(c("success",this.$t("create")),!0):(this.errors=t.errors,c("error",this.$t("formError")),!1)}catch(e){return i(this,e),!1}},async update(){try{const t=await V({});return t.status?(c("success",this.$t("update")),!0):(this.errors=t.errors,c("error",this.$t("formError")),!1)}catch(e){return i(this,e),!1}},async search(e=""){try{if(this.loader=!0,e=="")return this.indexPaginates(),!0;const t=await R(e);return this.items=t.data,this.loader=!1,t.status?(this.loader=!1,!0):(c("error",this.$t("formError")),this.loader=!1,!1)}catch(t){return i(this,t),this.loader=!1,!1}},async delete(e){try{if(!confirm(this.$t("DeleteAlert")))return!1;const t=await F(e);return this.items=t.data,t.status&&(this.indexPaginates(this.current_page),c("success",this.$t("delete"))),c("error",this.$t("formError")),!1}catch(t){return i(this,t),!1}},async indexCategoryActives(){try{this.mloader=!0;const e=await q();this.medicineCategories=e.data,this.mloader=!1}catch(e){i(this,e)}},async indexBoxSizesActives(){try{this.mloader=!0;const e=await W();this.boxSizes=e.data,this.mloader=!1}catch(e){i(this,e)}},async indexCompaniesActives(){try{this.mloader=!0;const e=await X();this.drugCompanies=e.data,this.mloader=!1}catch(e){i(this,e)}},async indexTypesActives(){try{this.mloader=!0;const e=await Y();this.sizeTypes=e.data,this.mloader=!1}catch(e){i(this,e)}}},mounted(){this.indexPaginates(),this.indexCategoryActives(),this.indexBoxSizesActives(),this.indexCompaniesActives(),this.indexTypesActives()}},oe={class:"row"},le={value:"10",selected:""},de=a("option",{value:"10"},"10",-1),ce=a("option",{value:"20"},"20",-1),ue=a("option",{value:"50"},"50",-1),me=a("option",{value:"100"},"100",-1);function pe(e,t,ge,g,r,n){const x=l("DefaultInput"),b=l("DefaultSelect"),A=l("PrimaryBtn"),C=l("PrimaryIconBtn"),P=l("Paginate"),S=l("GrowingLoader"),z=l("BasicTable"),_=l("Update"),w=l("Create"),B=l("Page");return d(),u(B,{Title:""},{default:m(()=>[a("div",oe,[p(z,{Th:[e.$t("Id"),e.$t("Picture"),e.$t("ModalName"),e.$t("GenericName"),e.$t("Amount"),e.$t("SellingPrice"),e.$t("BuyPrice"),e.$t("Category"),e.$t("Status"),e.$t("Settings")],Title:e.$t("Medicines"),Col:"col-lg-12"},{inputs:m(()=>[p(x,{Class:"col-lg-3 col-sm-2 search_input",Label:"",Name:"name",Type:"text",Pholder:"Search...",onOnInput:t[0]||(t[0]=s=>n.search(s))}),p(b,{Label:"",Class:"col-lg-2 col-sm-2",onOnInput:t[1]||(t[1]=s=>(this.paginateCount=s,this.indexPaginates()))},{default:m(()=>[a("option",le,o(e.$t("NumberDownloads")),1),de,ce,ue,me]),_:1}),y("   ")]),buttons:m(()=>[g.counterStore.hasRole("Medicines-create")?(d(),u(A,{key:0,onClick:t[2]||(t[2]=s=>r.crud="create"),role:"button","data-bs-toggle":"modal","data-bs-target":"#medicineCreate"},{default:m(()=>[y(o(e.$t("Create")),1)]),_:1})):h("",!0)]),default:m(()=>[(d(!0),v(j,null,Z(r.items,s=>(d(),v("tr",null,[a("td",null," #"+o(s.id),1),a("td",null,[a("div",{class:"table_image",style:H("background-image: url("+s.image[0].url+")")},null,4)]),a("td",null,o(s.name),1),a("td",null,o(s.generic_name),1),a("td",null,o(s.amount),1),a("td",null,o(g.counterStore.formatNumber(s.price))+" "+o(s.currency.sign),1),a("td",null,o(g.counterStore.formatNumber(s.buy_price))+" "+o(s.currency.sign),1),a("td",null,o(s.medicine_category_name),1),a("td",null,[a("span",{class:J([s.status==1?"badge-soft-success":"badge-soft-danger","badge badge-pill badge-soft-success font-size-11"])},o(s.status==1?e.$t("Active"):e.$t("InActive")),3)]),a("td",null,[g.counterStore.hasRole("Medicines-update")?(d(),u(C,{key:0,onClick:f=>(this.item=s,r.crud="update"),Icon:"bx bx-edit-alt",Modal:"medicineUpdate"},null,8,["onClick"])):h("",!0),y("  "),p(C,{onClick:f=>this.$router.push({path:"/admin/medicines/show",query:{id:s.id}}),Icon:"bx bx-show"},null,8,["onClick"]),y("  "),g.counterStore.hasRole("Medicines-delete")?(d(),u(C,{key:1,onClick:f=>this.delete(s.id),class:"bg-danger border-danger",Icon:"bx bx-trash-alt"},null,8,["onClick"])):h("",!0)])]))),256)),r.last_page!=1?(d(),u(P,{key:0,currentPage:this.current_page,totalPages:this.last_page,onChangePage:t[3]||(t[3]=s=>n.indexPaginates(s)),Cols:r.headers.length},null,8,["currentPage","totalPages","Cols"])):h("",!0),r.loader?(d(),u(S,{key:1,Cols:r.headers.length},null,8,["Cols"])):h("",!0)]),_:1},8,["Th","Title"])]),p(_,{crud:r.crud,Item:r.item,medicineCategories:r.medicineCategories,boxSizes:r.boxSizes,drugCompanies:r.drugCompanies,sizeTypes:r.sizeTypes,onIndexCategoryActives:t[4]||(t[4]=s=>n.indexCategoryActives()),onIndexCompaniesActives:t[5]||(t[5]=s=>n.indexCompaniesActives()),onIndexBoxSizesActives:t[6]||(t[6]=s=>n.indexBoxSizesActives()),onIndexTypesActives:t[7]||(t[7]=s=>n.indexTypesActives()),onOnUpdate:t[8]||(t[8]=s=>n.indexPaginates(this.current_page)),mloader:r.mloader},null,8,["crud","Item","medicineCategories","boxSizes","drugCompanies","sizeTypes","mloader"]),p(w,{medicineCategories:r.medicineCategories,boxSizes:r.boxSizes,drugCompanies:r.drugCompanies,sizeTypes:r.sizeTypes,onIndexCategoryActives:t[9]||(t[9]=s=>n.indexCategoryActives()),onIndexCompaniesActives:t[10]||(t[10]=s=>n.indexCompaniesActives()),onIndexBoxSizesActives:t[11]||(t[11]=s=>n.indexBoxSizesActives()),onIndexTypesActives:t[12]||(t[12]=s=>n.indexTypesActives()),onOnCreate:t[13]||(t[13]=s=>n.indexPaginates(this.current_page)),mloader:r.mloader},null,8,["medicineCategories","boxSizes","drugCompanies","sizeTypes","mloader"])]),_:1})}const _e=N(ne,[["render",pe]]);export{_e as default};
