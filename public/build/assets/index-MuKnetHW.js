import{P as f}from"./Page-4XnC08k8.js";import{_ as p,u as m,o as _,b as w,e as s,t as c,h as b,R as v,j as y,A as u,G as L,c as P,w as V,r as h,a as i,n as S}from"./app-e-hkRfMH.js";import{L as $}from"./LoginInput-e0f3CXlZ.js";import{D as E}from"./DefaultInput-nO-G-v5V.js";const I={setup(){return{counterStore:m()}}},U={class:"account-pages my-5 pt-sm-5"},N={class:"container"},k={class:"row justify-content-center"},C={class:"col-md-8 col-lg-6 col-xl-5"},D={class:"card overflow-hidden"},O={class:"bg-primary-subtle"},R={class:"row"},A={class:"col-7"},B={class:"text-primary p-4"},T={class:"text-primary"},x={class:"col-5 align-self-end"},F=["src"],j={class:"card-body pt-0"},G={class:"auth-logo"},z={href:"index.html",class:"auth-logo-light"},J={class:"avatar-md profile-user-wid mb-4"},W={class:"avatar-title rounded-circle bg-light"},Y=["src"],q={href:"index.html",class:"auth-logo-dark"},H={class:"avatar-md profile-user-wid mb-4"},K={class:"avatar-title rounded-circle bg-light"},M=["src"],Q={class:"p-2"},X=s("br",null,null,-1);function Z(r,e,d,a,t,n){return _(),w("div",U,[s("div",N,[s("div",k,[s("div",C,[s("div",D,[s("div",O,[s("div",R,[s("div",A,[s("div",B,[s("h5",T,c(r.$t("YouAreWelcome"))+" !",1),s("p",null,c(r.$t("CreateyourownPharmacy")),1)])]),s("div",x,[s("img",{src:a.counterStore.baseUrl+"/assets/images/profile-img.png",alt:"",class:"img-fluid"},null,8,F)])])]),s("div",j,[s("div",G,[s("a",z,[s("div",J,[s("span",W,[s("img",{src:a.counterStore.baseUrl+"/assets/images/logo-light.svg",alt:"",class:"rounded-circle",height:"34"},null,8,Y)])])]),s("a",q,[s("div",H,[s("span",K,[s("img",{src:a.counterStore.baseUrl+"/assets/images/logo.svg",alt:"",class:"rounded-circle",height:"34"},null,8,M)])])])]),s("div",Q,[b(r.$slots,"default"),X])])])])])])])}const ss=p(I,[["render",Z]]),es={components:{DefaultInput:E,LoginInput:$,Layout:ss,Page:f},setup(){return{counterStore:m()}},data(){return{login:"",password:"",name:"",reset_password:"",isError:!1,Loader:!1,errors:[]}},methods:{async addForm(){try{if(this.errors=[],this.reset_password!=this.password?(this.errors.password=this.$t("PasswordError2"),this.errors.reset_password=this.$t("PasswordError2")):this.password.length<5&&(this.errors.password=this.$t("PasswordError")),this.login.length<5&&(this.errors.login=this.$t("UsernameError")),this.errors.length!=0)return this.isError=!0,this.Loader=!1,console.log("false"),!1;let r={login:this.login,name:this.name,password:this.password};const e=await v(r);if(console.log(e),e.success!=null){if(e.success==200){localStorage.setItem("token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),this.counterStore.updateUser(e.data.user);const d=await y();u("success",this.$t("AccauntCreated")),this.isError=!1,this.Loader=!1,this.$router.push("/login");return}else if(e.success==203){this.errors.login=this.$t("UsernameError2"),this.isError=!0,this.Loader=!1;return}}{u("error",this.$t("formError")),this.isError=!0,this.Loader=!1;return}}catch{this.Loader=!1,this.isError=!0}},async getUserLocal(){await L(),this.$router.push("/")}},mounted(){}},rs=s("br",null,null,-1),ts={class:"mt-3 d-grid"};function os(r,e,d,a,t,n){const l=h("DefaultInput"),g=h("Layout");return _(),P(g,null,{default:V(()=>[i(l,{Label:r.$t("PharmacyName"),Pholder:r.$t("PharmacyName"),Name:"name",Type:"text",Validated:t.errors,Value:t.name,onOnInput:e[0]||(e[0]=o=>(t.name=o,delete this.errors.name))},null,8,["Label","Pholder","Validated","Value"]),i(l,{Label:r.$t("Username"),Pholder:r.$t("Username"),Name:"login",Type:"text",Validated:t.errors,Value:t.login,onOnInput:e[1]||(e[1]=o=>(t.login=o,delete this.errors.login))},null,8,["Label","Pholder","Validated","Value"]),i(l,{Label:r.$t("Password"),Pholder:r.$t("Password"),Name:"password",Type:"password",Validated:t.errors,Value:t.password,onOnInput:e[2]||(e[2]=o=>(t.password=o,delete this.errors.password))},null,8,["Label","Pholder","Validated","Value"]),i(l,{Label:r.$t("ReturnedPassword"),Pholder:r.$t("ReturnedPassword"),Name:"reset_password",Type:"password",Validated:t.errors,Value:t.reset_password,onOnInput:e[3]||(e[3]=o=>(t.reset_password=o,delete this.errors.reset_password))},null,8,["Label","Pholder","Validated","Value"]),rs,s("div",ts,[s("button",{class:S([t.Loader&&"disabled","btn btn-primary waves-effect waves-light"]),onClick:e[4]||(e[4]=(...o)=>n.addForm&&n.addForm(...o)),type:"submit"},"Ro'yxatdan o'tish",2)])]),_:1})}const ds=p(es,[["render",os]]);export{ds as default};
