import{_ as g,u as y,o as l,c as n,a as e,t as i,i as E,j as T,k as S,n as b,L as j,M as B,y as V,A as w,$ as F,aS as O,aT as D,r as c,h as m,b as u,F as z,D as H,E as k,s as h,f as q,w as f}from"./app-0LpGGDjw.js";import{I as A}from"./Input-qRYOmpW5.js";import{I as K}from"./InputDefault-iSTsXjwG.js";import{_ as U}from"./pagination-01.vue_vue_type_style_index_0_lang-dWoveVZW.js";import{M as G}from"./Switch-IzpGzEfA.js";import{L as J}from"./Loader-iMOtN3gY.js";import{T as Q}from"./Table-G06PRo43.js";import{T as R}from"./Page--X10l4un.js";const W={data(){return{order:"asc",search:"",column:"id"}},methods:{getName(t){return y().getName(t)}}},X=t=>(E("data-v-8312236e"),t=t(),T(),t),Y={style:{"grid-template-columns":"70px repeat(6, 1fr)"},class:"grid grid-cols-7 border-b border-stroke dark:border-strokedark sm:grid-cols-7 overflow-x-auto media_header"},Z=X(()=>e("div",{class:"flex items-center justify-center p-2.5 xl:p-5",style:{width:"50px"}},[e("p",{class:"font-medium text-black dark:text-white"})],-1)),$={class:"flex items-center justify-start p-2.5 xl:p-5"},ee={class:"font-medium text-black dark:text-white"},te={class:"flex items-center justify-center p-2.5 xl:p-5"},se={class:"font-medium text-black dark:text-white"},oe={class:"flex items-center justify-center p-2.5 xl:p-5"},re={class:"font-medium text-black dark:text-white"},ae={class:"flex items-center justify-center p-2.5 xl:p-5"},ie={class:"font-medium text-black dark:text-white"},le={class:"flex items-center justify-center p-2.5 xl:p-5"},ne={class:"font-medium text-black dark:text-white"},de={class:"flex items-center justify-center p-2.5 xl:p-5"},ce={class:"font-medium text-black dark:text-white"};function ue(t,o,d,p,r,s){return l(),n("div",Y,[Z,e("div",$,[e("p",ee,i(s.getName("fio")),1)]),e("div",te,[e("p",se,i(s.getName("position")),1)]),e("div",oe,[e("p",re,i(s.getName("login")),1)]),e("div",ae,[e("p",ie,i(s.getName("color")),1)]),e("div",le,[e("p",ne,i(s.getName("serial_number")),1)]),e("div",de,[e("p",ce,i(s.getName("actions")),1)])])}const me=g(W,[["render",ue],["__scopeId","data-v-8312236e"]]),pe={},_e={class:"box"},he={class:"pagination"};function ge(t,o){return l(),n("div",_e,[e("div",he,[S(t.$slots,"default")])])}const fe=g(pe,[["render",ge]]),be={props:{number:{type:Number,default:0},active:{type:Boolean,default:!1},link:{type:String,default:0}}};function xe(t,o,d,p,r,s){return l(),n("a",{class:b([d.active?"active":"","cursor-pointer"])},i(d.number),3)}const we=g(be,[["render",xe]]),ke={components:{Table01:R,Table:Q,Loader:J,ModalLayout:G,Pagination01:U,Input:A,VueAwesomePaginate:j,InputDefault:K,PaginateBtn:we,Paginate:fe,TableHeader:me},data(){return{items:[],search:"",column:"sort_order",order:"asc",paginateCount:10,pagination:{},last_page:0,currentPage:1,password_1:".",password_2:"",ExitModal:!1,isModal:!1,password:"",isPasswordError:!1,reset_password:"",isLoginError:!1,color:"#FFFFFF",errorObj:{},user_id:0,ModelType:"",Item:"",Image:""}},methods:{router(){return B},onClickHandler(t){this.paginate=t,this.currentPage=t,this.getItems()},hasPermission(t){return!!localStorage.getItem("permissions").split(",").includes(t)},onModal(t){this.Item=t,this.Image=t.image[0].url,this.password="",this.reset_password="",this.user_id=t.id,this.isModal=!0},getName(t){return y().getName(t)},openModal(){document.querySelector(".modal").classList.remove("hidden")},testPasswordModal(t){return this.password!=t||this.password==""?this.isPasswordError=!0:this.isPasswordError=!1,this.reset_password=t,this.isPasswordError},async editPassword(){if(this.testPasswordModal(this.reset_password)!=!0){var t={id:this.user_id,password:this.password};const o=await V(t);o.status?(this.isModal=!1,w("success","Update successfully !")):this.errorObj=o.data}},testPassword(t){return this.password_1!=t?(this.isPasswordError=!0,this.ExitModal=!1):(this.isPasswordError=!1,this.ExitModal=!0),this.password_2=t,this.isPasswordError},async getItems(){const t=await F(this.currentPage,this.paginateCount);this.pagination=t.data.pagination,this.last_page=t.data.pagination.last_page,this.current_page=t.data.pagination.currentPage,this.items=t.data.employees},async clickSearch(t,o){this.search=t,this.order=o;var d={search:this.search,order:this.order,column:this.column,paginate:10};const p=await O(d);this.items=p.data.items},async onDelete(t){var o="Вы уверены, что хотите это удалить?";confirm(o)&&(await D(t)).status==!0&&(w("success","Deleted successfully !"),this.getItems())},onSearch(t){this.order=t,this.search()},onPaginate(t){this.paginateCount=t,this.getItems()},hasKey(t){return t in this.errorObj}},mounted(){this.getItems()}},ye={class:"col-span-12 xl:col-span-12"},ve={class:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1"},Pe={class:"mb-6 text-xl font-bold text-black dark:text-white"},Ie={class:"flex flex-col table_media_box"},Me={class:"grid grid-cols-3 rounded-sm mb-2 sm:grid-cols-5 relative media_top_bar"},Ne={selected:"",value:"sort_order"},Ce=e("option",{value:"id"},"Id",-1),Le={value:"name"},Ee={value:"login"},Te={value:"position"},Se={class:"ml-4 flex btn01"},je=["title"],Be=e("path",{fill:"currentColor",d:"M6 17.59L7.41 19L12 14.42L16.59 19L18 17.59l-6-6z"},null,-1),Ve=e("path",{fill:"currentColor",d:"m6 11l1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},null,-1),Fe=[Be,Ve],Oe=["title"],De=e("path",{fill:"currentColor",d:"M18 6.41L16.59 5L12 9.58L7.41 5L6 6.41l6 6z"},null,-1),ze=e("path",{fill:"currentColor",d:"m18 13l-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},null,-1),He=[De,ze],qe={class:"ml-4"},Ae=e("option",{value:"10"},"10",-1),Ke=e("option",{value:"20"},"20",-1),Ue=e("option",{value:"50"},"50",-1),Ge=e("option",{value:"100"},"100",-1),Je=[Ae,Ke,Ue,Ge],Qe={key:0,class:"flex flex-wrap gap-5 xl:gap-20",style:{position:"absolute",right:"0px",top:"0"}},Re={style:{"grid-template-columns":"70px repeat(6, 1fr)"},class:"databes_table grid grid-cols-7 border-b border-stroke dark:border-strokedark sm:grid-cols-7"},We={class:"flex items-center gap-3 p-2.5 xl:p-5 data_table",style:{width:"100px"}},Xe={class:"flex items-center gap-3 p-2.5 xl:p-5 data_table"},Ye={style:{"white-space":"nowrap"},class:"font-medium text-black dark:text-white sm:block"},Ze={class:"flex items-center justify-center p-2.5 xl:p-5 data_table"},$e={class:"font-medium text-black dark:text-white"},et={class:"flex items-center justify-center p-2.5 xl:p-5 data_table"},tt={class:"font-medium text-meta-3"},st={class:"items-center justify-center p-2.5 sm:flex xl:p-5 data_table"},ot={class:"font-medium text-black dark:text-white"},rt={class:"items-center justify-center p-2.5 sm:flex xl:p-5 data_table"},at={class:"font-medium text-meta-5"},it={class:"items-center justify-center p-2.5 sm:flex xl:p-5 data_table"},lt={class:"font-medium text-meta-5"},nt=["onClick"],dt=["onClick"],ct=["onClick"],ut=["onClick"],mt=["onClick"],pt={key:0},_t={key:1},ht={class:"table01"},gt=e("th",null,"ID:   ",-1),ft=["src"];function bt(t,o,d,p,r,s){const v=c("TableHeader"),P=c("Loader"),I=c("vue-awesome-paginate"),M=c("Pagination01"),N=c("Paginate"),x=c("Input"),C=c("ModalLayout");return l(),n("div",ye,[e("div",ve,[e("h4",Pe,i(s.getName("employees")),1),e("div",Ie,[e("div",Me,[e("div",null,[e("input",{type:"text",placeholder:"Search",onInput:o[0]||(o[0]=a=>s.clickSearch(a.target.value,r.order)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},null,32)]),e("div",null,[e("select",{placeholder:"Search",onInput:o[1]||(o[1]=a=>r.column=a.target.value),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},[e("option",Ne,i(s.getName("serial_number")),1),Ce,e("option",Le,i(s.getName("name")),1),e("option",Ee,i(s.getName("login")),1),e("option",Te,i(s.getName("position")),1)],32)]),e("div",Se,[(l(),n("svg",{onClick:o[2]||(o[2]=a=>s.clickSearch(r.search,"asc")),title:s.getName("growth"),class:b(r.order=="asc"?"active":""),xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},Fe,10,je)),(l(),n("svg",{onClick:o[3]||(o[3]=a=>s.clickSearch(r.search,"desc")),class:b(r.order=="desc"?"active":""),title:s.getName("decrease"),xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},He,10,Oe))]),e("div",qe,[e("select",{placeholder:"Search",onInput:o[4]||(o[4]=a=>s.onPaginate(a.target.value)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},Je,32)]),s.hasPermission("Employees-create")?(l(),n("div",Qe,[e("a",{onClick:o[5]||(o[5]=a=>this.$router.push("/employees/create")),class:"cursor-pointer inline-flex items-center justify-center rounded-md bg-primary py-3 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10"},i(s.getName("create")),1)])):m("",!0)]),u(v),(l(!0),n(z,null,H(r.items,(a,L)=>(l(),n("div",Re,[e("div",We,[e("div",{class:"photo-img",style:k("background-image: url("+a.image[0].url+")")},null,4)]),e("div",Xe,[e("p",Ye,i(L+1)+". "+i(a.name),1)]),e("div",Ze,[e("p",$e,i(a.position),1)]),e("div",et,[e("p",tt,i(a.login),1)]),e("div",st,[e("p",ot,[e("div",{style:k([{width:"40px",height:"20px"},"background:"+a.color])},null,4)])]),e("div",rt,[e("p",at,i(a.sort_order),1)]),e("div",it,[e("p",lt,[s.hasPermission("Employees-update")?(l(),n("i",{key:0,onClick:_=>this.$router.push({path:"/employees/update",query:{id:a.id}}),class:"fa-solid setting-icon fa-pen-to-square"},null,8,nt)):m("",!0),h("   "),e("i",{onClick:_=>(s.onModal(a),r.ModelType="show"),class:"fa-solid setting-icon fa-eye"},null,8,dt),h("   "),s.hasPermission("Employees-editPassword")?(l(),n("i",{key:1,onClick:_=>(s.onModal(a),r.ModelType="password"),class:"fa-solid setting-icon fa-key"},null,8,ct)):m("",!0),h("   "),e("i",{onClick:_=>this.$router.push({path:"/employees/calendar",query:{id:a.id}}),class:"fa-solid fa-calendar-days setting-icon"},null,8,ut),h("   "),s.hasPermission("Employees-delete")?(l(),n("i",{key:2,onClick:_=>s.onDelete(a.id),class:"fa-solid text-danger fa-trash setting-icon"},null,8,mt)):m("",!0)])])]))),256)),r.items.length==0&&r.search==""?(l(),q(P,{key:0})):m("",!0),u(N,null,{default:f(()=>[u(M,null,{default:f(()=>[u(I,{"total-items":r.last_page,"items-per-page":1,"max-pages-shown":1,modelValue:r.currentPage,"onUpdate:modelValue":o[6]||(o[6]=a=>r.currentPage=a),"on-click":s.onClickHandler},null,8,["total-items","modelValue","on-click"])]),_:1})]),_:1})])]),u(C,{onOnButton:s.editPassword,isModal:r.isModal,onCloseModal:o[9]||(o[9]=a=>r.isModal=a),Title:r.ModelType=="password"?s.getName("edit_password"):r.Item.name,isSubmit:r.ModelType!="show"},{default:f(()=>[r.ModelType=="password"?(l(),n("span",pt,[u(x,{Label:s.getName("password"),onOnInput:o[7]||(o[7]=a=>r.password=a),Type:"password",isError:s.hasKey("password"),message:r.errorObj.password,Pholder:"password"},null,8,["Label","isError","message"]),u(x,{Label:s.getName("reset_password"),onOnInput:o[8]||(o[8]=a=>s.testPasswordModal(a)),isError:r.isPasswordError,Type:"password",Value:r.reset_password,message:"The password is not the same",Pholder:"reset password"},null,8,["Label","isError","Value"])])):(l(),n("span",_t,[e("table",ht,[e("tr",null,[gt,e("td",null,i(r.Item.id),1)]),e("tr",null,[e("th",null,i(s.getName("name"))+":   ",1),e("td",null,i(r.Item.name),1)]),e("tr",null,[e("th",null,i(s.getName("login"))+":   ",1),e("td",null,i(r.Item.login),1)]),e("tr",null,[e("th",null,i(s.getName("position"))+":   ",1),e("td",null,i(r.Item.position),1)]),e("tr",null,[e("th",null,i(s.getName("image"))+":   ",1),e("td",null,[e("img",{src:r.Image,width:"100px"},null,8,ft)])])])]))]),_:1},8,["onOnButton","isModal","Title","isSubmit"])])}const Nt=g(ke,[["render",bt]]);export{Nt as T};
