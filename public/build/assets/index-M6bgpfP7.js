import{a as $,b as k,P as x}from"./Page-WY9jM6QH.js";import{_ as I,M as N,u as v,bZ as T,J as m,b_ as L,A as p,bY as M,c as d,w as c,r as s,o as i,e as t,a as g,t as o,i as A,b as f,d as E,g as h,F as G}from"./app-NOWLkVVR.js";import{B as V}from"./BasicTable-BPH9PCc1.js";import{G as z}from"./GrowingLoader-naN9lJFn.js";import{P as R}from"./PrimaryIconBtn-iSQma8Yq.js";import{D as F}from"./DefaultInput-3ATS3cy3.js";import{P as q}from"./Paginate-Y51O1NaA.js";import{D as J}from"./DefaultSelect-M0WKtz1z.js";const O={components:{DefaultSelect:J,Paginate:q,DefaultInput:F,PrimaryBtn:$,ModalCentered:N,PrimaryIconBtn:R,PrimaryButton:k,GrowingLoader:z,BasicTable:V,Page:x},setup(){return{counterStore:v()}},data(){return{items:[],item:[],boxItem:[],paginateCount:10,last_page:1,current_page:1,boxLast_page:1,boxCurrent_page:1,column:"id",type:"desc",errors:[],loader:!1,boxLoader:!1,boxItems:[]}},methods:{async indexPaginates(e=1,a=!0){try{this.loader=a;const n=await T(this.paginateCount,e);n.status&&(this.current_page=n.data.pagination.current_page,this.last_page=n.data.pagination.last_page,this.items=n.data.items),this.loader=!1}catch(n){m(this,n)}},async search(e=""){try{if(this.loader=!0,e=="")return this.indexPaginates(),!0;const a=await L(e);return this.items=a.data,this.loader=!1,a.status?(this.loader=!1,!0):(p("error",this.$t("formError")),this.loader=!1,!1)}catch(a){return m(this,a),this.loader=!1,!1}},async delete(e){try{if(!confirm(this.$t("DeleteAlert")))return!1;if((await M(e)).status){this.indexPaginates(this.current_page),p("success",this.$t("delete"));return}return p("error",this.$t("formError")),!1}catch(a){return m(this,a),!1}}},mounted(){this.indexPaginates()}},Y={class:"row"},Z={value:"10",selected:""},j=t("option",{value:"10"},"10",-1),H=t("option",{value:"20"},"20",-1),K=t("option",{value:"50"},"50",-1),Q=t("option",{value:"100"},"100",-1),U={class:"m-0"},W={class:"font-size-10 m-0"};function X(e,a,n,l,u,b){const P=s("DefaultSelect"),_=s("PrimaryIconBtn"),y=s("Paginate"),C=s("GrowingLoader"),S=s("BasicTable"),B=s("Page");return i(),d(B,{Title:""},{default:c(()=>[t("div",Y,[g(S,{Th:[e.$t("No"),e.$t("MedicineName"),e.$t("Supplier"),e.$t("ImportedMedicinesDate"),e.$t("ReturnedDate"),e.$t("BoxSize"),e.$t("Amount"),e.$t("BuyPrice"),e.$t("Subtotal"),e.$t("Settings")],Title:e.$t("ReturnedMedicines"),Col:"col-lg-12"},{inputs:c(()=>[g(P,{Label:"",Class:"col-lg-2 col-sm-2",onOnInput:a[0]||(a[0]=r=>(this.paginateCount=r,this.indexPaginates()))},{default:c(()=>[t("option",Z,o(e.$t("NumberDownloads")),1),j,H,K,Q]),_:1}),A("   ")]),buttons:c(()=>[]),default:c(()=>[(i(!0),f(G,null,E(u.items,(r,D)=>(i(),f("tr",null,[t("td",null,o((u.current_page-1)*u.paginateCount+D+1),1),t("td",null,[t("p",U,o(r.medicine.name),1),t("p",W,o(r.medicine.generic_name),1)]),t("td",null,o(r.supplier.name),1),t("td",null,o(r.document.date),1),t("td",null,o(l.counterStore.formatDate(r.document.updated_at)),1),t("td",null,o(r.box_size.name),1),t("td",null,o(l.counterStore.formatNumber(r.amount)),1),t("td",null,o(l.counterStore.formatNumber(r.buy_price))+" "+o(r.currency.sign),1),t("td",null,o(l.counterStore.formatNumber(r.total_cost))+" "+o(r.currency.sign),1),t("td",null,[g(_,{onClick:w=>this.$router.push({path:"/admin/document/show",query:{id:r.document_id}}),Icon:"bx bx-show"},null,8,["onClick"]),l.counterStore.hasRole("MedicineCategories-delete")?(i(),d(_,{key:0,onClick:w=>this.delete(r.id),class:"bg-danger border-danger",Icon:"bx bx-trash-alt"},null,8,["onClick"])):h("",!0)])]))),256)),u.last_page!=1?(i(),d(y,{key:0,Cols:"10",currentPage:this.current_page,totalPages:this.last_page,onChangePage:a[1]||(a[1]=r=>b.indexPaginates(r))},null,8,["currentPage","totalPages"])):h("",!0),u.loader?(i(),d(C,{key:1,Cols:"10"})):h("",!0)]),_:1},8,["Th","Title"])])]),_:1})}const le=I(O,[["render",X]]);export{le as default};
