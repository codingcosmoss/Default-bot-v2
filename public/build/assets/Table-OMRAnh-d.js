import{_ as g,u as x,o as n,c as l,a as e,t as i,n as h,L as j,M as V,aU as D,aV as O,aW as B,A as f,aX as T,aY as E,aZ as U,r as d,h as p,b as c,F as b,D as z,E as H,s as A,f as K,w as _}from"./app-TemNFbnf.js";import{S as F,M as q}from"./Switch-ytQAvUOl.js";import{I as W}from"./Input-FG7ZHoFJ.js";import{I as X}from"./InputDefault-tLeF0Vsp.js";import{S as Y}from"./Select-2LcnBieZ.js";import{I as Z}from"./InputColor-d1VPOoHj.js";import{P as G}from"./paginate-OCobNe55.js";import{L as J}from"./Loader-rZq7vIO3.js";const Q={data(){return{order:"asc",search:"",column:"id"}},methods:{getName(s){return x().getName(s)}}},R={class:"grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table overflow-x-auto"},$={class:"flex items-center justify-center p-2.5 xl:p-5"},ee={class:"font-medium text-black dark:text-white"},te={class:"flex items-center justify-center p-2.5 xl:p-5"},se={class:"font-medium text-black dark:text-white"},ae={class:"flex items-center justify-center p-2.5 xl:p-5"},re={class:"font-medium text-black dark:text-white"},oe={class:"flex items-center justify-center p-2.5 xl:p-5"},ie={class:"font-medium text-black dark:text-white"},ne={class:"flex items-center justify-center p-2.5 xl:p-5"},le={class:"font-medium text-black dark:text-white"};function de(s,t,u,m,o,a){return n(),l("div",R,[e("div",$,[e("p",ee,i(a.getName("name_content")),1)]),e("div",te,[e("p",se,i(a.getName("color")),1)]),e("div",ae,[e("p",re,i(a.getName("Patients")),1)]),e("div",oe,[e("p",ie,i(a.getName("status")),1)]),e("div",ne,[e("p",le,i(a.getName("actions")),1)])])}const ce=g(Q,[["render",de],["__scopeId","data-v-607b03dc"]]),ue={props:{number:{type:Number,default:0},active:{type:Boolean,default:!1},link:{type:String,default:0}}};function me(s,t,u,m,o,a){return n(),l("a",{class:h([u.active?"active":"","cursor-pointer"])},i(u.number),3)}const pe=g(ue,[["render",me]]),he={components:{Loader:J,Paginate:G,Input:W,Switch:F,InputColor:Z,Select:Y,ModalLayout:q,VueAwesomePaginate:j,InputDefault:X,PaginateBtn:pe,TableHeader:ce},data(){return{items:[],search:"",column:"updated_at",order:"asc",paginateCount:10,pagination:{},last_page:0,currentPage:1,ExitModal:!1,errorObj:{},isModal:!1,crud:"",name:"",color:"#000000",status:!0}},methods:{router(){return V},onModal(s){s==null?(this.crud="created",this.name="",this.status=!1):(this.crud="",this.UpdatedId=s,this.getModel()),this.errorObj={},this.isModal=!0},async getModel(){const s=await D(this.UpdatedId);this.name=s.data.name,this.color=s.data.color,this.status=s.data.status},async crudPatient(){this.status==1?this.status=!0:(this.status=0)&&(this.status=!1);var s={name:this.name,color:this.color,status:this.status},t="";this.crud=="created"?t=await O(s):t=await B(this.UpdatedId,s),console.log(t),t.status?(this.name="",this.color="#000000",this.UpdatedId=null,this.isModal=!1,this.getItems(),f("success","Created successfully !")):this.errorObj=t.data},onClickHandler(s){this.paginate=s,this.currentPage=s,this.getItems()},getName(s){return x().getName(s)},async getItems(){const s=await T(this.currentPage,this.paginateCount);this.pagination=s.data.pagination,this.last_page=s.data.pagination.last_page,this.current_page=s.data.pagination.currentPage,this.items=s.data.items},async clickSearch(s,t){this.search=s,this.order=t;var u={search:this.search,order:this.order,column:this.column,paginate:this.paginateCount};const m=await E(u);this.items=m.data.items},async onDelete(s){var t="Вы уверены, что хотите это удалить?";confirm(t)&&(await U(s)).status==!0&&(f("success","Deleted successfully !"),this.getItems())},onSearch(s){this.order=s,this.search()},onPaginate(s){this.paginateCount=s,this.getItems()},hasKey(s){return s in this.errorObj},hasPermission(s){return!!localStorage.getItem("permissions").split(",").includes(s)}},mounted(){this.getItems()}},_e={class:"col-span-12 xl:col-span-12"},ge={class:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1"},fe={class:"mb-6 text-xl font-bold text-black dark:text-white"},be={class:"flex flex-col table_media_box"},xe={class:"grid grid-cols-3 rounded-sm mb-2 sm:grid-cols-5 relative media_top_bar"},ke=e("option",{value:"id"},"Id",-1),ve={value:"name"},we={class:"ml-4 flex btn01"},ye=["title"],Ce=e("path",{fill:"currentColor",d:"M6 17.59L7.41 19L12 14.42L16.59 19L18 17.59l-6-6z"},null,-1),Ie=e("path",{fill:"currentColor",d:"m6 11l1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},null,-1),Le=[Ce,Ie],Ne=["title"],Pe=e("path",{fill:"currentColor",d:"M18 6.41L16.59 5L12 9.58L7.41 5L6 6.41l6 6z"},null,-1),Se=e("path",{fill:"currentColor",d:"m18 13l-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},null,-1),Me=[Pe,Se],je={class:"ml-4"},Ve=e("option",{value:"10"},"10",-1),De=e("option",{value:"20"},"20",-1),Oe=e("option",{value:"50"},"50",-1),Be=e("option",{value:"100"},"100",-1),Te=[Ve,De,Oe,Be],Ee={key:0,class:"flex flex-wrap gap-5 xl:gap-20",style:{position:"absolute",right:"0px",top:"0"}},Ue={class:"databes_table grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table"},ze={class:"flex items-center gap-3 p-2.5 xl:p-5"},He={class:"font-medium text-black dark:text-white sm:block"},Ae={class:"flex items-center justify-center p-2.5 sm:flex xl:p-5"},Ke={class:"font-medium text-black dark:text-white"},Fe={class:"flex items-center justify-center p-2.5 xl:p-5"},qe={class:"font-medium text-black dark:text-white"},We={class:"flex items-center justify-center p-2.5 xl:p-5"},Xe={class:"flex items-center justify-center p-2.5 sm:flex xl:p-5"},Ye={class:"font-medium text-meta-5"},Ze=["onClick"],Ge=["onClick"];function Je(s,t,u,m,o,a){const k=d("TableHeader"),v=d("Loader"),w=d("vue-awesome-paginate"),y=d("Pagination01"),C=d("Paginate"),I=d("Input"),L=d("InputColor"),N=d("Switch"),P=d("ModalLayout");return n(),l(b,null,[e("div",_e,[e("div",ge,[e("h4",fe,i(a.getName("diseases")),1),e("div",be,[e("div",xe,[e("div",null,[e("input",{type:"text",placeholder:"Search",onInput:t[0]||(t[0]=r=>a.clickSearch(r.target.value,o.order)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},null,32)]),e("div",null,[e("select",{placeholder:"Search",onInput:t[1]||(t[1]=r=>o.column=r.target.value),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},[ke,e("option",ve,i(a.getName("name")),1)],32)]),e("div",we,[(n(),l("svg",{onClick:t[2]||(t[2]=r=>a.clickSearch(o.search,"asc")),title:a.getName("growth"),class:h(o.order=="asc"?"active":""),xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},Le,10,ye)),(n(),l("svg",{onClick:t[3]||(t[3]=r=>a.clickSearch(o.search,"desc")),class:h(o.order=="desc"?"active":""),title:a.getName("decrease"),xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},Me,10,Ne))]),e("div",je,[e("select",{placeholder:"Search",onInput:t[4]||(t[4]=r=>a.onPaginate(r.target.value)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},Te,32)]),a.hasPermission("Diseases-create")?(n(),l("div",Ee,[e("a",{onClick:t[5]||(t[5]=r=>a.onModal(null)),class:"cursor-pointer inline-flex items-center justify-center rounded-md bg-primary py-3 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10"},i(a.getName("create")),1)])):p("",!0)]),c(k),(n(!0),l(b,null,z(o.items,(r,S)=>(n(),l("div",Ue,[e("div",ze,[e("p",He,i(S+1)+". "+i(r.name),1)]),e("div",Ae,[e("p",Ke,[e("div",{style:H([{width:"40px",height:"20px"},"background:"+r.color])},null,4)])]),e("div",Fe,[e("p",qe,i(r.patients),1)]),e("div",We,[e("div",null,[e("p",{class:h(["dark:text-white status-text",r.status==1?"active":"inactive"])},i(r.status?"active":"inactive"),3)])]),e("div",Xe,[e("p",Ye,[a.hasPermission("Diseases-update")?(n(),l("i",{key:0,onClick:M=>a.onModal(r.id),class:"fa-solid setting-icon fa-pen-to-square"},null,8,Ze)):p("",!0),A("   "),a.hasPermission("Diseases-delete")?(n(),l("i",{key:1,onClick:M=>a.onDelete(r.id),class:"fa-solid text-danger fa-trash setting-icon"},null,8,Ge)):p("",!0)])])]))),256)),o.items.length==0&&o.search==""?(n(),K(v,{key:0})):p("",!0),c(C,null,{default:_(()=>[c(y,null,{default:_(()=>[c(w,{"total-items":o.last_page,"items-per-page":1,"max-pages-shown":1,modelValue:o.currentPage,"onUpdate:modelValue":t[6]||(t[6]=r=>o.currentPage=r),"on-click":a.onClickHandler},null,8,["total-items","modelValue","on-click"])]),_:1})]),_:1})])])]),c(P,{onOnButton:t[10]||(t[10]=r=>a.crudPatient()),isModal:o.isModal,onCloseModal:t[11]||(t[11]=r=>o.isModal=!1),Title:o.crud=="created"?a.getName("create"):a.getName("update")},{default:_(()=>[c(I,{Label:a.getName("name_content"),onOnInput:t[7]||(t[7]=r=>o.name=r),isError:a.hasKey("name"),message:o.errorObj.name,Value:o.name},null,8,["Label","isError","message","Value"]),c(L,{Type:"color",Couple:!1,Label:a.getName("color"),onOnInput:t[8]||(t[8]=r=>o.color=r),isError:a.hasKey("color"),message:o.errorObj.color,Value:o.color},null,8,["Label","isError","message","Value"]),c(N,{isSwitch:o.status==1,onOnClick:t[9]||(t[9]=r=>o.status=r)},null,8,["isSwitch"])]),_:1},8,["isModal","Title"])],64)}const ot=g(he,[["render",Je]]);export{ot as T};
