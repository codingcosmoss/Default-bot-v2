import{P as M}from"./Page-8n99lQGG.js";import{_,u as v,o as l,c as u,a as r,t as m,k as T,n as D,X as A,A as k,r as i,f as N,w as p,b as n,V as K,W,L as H,M as F,bj as q,bk as R,bl as z,bd as X,bm as G,bn as J,h as x,F as L,D as Q,s as O}from"./app-TemNFbnf.js";import{I as Y}from"./InputDefault-tLeF0Vsp.js";import{_ as Z}from"./pagination-01.vue_vue_type_style_index_0_lang-ZvTme92P.js";import{S as P,M as I}from"./Switch-ytQAvUOl.js";import{S as C}from"./Select-2LcnBieZ.js";import{I as w}from"./Input-kd4mt6Nc.js";import{L as $}from"./Loader-rZq7vIO3.js";import{W as ee}from"./WarehouseTopbar-ZNY-viIW.js";import{T as te}from"./Table-OMRAnh-d.js";import{I as se}from"./Input01-nqTv5NXN.js";import{T as ae}from"./Textarea-2uEfp-ul.js";import"./Input-FG7ZHoFJ.js";import"./InputColor-d1VPOoHj.js";import"./paginate-OCobNe55.js";const re={data(){return{order:"asc",search:"",column:"id"}},methods:{getName(e){return v().getName(e)}}},oe={class:"grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table overflow-x-auto"},ne={class:"flex items-center justify-content-end p-2.5 xl:p-5"},ie={class:"font-medium text-black dark:text-white"},le={class:"flex items-center justify-center p-2.5 xl:p-5"},de={class:"font-medium text-black dark:text-white"},ce={class:"flex items-center justify-center p-2.5 xl:p-5"},ue={class:"font-medium text-black dark:text-white"},me={class:"flex items-center justify-center p-2.5 xl:p-5"},pe={class:"font-medium text-black dark:text-white"};function he(e,t,d,h,a,s){return l(),u("div",oe,[r("div",ne,[r("p",ie,m(s.getName("name_content")),1)]),r("div",le,[r("p",de,m(s.getName("price")),1)]),r("div",ce,[r("p",ue,m(s.getName("Created_at")),1)]),r("div",me,[r("p",pe,m(s.getName("actions")),1)])])}const ge=_(re,[["render",he],["__scopeId","data-v-781e9588"]]),_e={},fe={class:"box"},be={class:"pagination"};function ye(e,t){return l(),u("div",fe,[r("div",be,[T(e.$slots,"default")])])}const xe=_(_e,[["render",ye]]),ke={props:{number:{type:Number,default:0},active:{type:Boolean,default:!1},link:{type:String,default:0}}};function ve(e,t,d,h,a,s){return l(),u("a",{class:D([d.active?"active":"","cursor-pointer"])},m(d.number),3)}const Ne=_(ke,[["render",ve]]),Me={components:{Switch:P,Input:w,Select:C,ModalLayout:I,Page:M},data(){return{status:1,categoryName:"",errorObj:{}}},props:{isCreateModal:{type:Boolean,default:!1},isUpdateModal:{type:Boolean,default:!1}},methods:{getName(e){return v().getName(e)},hasKey(e){return e in this.errorObj},async createCategory(){var e={name:this.categoryName,status:this.status};const t=await A(e);console.log(t),t.status?(this.categoryName="",this.$emit("closeModal",!1),this.$emit("Created",!0),k("success","Created successfully !")):this.errorObj=t.data}}},Ie=r("option",{value:1}," Active",-1),Ce=r("option",{value:0}," Inactive",-1);function we(e,t,d,h,a,s){const f=i("Input"),b=i("Select"),y=i("ModalLayout");return l(),N(y,{onOnButton:s.createCategory,isModal:d.isCreateModal,onCloseModal:t[2]||(t[2]=c=>this.$emit("closeModal",c)),Title:s.getName("create")},{default:p(()=>[n(f,{Label:s.getName("name_content"),onOnInput:t[0]||(t[0]=c=>a.categoryName=c),isError:s.hasKey("name"),message:a.errorObj.name,Value:a.categoryName},null,8,["Label","isError","message","Value"]),n(b,{Label:s.getName("status"),onOnSelect:t[1]||(t[1]=c=>this.status=c)},{default:p(()=>[Ie,Ce]),_:1},8,["Label"])]),_:1},8,["onOnButton","isModal","Title"])}const Le=_(Me,[["render",we]]),Oe={components:{Input:w,Select:C,ModalLayout:I,Page:M},data(){return{status:1,categoryName:"",errorObj:{}}},props:{isUpdateModal:{type:Boolean,default:!1},Updated_Id:{type:Number,default:0}},methods:{getName(e){return v().getName(e)},hasKey(e){return e in this.errorObj},async getModel(){console.log(this.isUpdateModal);const e=await K(this.Updated_Id);this.categoryName=e.data.name,this.status=e.data.status},async updateCategory(){var e={name:this.categoryName,status:this.status};const t=await W(this.Updated_Id,e);t.status?(this.categoryName="",this.$emit("closeModal",!1),this.$emit("Created",!0),k("success","Update successfully !")):this.errorObj=t.data}},watch:{Updated_Id:function(e,t){this.getModel()}}},Pe=["selected"],Ve=["selected"];function je(e,t,d,h,a,s){const f=i("Input"),b=i("Select"),y=i("ModalLayout");return l(),N(y,{onOnButton:s.updateCategory,isModal:d.isUpdateModal,onCloseModal:t[2]||(t[2]=c=>this.$emit("closeUpdatedModal",!1)),Title:s.getName("update")},{default:p(()=>[n(f,{Label:s.getName("name_content"),onOnInput:t[0]||(t[0]=c=>a.categoryName=c),isError:s.hasKey("name"),message:a.errorObj.name,Value:a.categoryName},null,8,["Label","isError","message","Value"]),n(b,{Label:s.getName("status"),onOnSelect:t[1]||(t[1]=c=>a.status=c)},{default:p(()=>[r("option",{selected:a.status==1,value:1}," Active",8,Pe),r("option",{selected:a.status!=1,value:0}," Inactive",8,Ve)]),_:1},8,["Label"])]),_:1},8,["onOnButton","isModal","Title"])}const Ee=_(Oe,[["render",je]]),Be={components:{Textarea:ae,Input01:se,Table:te,WarehouseTopbar:ee,Loader:$,Switch:P,Select:C,Input:w,CreateForm:Le,ModalLayout:I,Pagination01:Z,UpdateForm:Ee,VueAwesomePaginate:H,InputDefault:Y,PaginateBtn:Ne,Paginate:xe,TableHeader:ge},data(){return{items:[],search:"",column:"updated_at",isError:"",order:"asc",paginateCount:10,pagination:{},last_page:0,currentPage:1,UpdatedId:0,isModal:!1,ExitModal:!1,Name:"",errorObj:{},crud:"",Suppliers:[],Bin:"",Phone:"",Email:"",Address:"",ContactPerson:"",BankDetails:""}},methods:{router(){return F},closeModal(){this.cleaningVarables(),this.isModal=!1,this.isError=[],this.Summ=0},onClickHandler(e){this.paginate=e,this.currentPage=e,this.getItems()},onModal(e){e==null?(this.crud="created",this.Name=""):(this.crud="",this.UpdatedId=e,this.getModel()),this.errorObj={},this.isModal=!0},async getModel(){const e=await q(this.UpdatedId);this.Name=e.data.name,this.Bin=e.data.bin,this.Phone=e.data.phone,this.Email=e.data.email,this.Address=e.data.address,this.ContactPerson=e.data.contact_person,this.BankDetails=e.data.bank_details},onUpdateModal(e){this.UpdatedId=e,this.isUpdateModal=!0},hasKey(e){return e in this.errorObj},async CRUD(){var e={name:this.Name,bin:this.Bin,phone:this.Phone,email:this.Email,address:this.Address,contact_person:this.ContactPerson,bank_details:this.BankDetails},t="";this.crud=="created"?t=await R(e):t=await z(this.UpdatedId,e),t.status?(this.cleaningVarables(),this.closeModal(),this.isModal=!1,this.getItems(),k("success","Created successfully !")):(this.errorObj=t.data,console.log(t))},cleaningVarables(){this.Name="",this.Bin="",this.Phone="",this.Email="",this.Address="",this.ContactPerson="",this.BankDetails=""},getName(e){return v().getName(e)},openModal(){document.querySelector(".modal").classList.remove("hidden")},async getItems(){const e=await X(this.currentPage,this.paginateCount);this.pagination=e.data.pagination,this.last_page=e.data.pagination.last_page,this.current_page=e.data.pagination.currentPage,this.items=e.data.items},async clickSearch(e,t){if(this.search=e,this.order=t,e!=""){var d={search:this.search,order:this.order,column:this.column,paginate:this.paginateCount};const h=await G(d);console.log(h),this.items=h.data.items}else this.getItems()},async onDelete(e){var t="Вы уверены, что хотите это удалить?";confirm(t)&&(await J(e)).status==!0&&(k("success","Deleted successfully !"),this.getItems())},onPaginate(e){this.paginateCount=e,this.getItems()},hasPermission(e){return!!localStorage.getItem("permissions").split(",").includes(e)}},mounted(){this.getItems()}},Se={class:"col-span-12 xl:col-span-12"},Ue={class:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1"},Te={class:"flex flex-col table_media_box"},De={class:"grid grid-cols-3 rounded-sm mb-2 sm:grid-cols-5 relative media_top_bar"},Ae={class:"ml-4"},Ke=r("option",{value:"10"},"10",-1),We=r("option",{value:"20"},"20",-1),He=r("option",{value:"50"},"50",-1),Fe=r("option",{value:"100"},"100",-1),qe=[Ke,We,He,Fe],Re={key:0,class:"flex flex-wrap gap-5 xl:gap-20",style:{position:"absolute",right:"0px",top:"0"}},ze={class:"grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table"},Xe={class:"flex justify-content-end gap-3 p-2.5 xl:p-5"},Ge={class:"font-bold text-black dark:text-white sm:block cursor-pointer",style:{color:"#0a91f1"}},Je=r("div",{class:"flex items-center justify-center p-2.5 xl:p-5"},[r("p",{class:"font-medium text-black dark:text-white"}," (not fount) ")],-1),Qe=r("div",{class:"flex items-center justify-center p-2.5 xl:p-5"},[r("p",{class:"font-medium text-black dark:text-white"}," (not fount) ")],-1),Ye={class:"flex items-center justify-center p-2.5 sm:flex xl:p-5"},Ze={class:"font-medium text-meta-5"},$e=["onClick"],et=["onClick"];function tt(e,t,d,h,a,s){const f=i("WarehouseTopbar"),b=i("TableHeader"),y=i("Loader"),c=i("vue-awesome-paginate"),V=i("Pagination01"),j=i("Paginate"),g=i("Input"),E=i("Textarea"),B=i("ModalLayout");return l(),u(L,null,[r("div",Se,[r("div",Ue,[n(f),r("div",Te,[r("div",De,[r("div",null,[r("input",{type:"text",placeholder:"Search",onInput:t[0]||(t[0]=o=>s.clickSearch(o.target.value,a.order)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},null,32)]),r("div",Ae,[r("select",{placeholder:"Search",onInput:t[1]||(t[1]=o=>s.onPaginate(o.target.value)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},qe,32)]),s.hasPermission("Warehouse-create")?(l(),u("div",Re,[r("span",{onClick:t[2]||(t[2]=o=>s.onModal(null)),class:"cursor-pointer inline-flex items-center justify-center rounded-md bg-primary py-3 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10"},m(s.getName("create")),1)])):x("",!0)]),n(b),(l(!0),u(L,null,Q(a.items,(o,S)=>(l(),u("div",ze,[r("div",Xe,[O(m(S+1)+". ",1),r("p",Ge,m(o.name),1)]),Je,Qe,r("div",Ye,[r("p",Ze,[s.hasPermission("Warehouse-update")?(l(),u("i",{key:0,onClick:U=>s.onModal(o.id),class:"fa-solid setting-icon fa-pen-to-square"},null,8,$e)):x("",!0),O("   "),s.hasPermission("Warehouse-delete")?(l(),u("i",{key:1,onClick:U=>s.onDelete(o.id),class:"fa-solid text-danger fa-trash setting-icon"},null,8,et)):x("",!0)])])]))),256)),a.items.length==0&&a.search==""?(l(),N(y,{key:0})):x("",!0),n(j,null,{default:p(()=>[n(V,null,{default:p(()=>[n(c,{"total-items":a.last_page,"items-per-page":1,"max-pages-shown":1,modelValue:a.currentPage,"onUpdate:modelValue":t[3]||(t[3]=o=>a.currentPage=o),"on-click":s.onClickHandler},null,8,["total-items","modelValue","on-click"])]),_:1})]),_:1})])])]),n(B,{onOnButton:t[11]||(t[11]=o=>s.CRUD()),isModal:a.isModal,onCloseModal:t[12]||(t[12]=o=>s.closeModal()),Title:a.crud=="created"?s.getName("create"):s.getName("update")},{default:p(()=>[n(g,{Label:s.getName("name_content"),onOnInput:t[4]||(t[4]=o=>a.Name=o),isError:s.hasKey("name"),message:a.errorObj.name,Value:a.Name},null,8,["Label","isError","message","Value"]),n(g,{Label:s.getName("Bin"),onOnInput:t[5]||(t[5]=o=>a.Bin=o),isError:s.hasKey("bin"),message:a.errorObj.bin,Value:a.Bin},null,8,["Label","isError","message","Value"]),n(g,{Label:s.getName("phone"),onOnInput:t[6]||(t[6]=o=>a.Phone=o),isError:s.hasKey("phone"),message:a.errorObj.phone,Value:a.Phone},null,8,["Label","isError","message","Value"]),n(g,{Label:s.getName("Email"),onOnInput:t[7]||(t[7]=o=>a.Email=o),isError:s.hasKey("email"),message:a.errorObj.email,Value:a.Email},null,8,["Label","isError","message","Value"]),n(g,{Label:s.getName("Address"),onOnInput:t[8]||(t[8]=o=>a.Address=o),isError:s.hasKey("address"),message:a.errorObj.address,Value:a.Address},null,8,["Label","isError","message","Value"]),n(g,{Label:s.getName("ContactPerson"),onOnInput:t[9]||(t[9]=o=>a.ContactPerson=o),isError:s.hasKey("contact_person"),message:a.errorObj.contact_person,Value:a.ContactPerson},null,8,["Label","isError","message","Value"]),n(E,{Label:s.getName("BankDetails"),onOnInput:t[10]||(t[10]=o=>a.BankDetails=o),isError:s.hasKey("bank_details"),message:a.errorObj.bank_details,Value:a.BankDetails},null,8,["Label","isError","message","Value"])]),_:1},8,["isModal","Title"])],64)}const st=_(Be,[["render",tt]]),bt={__name:"index",setup(e){return(t,d)=>(l(),N(M,{Animation:!1},{default:p(()=>[n(st)]),_:1}))}};export{bt as default};
