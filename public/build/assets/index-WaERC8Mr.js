import{a as w,b as x,P as D}from"./Page-C0EjvpJs.js";import{_ as N,M as T,u as v,ck as k,J as c,cf as L,A as d,bz as $,c as m,w as u,r as i,o as l,e as a,a as g,t as o,i as A,b as _,d as I,a0 as E,F as G,g as f}from"./app-LAVUBCmT.js";import{B as M}from"./BasicTable-JnKeluBY.js";import{G as V}from"./GrowingLoader-zbPptTlk.js";import{P as z}from"./PrimaryIconBtn-_sGNmi7d.js";import{D as F}from"./DefaultInput-fCD-8529.js";import{P as J}from"./Paginate-84yQUtA5.js";import{D as O}from"./DefaultSelect-dPDJB3o4.js";const j={components:{DefaultSelect:O,Paginate:J,DefaultInput:F,PrimaryBtn:w,ModalCentered:T,PrimaryIconBtn:z,PrimaryButton:x,GrowingLoader:V,BasicTable:M,Page:D},setup(){return{counterStore:v()}},data(){return{items:[],item:[],boxItem:[],paginateCount:10,last_page:1,current_page:1,boxLast_page:1,boxCurrent_page:1,column:"id",type:"desc",errors:[],loader:!1,boxLoader:!1,boxItems:[]}},methods:{async indexPaginates(e=1,t=!0){try{this.loader=t;const r=await k(this.paginateCount,e);r.status&&(this.current_page=r.data.pagination.current_page,this.last_page=r.data.pagination.last_page,this.items=r.data.items.data),this.loader=!1}catch(r){c(this,r)}},async search(e=""){try{if(this.loader=!0,e=="")return this.indexPaginates(),!0;const t=await L(e);return this.items=t.data,this.loader=!1,t.status?(this.loader=!1,!0):(d("error",this.$t("formError")),this.loader=!1,!1)}catch(t){return c(this,t),this.loader=!1,!1}},async delete(e){try{if(!confirm(this.$t("DeleteAlert")))return!1;if((await $(e)).status){this.indexPaginates(this.current_page),d("success",this.$t("delete"));return}return d("error",this.$t("formError")),!1}catch(t){return c(this,t),!1}}},mounted(){this.indexPaginates()}},q={class:"row"},H={value:"10",selected:""},K=a("option",{value:"10"},"10",-1),Q=a("option",{value:"20"},"20",-1),R=a("option",{value:"50"},"50",-1),U=a("option",{value:"100"},"100",-1),W={class:"m-0"},X={class:"m-0 font-size-12"};function Y(e,t,r,p,n,h){const P=i("DefaultSelect"),y=i("Paginate"),b=i("GrowingLoader"),C=i("BasicTable"),S=i("Page");return l(),m(S,{Title:""},{default:u(()=>[a("div",q,[g(C,{Th:[e.$t("No"),e.$t("Photo"),e.$t("MedicineName"),e.$t("Amount"),e.$t("Subtotal")],Col:"col-lg-12",Title:e.$t("MostSolds")},{inputs:u(()=>[g(P,{Label:"",Class:"col-lg-2 col-sm-2",onOnInput:t[0]||(t[0]=s=>(this.paginateCount=s,this.indexPaginates()))},{default:u(()=>[a("option",H,o(e.$t("NumberDownloads")),1),K,Q,R,U]),_:1}),A("   ")]),default:u(()=>[(l(!0),_(G,null,I(n.items,(s,B)=>(l(),_("tr",null,[a("td",null,o((n.current_page-1)*n.paginateCount+B+1),1),a("td",null,[a("div",{class:"table_image",style:E("background-image: url("+s.medicine.image[0].url+")")},null,4)]),a("td",null,[a("p",W,o(s.medicine.name),1),a("p",X,o(s.medicine.generic_name),1)]),a("td",null,o(p.counterStore.formatNumber(s.total_amount)),1),a("td",null,o(p.counterStore.formatNumber(s.total_subtotal.toFixed(2)))+" "+o(s.currency.sign),1)]))),256)),n.last_page!=1?(l(),m(y,{key:0,Cols:"7",currentPage:this.current_page,totalPages:this.last_page,onChangePage:t[1]||(t[1]=s=>h.indexPaginates(s))},null,8,["currentPage","totalPages"])):f("",!0),n.loader?(l(),m(b,{key:1,Cols:"7"})):f("",!0)]),_:1},8,["Th","Title"])])]),_:1})}const ie=N(j,[["render",Y]]);export{ie as default};
