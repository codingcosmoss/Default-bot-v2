import{P as N}from"./Page-EAuwfOTr.js";import{_ as g,o as i,c as p,a as r,t as d,n as h,h as y,x as k,u as T,y as O,z as P,A as R,B as x,r as m,b as n,F as C,C as j,f as L,w as B}from"./app-wmakNrFD.js";import{I as S}from"./ImageInput-jrxv8G6Z.js";import{T as F}from"./Table-riuTczk9.js";import{C as V}from"./Checkbox01-R3umV7Dp.js";import"./Switch-cfRwjxIO.js";import"./Input-sHi6_j3C.js";import"./InputDefault-Ik0lJLaM.js";import"./Select-MhHGqNEH.js";import"./InputColor-vS9SsQ7t.js";import"./paginate-CoOZTaYR.js";import"./Loader-mtXqPlpY.js";const K={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1},isLoginError:{type:Boolean,default:!1},message:{type:String,default:""}}},D={class:"mb-2.5 block text-black dark:text-white"},A=["value","type"],z={key:0,class:"text-danger"};function q(l,e,a,f,t,s){return i(),p("div",{class:h(a.Couple?"mb-4.5":"w-full xl:w-1/2")},[r("label",D,d(a.Label),1),r("input",{value:a.Value,type:a.Type,min:"0",class:h([a.isError==!0?"isError":"","w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"]),placeholder:"...",onInput:e[0]||(e[0]=u=>this.$emit("onInput",u.target.value))},null,42,A),a.isError?(i(),p("p",z,d(a.message),1)):y("",!0)],2)}const v=g(K,[["render",q]]),G={components:{Input:v},props:{Couple:{type:Boolean,default:!0},Title:{type:String,default:"Checkbox title"}}};function H(l,e,a,f,t,s){return i(),p("li",null,[r("input",{type:"checkbox",onInput:e[0]||(e[0]=u=>this.$emit("onCheck",!0))},null,32),k("   "+d(a.Title),1)])}const J=g(G,[["render",H],["__scopeId","data-v-5c9ec93d"]]),M={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1}}},Q={class:"mb-2.5 block text-black dark:text-white"},U=["value","type"];function W(l,e,a,f,t,s){return i(),p("div",{class:h(a.Couple?"mb-4.5":"w-full xl:w-1/2")},[r("label",Q,d(a.Label),1),r("input",{value:a.Value,type:a.Type,class:h([a.isError==!0?"isError":"","rounded border-[1.5px] border-stroke bg-transparent py-20 px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"]),placeholder:"Select subject",onInput:e[0]||(e[0]=u=>this.$emit("onInput",u.target.value)),style:{width:"80px",height:"40px"}},null,42,U)],2)}const X=g(M,[["render",W]]);let w=[];function Y(){for(;w.length;)w.shift()()}const Z={data(){return{name:"",position:"",login:"",password:"",profil_photo_path:"",percent_salary:"",salary_static:"",sort_order:"",isPasswordError:!1,reset_password:"",isLoginError:!1,color:"#FFFFFF",errorObj:{},image:"",Roles:[],Permissions:[],Loader:!1}},components:{Checkbox01:V,Table:F,ImageInput:S,InputColor:X,Checkbox:J,Input:v},methods:{releaseNextTicks:Y,getName(l){return T().getName(l)},async getPermissions(){const l=await O();this.Permissions=l.data},testPassword(l){return this.password!=l?this.isPasswordError=!0:this.isPasswordError=!1,this.reset_password=l,this.isPasswordError},addRoles(l){this.Roles.includes(l)?this.Roles=this.Roles.filter(e=>e!=l):this.Roles.push(l)},async create(){if(this.Loader=!0,this.testPassword(this.reset_password)!=!0){var l={name:this.name,position:this.position,login:this.login,password:this.password,profil_photo_path:this.profil_photo_path,percent_salary:this.percent_salary,salary_static:this.salary_static,sort_order:this.sort_order,color:this.color,image:this.image,roles:this.Roles};const e=await P(l);e.status?(R("success","Created successfully !"),this.$router.push("/employees")):(console.log(e.data),this.errorObj=e.data,this.Loader=!1),this.Loader=!1}},async testLogin(l){this.login=l;const e=await x({login:l,id:0});console.log("R:",e),e.status?this.isLoginError=!0:this.isLoginError=!1},async sendData(){this.Loader=!0;const l=this.login;(await x({login:l,id:0})).status?(this.isLoginError=!0,this.Loader=!1):(this.isLoginError=!1,this.create())},hasKey(l){return l in this.errorObj}},mounted(){this.getPermissions()}},$={class:"breadcrumb-nav mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},ee={class:"flex items-center gap-2"},se={class:"font-medium text-primary"},re={class:"grid grid-cols-1 gap-9 sm:grid-cols-2"},te={class:"flex flex-col gap-9"},oe={class:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},le={class:"border-b border-stroke py-4 px-6.5 dark:border-strokedark"},ae={class:"font-semibold text-black dark:text-white"},ne={action:"#"},ie={class:"p-6.5"},de={class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},ue={class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},ce={class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},pe={class:"flex flex-col gap-9"},me={class:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},ge=r("div",{class:"border-b border-stroke py-4 px-6.5 dark:border-strokedark"},[r("h3",{class:"font-semibold text-black dark:text-white"})],-1),fe={class:"pt-0 p-6.5"},be={style:{display:"flex",padding:"5px 27px"}},he={style:{width:"100%"}},_e={class:"table01",style:{width:"100%"}},ye={style:{"font-weight":"bold"}},ke={class:"pl-7 p-6.5",style:{display:"flex","justify-content":"center"}};function xe(l,e,a,f,t,s){const u=m("ImageInput"),c=m("Input"),E=m("InputColor"),b=m("Checkbox01"),I=m("loader-spinning");return i(),p(C,null,[r("div",$,[r("nav",null,[r("ol",ee,[r("li",null,[r("a",{class:"font-medium cursor-pointer",onClick:e[0]||(e[0]=o=>this.$router.push("/employees"))},d(s.getName("employees"))+" /",1)]),r("li",se,d(s.getName("create")),1)])])]),r("div",re,[r("div",te,[r("div",oe,[r("div",le,[r("h3",ae,d(s.getName("add_employee")),1)]),r("form",ne,[r("div",ie,[n(u,{onImage:e[1]||(e[1]=o=>t.image=o)}),r("div",de,[n(c,{Couple:!1,Label:s.getName("employee_name"),onOnInput:e[2]||(e[2]=o=>t.name=o),isError:s.hasKey("name"),message:t.errorObj.name},null,8,["Label","isError","message"]),n(c,{Couple:!1,Label:s.getName("Position_employee"),onOnInput:e[3]||(e[3]=o=>t.position=o),isError:s.hasKey("position"),message:t.errorObj.position},null,8,["Label","isError","message"])]),n(c,{Label:s.getName("login"),onOnInput:e[4]||(e[4]=o=>s.testLogin(o)),Value:t.login,isError:t.isLoginError||t.errorObj.login,message:t.errorObj.login?t.errorObj.login:"Login is available !"},null,8,["Label","Value","isError","message"]),r("div",ue,[n(c,{Couple:!1,Label:s.getName("password"),onOnInput:e[5]||(e[5]=o=>t.password=o),Type:"password",isError:s.hasKey("password"),message:t.errorObj.password},null,8,["Label","isError","message"]),n(c,{Couple:!1,Label:s.getName("reset_password"),onOnInput:e[6]||(e[6]=o=>s.testPassword(o)),isError:t.isPasswordError,Type:"password",Value:t.reset_password,message:"The password is not the same"},null,8,["Label","isError","Value"])]),r("div",ce,[n(E,{Type:"color",Couple:!1,Label:s.getName("color"),onOnInput:e[7]||(e[7]=o=>t.color=o),isError:s.hasKey("color"),message:t.errorObj.color},null,8,["Label","isError","message"]),n(c,{Type:"number",Couple:!1,Label:s.getName("Serial_number"),onOnInput:e[8]||(e[8]=o=>t.sort_order=o),isError:s.hasKey("sort_order"),message:t.errorObj.sort_order},null,8,["Label","isError","message"])])])])])]),r("div",pe,[r("div",me,[ge,k("   "),r("p",fe,d(s.getName("employee_roles"))+":",1),r("ul",be,[k("    "),r("li",he,[r("table",_e,[(i(!0),p(C,null,j(t.Permissions,o=>(i(),p("tr",null,[r("td",ye,[n(b,{onClick:_=>s.addRoles(o.id),onCheck:t.Roles.includes(o.id),Title:s.getName(o.lang_name),Class:"genderCheckbox"},null,8,["onClick","onCheck","Title"])]),r("td",null,[n(b,{style:{margin:"5px 0"},onClick:_=>s.addRoles(o.id),onCheck:t.Roles.includes(o.id),Title:s.getName("addContents"),Class:"genderCheckbox"},null,8,["onClick","onCheck","Title"]),n(b,{style:{margin:"5px 0"},onClick:_=>s.addRoles(o.id),onCheck:t.Roles.includes(o.id),Title:s.getName("editContents"),Class:"genderCheckbox"},null,8,["onClick","onCheck","Title"]),n(b,{style:{margin:"5px 0"},onClick:_=>s.addRoles(o.id),onCheck:t.Roles.includes(o.id),Title:s.getName("deleteContents"),Class:"genderCheckbox"},null,8,["onClick","onCheck","Title"])])]))),256))])])]),r("div",ke,[t.Loader?(i(),L(I,{key:0,style:{margin:"0 auto"}})):y("",!0),t.Loader?y("",!0):(i(),p("button",{key:1,onClick:e[9]||(e[9]=(...o)=>s.sendData&&s.sendData(...o)),class:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray"},d(s.getName("create")),1))])])])])],64)}const Ce=g(Z,[["render",xe]]),we={components:{FormLayouts:Ce,Page:N}};function Le(l,e,a,f,t,s){const u=m("FormLayouts"),c=m("Page");return i(),L(c,{Classes:!1,Animation:!1},{default:B(()=>[n(u)]),_:1})}const Ve=g(we,[["render",Le]]);export{Ve as default};
