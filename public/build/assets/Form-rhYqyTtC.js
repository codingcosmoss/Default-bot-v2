import{P as L}from"./Page-EAuwfOTr.js";import{_ as h,o as d,c,a as o,t as i,n as g,h as b,x as E,k as j,u as V,a9 as P,A as O,a4 as B,a8 as T,r as p,b as u,w as k,F as x,C as D,f as C}from"./app-wmakNrFD.js";import{P as S}from"./PrimaryButton-VtnifkGT.js";import{P as N}from"./PrimaryButton2-VF5CKIB7.js";import{M as K}from"./MultiSelect-W1AtSkqJ.js";import{C as y}from"./Checkbox01-R3umV7Dp.js";import{I as M}from"./ImageInput-jrxv8G6Z.js";import"./Select-MhHGqNEH.js";const F={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Class:{type:String,default:""},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1},isLoginError:{type:Boolean,default:!1},message:{type:String,default:""}}},A={class:"mb-2.5 block text-black dark:text-white"},q=["value","type"],U={key:0,class:"text-danger"};function z(s,e,r,n,t,a){return d(),c("div",{class:g(r.Couple?"mb-4.5":"w-full xl:w-1/2")},[o("label",A,i(r.Label),1),o("input",{value:r.Value,type:r.Type,min:"0",class:g([[r.Class,{isError:r.isError}],"w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"]),placeholder:"...",onInput:e[0]||(e[0]=f=>this.$emit("onInput",f.target.value))},null,42,q),r.isError?(d(),c("p",U,i(r.message),1)):b("",!0)],2)}const I=h(F,[["render",z]]),G={components:{Input:I},props:{Couple:{type:Boolean,default:!0},Title:{type:String,default:"Checkbox title"}}};function J(s,e,r,n,t,a){return d(),c("li",null,[o("input",{type:"checkbox",onInput:e[0]||(e[0]=f=>this.$emit("onCheck",!0))},null,32),E(" Â  "+i(r.Title),1)])}const W=h(G,[["render",J],["__scopeId","data-v-8fbdb8d8"]]),H={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1}}},Q={class:"mb-2.5 block text-black dark:text-white"},R=["value","type"];function X(s,e,r,n,t,a){return d(),c("div",{class:g(r.Couple?"mb-4.5":"w-full xl:w-1/2")},[o("label",Q,i(r.Label),1),o("input",{value:r.Value,type:r.Type,class:g([r.isError==!0?"isError":"","rounded border-[1.5px] border-stroke bg-transparent py-20 px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"]),placeholder:"Select subject",onInput:e[0]||(e[0]=f=>this.$emit("onInput",f.target.value)),style:{width:"80px",height:"40px"}},null,42,R)],2)}const Y=h(H,[["render",X]]),Z={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1},isLoginError:{type:Boolean,default:!1},message:{type:String,default:""}}},$={class:"mb-2.5 block text-black dark:text-white"},ee={key:0,class:"text-danger"};function se(s,e,r,n,t,a){return d(),c("div",{class:g(r.Couple?"mb-4.5":"w-full xl:w-1/2")},[o("label",$,i(r.Label),1),o("select",{onInput:e[0]||(e[0]=f=>this.$emit("onSelect",f.target.value)),class:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},[j(s.$slots,"default")],32),r.isError?(d(),c("p",ee,i(r.message),1)):b("",!0)],2)}const te=h(Z,[["render",se]]),re={computed:{checkbox01(){return y}},data(){return{name:"",order:"",code:"",price:"",category:"",material_price:"",technic_price:"",status:1,isLoginError:!1,errorObj:{},categories:[],Checkbox:"",last_name:"",first_name:"",phone:"",job:"",address:"",gender:"",birthday:"",sort_order:"",diseasesIds:[],allDiseases:[],Image:"",Photo:"",Loader:!1}},components:{ImageInput:M,Checkbox01:y,Select:te,PrimaryButton2:N,MultiSelect:K,PrimaryButton:S,InputColor:Y,Checkbox:W,Input:I},methods:{getName(s){return V().getName(s)},formatPhone(s){const e=["0","1","2","3","4","5","6","7","8","9",""," "],r=document.querySelector(".phone_input");let n=this.phone.length<s.length;if(console.log(s,s.length),n)if(e.includes(s.slice(s.length-1,s.length))){if(s.length>19)return r.value=this.phone,!1}else return r.value=this.phone,!1;else if(s.length>20)return r.value=this.phone,!1;s.length==4&&n?this.phone="(+"+s+") ":s.length==9&&n?this.phone=s+" ":s.length==13&&n?this.phone=s+" ":(s.length==16||s.length==17)&&n?this.phone=s+" ":this.phone=s},async update(){this.Loader=!0;var s=[];this.diseasesIds.length>0?this.diseasesIds.forEach(n=>{s.push(n.id)}):s=0;var e={first_name:this.first_name,last_name:this.last_name,phone:this.phone,job:this.job,address:this.address,gender:this.Checkbox,birthday:this.birthday,sort_order:this.sort_order,diseasesIds:s,price:0,image:this.Image};const r=await P(this.$route.query.id,e);console.log(r),r.status?(O("success","Update successfully !"),this.$router.push("/patients")):(this.errorObj=r.data,this.Loader=!1)},async getModel(){const s=await B(this.$route.query.id);s.status&&(this.first_name=s.data.first_name,this.last_name=s.data.last_name,this.phone=s.data.phone,this.job=s.data.job,this.address=s.data.address,this.Checkbox=s.data.gender,this.birthday=s.data.birthday,this.sort_order=s.data.sort_order,this.diseasesIds=s.data.diseases,this.Photo=s.data.image[0].url,this.getDisiases())},async getDisiases(){const s=await T(null,1e3);var e=[];s.data.items.forEach(r=>{this.diseasesIds.some(n=>n.id==r.id)||e.push({name:r.name,id:r.id})}),this.allDiseases=e},hasKey(s){return s in this.errorObj},onSelect(s){this.diseasesIds.indexOf(s)==-1&&(this.diseasesIds.push({name:this.allDiseases.filter(e=>e.id==Number(s))[0].name,id:this.allDiseases.filter(e=>e.id==Number(s))[0].id}),this.allDiseases=this.allDiseases.filter(e=>e.id!=Number(s)))},onPush(s){this.allDiseases.push(s),this.diseasesIds=this.diseasesIds.filter(e=>e.id!=s.id)}},mounted(){this.getModel()}},ae={class:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",style:{display:"flex","justify-content":"flex-end"}},oe={class:"flex items-center gap-2"},le={class:"font-medium text-primary"},ne={class:"grid grid-cols-1 gap-9 sm:grid-cols-2"},ie={class:"flex flex-col gap-9"},de={class:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},ue={class:"border-b border-stroke py-4 px-6.5 dark:border-strokedark"},ce={class:"font-semibold text-black dark:text-white"},fe={action:"#"},me={class:"p-6.5"},pe={class:"flex flex-col gap-9"},he={class:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},be=o("div",{class:"border-b border-stroke py-4 px-6.5 dark:border-strokedark"},[o("h3",{class:"font-semibold text-black dark:text-white"})],-1),ge={class:"flex flex-col gap-6 xl:flex-row px-6.5 mt-6.5"},_e={class:"flex flex-col gap-6 xl:flex-row px-6.5 mt-6.5"},xe={class:"mb-2.5 block text-black dark:text-white"},ye={key:0,style:{float:"right"},class:"text-danger"},ke={class:"flex flex-col gap-6 xl:flex-row px-6.5 mt-6.5"},Ce={class:"flex flex-col gap-6 xl:flex-row p-6.5"},Ie={class:"flex flex-col gap-6 xl:flex-row px-6.5"},ve=o("option",{selected:""},"---",-1),we=["value"],Le=o("div",{class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},null,-1),Ee={class:"pl-7 p-6.5",style:{display:"flex","justify-content":"center"}};function je(s,e,r,n,t,a){const f=p("ImageInput"),m=p("Input"),_=p("checkbox01"),v=p("MultiSelect"),w=p("loader-spinning");return d(),c(x,null,[o("div",ae,[o("nav",null,[o("ol",oe,[o("li",null,[o("a",{class:"font-medium cursor-pointer",onClick:e[0]||(e[0]=l=>this.$router.push("/patients"))},i(a.getName("Patients"))+" /",1)]),o("li",le,i(a.getName("create")),1)])])]),o("div",ne,[o("div",ie,[o("div",de,[o("div",ue,[o("h3",ce,i(a.getName("Patients")),1)]),o("form",fe,[o("div",me,[u(f,{onImage:e[1]||(e[1]=l=>t.Image=l),Label:"Photo",Photo:t.Photo},null,8,["Photo"])])])])]),o("div",pe,[o("div",he,[be,o("div",ge,[u(m,{Couple:!1,Label:a.getName("last_name"),onOnInput:e[2]||(e[2]=l=>t.last_name=l),isError:a.hasKey("last_name"),message:t.errorObj.last_name,Value:t.last_name},null,8,["Label","isError","message","Value"]),u(m,{Couple:!1,Label:a.getName("name"),onOnInput:e[3]||(e[3]=l=>t.first_name=l),isError:a.hasKey("first_name"),message:t.errorObj.first_name,Value:t.first_name},null,8,["Label","isError","message","Value"])]),o("div",_e,[u(m,{Couple:!1,Label:a.getName("Address"),onOnInput:e[4]||(e[4]=l=>t.address=l),isError:a.hasKey("address"),message:t.errorObj.address,Value:t.address},null,8,["Label","isError","message","Value"]),o("label",xe,i(a.getName("Gender")),1),u(_,{onClick:e[5]||(e[5]=l=>(t.Checkbox=5,console.log(t.Checkbox))),onCheck:t.Checkbox==5,Title:a.getName("Male"),Class:"genderCheckbox"},null,8,["onCheck","Title"]),u(_,{onClick:e[6]||(e[6]=l=>(t.Checkbox=4,console.log(t.Checkbox))),onCheck:t.Checkbox==4,Title:a.getName("Woman"),Class:"genderCheckbox"},null,8,["onCheck","Title"])]),a.hasKey("gender")?(d(),c("p",ye,i(t.errorObj.gender),1)):b("",!0),o("div",ke,[u(m,{Couple:!1,Label:a.getName("phone"),onOnInput:e[7]||(e[7]=l=>a.formatPhone(l)),isError:a.hasKey("phone"),message:t.errorObj.phone,Value:t.phone,Class:"phone_input"},null,8,["Label","isError","message","Value"]),u(m,{Couple:!1,Label:a.getName("Job"),onOnInput:e[8]||(e[8]=l=>t.job=l),isError:a.hasKey("job"),message:t.errorObj.job,Value:t.job},null,8,["Label","isError","message","Value"])]),o("div",Ce,[u(m,{Couple:!1,Label:a.getName("Date_birth"),onOnInput:e[9]||(e[9]=l=>t.birthday=l),isError:a.hasKey("birthday"),message:t.errorObj.birthday,Value:t.birthday,Type:"date"},null,8,["Label","isError","message","Value"]),u(m,{Couple:!1,Label:a.getName("Serial_number"),onOnInput:e[10]||(e[10]=l=>t.sort_order=l),isError:a.hasKey("sort_order"),message:t.errorObj.sort_order,Value:t.sort_order,Type:"number"},null,8,["Label","isError","message","Value"])]),o("div",Ie,[u(v,{Couple:!1,Label:a.getName("diseases"),onOnSelect:e[11]||(e[11]=l=>a.onSelect(l)),Items:t.diseasesIds,onPushArray:e[12]||(e[12]=l=>a.onPush(l))},{default:k(()=>[ve,(d(!0),c(x,null,D(t.allDiseases,l=>(d(),c("option",{value:l.id},i(l.name),9,we))),256))]),_:1},8,["Label","Items"]),Le]),o("div",Ee,[t.Loader?(d(),C(w,{key:0,style:{margin:"0 auto"}})):b("",!0),t.Loader?b("",!0):(d(),c("button",{key:1,onClick:e[13]||(e[13]=(...l)=>a.update&&a.update(...l)),class:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray"},i(a.getName("update")),1))])])])])],64)}const Ve=h(re,[["render",je]]),Pe={components:{FormLayouts:Ve,Page:L}};function Oe(s,e,r,n,t,a){const f=p("FormLayouts"),m=p("Page");return d(),C(m,{Classes:!1,Animation:!1},{default:k(()=>[u(f)]),_:1})}const Ae=h(Pe,[["render",Oe]]);export{Ae as default};
