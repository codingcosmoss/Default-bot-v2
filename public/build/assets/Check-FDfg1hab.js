import{_ as h,u as d,v as g,ae as p,ab as b,o as _,c,a as t,t as n,F as y,C as x,i as S,j as f}from"./app-wmakNrFD.js";const N={setup(){return{counterStore:d()}},data(){return{Daily_number:0,Data:"01.12.2024",Model:[],Treatment:[],Patient:[],Doctor:[],Items:[],TotalSum:0,Material_total_sum:0,Doctor_total_sum:0,Discount:0,Payments:0,Success:0,Indebtedness:0,Image:""}},methods:{getName(e){return d().getName(e)},async getModel(){const e=await g();this.Image=e.data.items.logo[0].url,console.log("Response",e)},async getTreatment(){const e=await p(this.$route.query.id);this.Treatment=e.data,this.Payments=e.data.payment_amount,this.Doctor_total_sum=e.data.doctor_result_sum,this.Discount=e.data.discount_sum,this.Patient=e.data.patient,this.Doctor=e.data.doctor,this.Material_total_sum=e.data.material_price,this.Indebtedness=e.data.user_payment,e.status&&(this.Success+=1),this.Success==2&&this.onCheck()},async getItems(){this.Items=[],this.TotalSum=0;const e=await b(this.$route.query.id);this.Items=e.data.items,this.Items.forEach(r=>{this.TotalSum+=Number(r.count)*Number(r.service_total_sum)}),e.status&&(this.Success+=1),this.Success==2&&this.onCheck()},getDate(){var e=new Date,r=e.getFullYear(),m=e.getMonth()+1,l=e.getDate(),o=e.getHours(),s=e.getMinutes();return e.getSeconds(),r+"-"+m+"-"+l+" "+o+":"+s},onCheck(){setTimeout(()=>{let e=window;setTimeout(function(){e.print(),e.close()},500)},500)}},mounted(){this.getTreatment(),this.getItems(),this.getModel()}},a=e=>(S("data-v-8e411f7d"),e=e(),f(),e),D={id:"printThisArea"},v={style:{width:"100%","text-align":"center"}},I=["src"],w=a(()=>t("br",null,null,-1)),T={style:{width:"100%","text-align":"center"}},P={style:{margin:"5px auto"}},k={style:{margin:"0 auto"}},C=a(()=>t("br",null,null,-1)),M={style:{"border-bottom":"1px solid black","border-top":"1px solid black"}},A={style:{margin:"1px"}},B={style:{margin:"1px"}},F={class:"table-table",width:"100%",id:"my-table",style:{"margin-top":"10px"}},q={style:{border:"1px solid"}},E=a(()=>t("td",{style:{"padding-left":"5px","text-align":"center"}},[t("h4",null,"№")],-1)),j={style:{"padding-left":"10px","text-align":"center"}},H={style:{"padding-left":"10px","text-align":"center"}},L={style:{"padding-left":"10px","text-align":"center"}},R={style:{border:"1px dashed  !important"}},V={style:{"padding-left":"10px !important"}},W={style:{"padding-left":"10px !important"}},Y={style:{"padding-left":"10px !important",width:"180px !important"}},z={style:{"padding-left":"10px !important",width:"180px !important"}},G=a(()=>t("hr",null,null,-1)),J={style:{margin:"14px 0 !important","text-align":"end !important"}},K={style:{margin:"14px 0 !important","text-align":"end !important"}},O={style:{margin:"14px 0 !important","text-align":"end !important"}},Q={style:{margin:"14px 0 !important","text-align":"end !important"}},U={style:{margin:"14px 0 !important","text-align":"end !important"}},X={style:{margin:"14px 0 !important","text-align":"end !important"}},Z=a(()=>t("br",null,null,-1)),$={style:{"text-align":"center !important",margin:"50px 0"},class:"check-discount"},tt={style:{"font-weight":"bold"}},et=a(()=>t("br",null,null,-1)),nt=a(()=>t("br",null,null,-1)),st=a(()=>t("br",null,null,-1)),ot=a(()=>t("br",null,null,-1)),at=a(()=>t("br",null,null,-1)),lt=a(()=>t("br",null,null,-1)),rt=a(()=>t("br",null,null,-1)),it=a(()=>t("br",null,null,-1)),_t=a(()=>t("br",null,null,-1)),ct=a(()=>t("br",null,null,-1)),mt=a(()=>t("hr",null,null,-1));function dt(e,r,m,l,o,s){return _(),c("div",D,[t("div",v,[t("h2",null,n(s.getName("Welcome")),1)]),t("img",{src:o.Image,width:"95%"},null,8,I),w,t("div",T,[t("span",P,n(s.getName("TitleCheck")),1)]),t("div",null,[t("h3",null,"№:"+n(o.Treatment.id),1)]),t("div",null,[t("h3",k,n(s.getName("Date"))+": "+n(s.getDate()),1)]),C,t("div",M,[t("h3",A,n(s.getName("Patients"))+": "+n(o.Patient.first_name)+" "+n(o.Patient.last_name),1),t("h3",B,n(s.getName("Doctor"))+":  "+n(o.Doctor.name),1)]),t("table",F,[t("tr",q,[E,t("td",j,[t("h4",null,n(s.getName("Service_name")),1)]),t("td",H,[t("h4",null,n(s.getName("ServiceCount")),1)]),t("td",L,[t("h4",null,n(s.getName("Summa")),1)])]),(_(!0),c(y,null,x(o.Items,(i,u)=>(_(),c("tr",R,[t("td",V,[t("b",null,n(u+1),1)]),t("td",W,[t("b",null,n(i.name),1)]),t("td",Y,[t("b",null,n(i.count),1)]),t("td",z,[t("b",null,n(l.counterStore.formatNumber(Number(i.service_total_sum)*Number(i.count))),1)])]))),256))]),G,t("h3",J,n(s.getName("TotalSum"))+": "+n(l.counterStore.formatNumber(o.TotalSum)),1),t("h3",K,n(s.getName("Material_total_sum"))+": "+n(l.counterStore.formatNumber(o.Material_total_sum)),1),t("h3",O,n(s.getName("Doctor_total_sum"))+": "+n(l.counterStore.formatNumber(o.Doctor_total_sum)),1),t("h3",Q,n(s.getName("PaymentSum"))+": "+n(l.counterStore.formatNumber(o.TotalSum-o.Discount)),1),t("h3",U,n(s.getName("Paid"))+": "+n(l.counterStore.formatNumber(o.Payments)),1),t("h3",X,n(s.getName("Indebtednes"))+": "+n(l.counterStore.formatNumber(o.Indebtedness)),1),Z,t("div",$,[t("h1",tt,n(s.getName("Discount"))+": "+n(l.counterStore.formatNumber(o.Discount)),1)]),et,t("h3",null,n(s.getName("Doctor"))+" ____________________ ",1),t("h3",null,n(s.getName("Patients"))+": ________________",1),nt,st,ot,at,lt,rt,it,_t,ct,mt])}const ht=h(N,[["render",dt],["__scopeId","data-v-8e411f7d"]]);export{ht as default};
