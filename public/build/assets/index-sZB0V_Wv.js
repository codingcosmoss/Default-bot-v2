import{P as g}from"./Page-oDaSi7Lo.js";import{_ as u,o as h,b as f,e,t as n,h as w,j as _,u as v,R as y,k as b,A as d,G as L,c as P,w as V,r as c,a as l,n as E}from"./app-YVDEE9Za.js";import{L as $}from"./LoginInput-N6QRsBJ2.js";import{D as I}from"./DefaultInput-p6HHK0Yr.js";const N={},S={class:"account-pages my-5 pt-sm-5"},k={class:"container"},C={class:"row justify-content-center"},U={class:"col-md-8 col-lg-6 col-xl-5"},D={class:"card overflow-hidden"},O={class:"bg-primary-subtle"},R={class:"row"},A={class:"col-7"},B={class:"text-primary p-4"},T={class:"text-primary"},x=e("div",{class:"col-5 align-self-end"},[e("img",{src:"http://127.0.0.1:8000/assets/images/profile-img.png",alt:"",class:"img-fluid"})],-1),F={class:"card-body pt-0"},j=_('<div class="auth-logo"><a href="index.html" class="auth-logo-light"><div class="avatar-md profile-user-wid mb-4"><span class="avatar-title rounded-circle bg-light"><img src="http://127.0.0.1:8000/assets/images/logo-light.svg" alt="" class="rounded-circle" height="34"></span></div></a><a href="index.html" class="auth-logo-dark"><div class="avatar-md profile-user-wid mb-4"><span class="avatar-title rounded-circle bg-light"><img src="http://127.0.0.1:8000/assets/images/logo.svg" alt="" class="rounded-circle" height="34"></span></div></a></div>',1),G={class:"p-2"},z=e("br",null,null,-1);function J(r,s){return h(),f("div",S,[e("div",k,[e("div",C,[e("div",U,[e("div",D,[e("div",O,[e("div",R,[e("div",A,[e("div",B,[e("h5",T,n(r.$t("YouAreWelcome"))+" !",1),e("p",null,n(r.$t("CreateyourownPharmacy")),1)])]),x])]),e("div",F,[j,e("div",G,[w(r.$slots,"default"),z])])])])])])])}const W=u(N,[["render",J]]),Y={components:{DefaultInput:I,LoginInput:$,Layout:W,Page:g},setup(){return{counterStore:v()}},data(){return{login:"",password:"",name:"",reset_password:"",isError:!1,Loader:!1,errors:[]}},methods:{async addForm(){try{if(this.errors=[],this.reset_password!=this.password?(this.errors.password=this.$t("PasswordError2"),this.errors.reset_password=this.$t("PasswordError2")):this.password.length<5&&(this.errors.password=this.$t("PasswordError")),this.login.length<5&&(this.errors.login=this.$t("UsernameError")),this.errors.length!=0)return this.isError=!0,this.Loader=!1,console.log("false"),!1;let r={login:this.login,name:this.name,password:this.password};const s=await y(r);if(console.log(s),s.success!=null){if(s.success==200){localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user)),this.counterStore.updateUser(s.data.user);const p=await b();d("success",this.$t("AccauntCreated")),this.isError=!1,this.Loader=!1,this.$router.push("/login");return}else if(s.success==203){this.errors.login=this.$t("UsernameError2"),this.isError=!0,this.Loader=!1;return}}{d("error",this.$t("formError")),this.isError=!0,this.Loader=!1;return}}catch{this.Loader=!1,this.isError=!0}},async getUserLocal(){await L(),this.$router.push("/")}},mounted(){}},q=e("br",null,null,-1),H={class:"mt-3 d-grid"};function K(r,s,p,M,t,i){const a=c("DefaultInput"),m=c("Layout");return h(),P(m,null,{default:V(()=>[l(a,{Label:r.$t("PharmacyName"),Pholder:r.$t("PharmacyName"),Name:"name",Type:"text",Validated:t.errors,Value:t.name,onOnInput:s[0]||(s[0]=o=>(t.name=o,delete this.errors.name))},null,8,["Label","Pholder","Validated","Value"]),l(a,{Label:r.$t("Username"),Pholder:r.$t("Username"),Name:"login",Type:"text",Validated:t.errors,Value:t.login,onOnInput:s[1]||(s[1]=o=>(t.login=o,delete this.errors.login))},null,8,["Label","Pholder","Validated","Value"]),l(a,{Label:r.$t("Password"),Pholder:r.$t("Password"),Name:"password",Type:"password",Validated:t.errors,Value:t.password,onOnInput:s[2]||(s[2]=o=>(t.password=o,delete this.errors.password))},null,8,["Label","Pholder","Validated","Value"]),l(a,{Label:r.$t("ReturnedPassword"),Pholder:r.$t("ReturnedPassword"),Name:"reset_password",Type:"password",Validated:t.errors,Value:t.reset_password,onOnInput:s[3]||(s[3]=o=>(t.reset_password=o,delete this.errors.reset_password))},null,8,["Label","Pholder","Validated","Value"]),q,e("div",H,[e("button",{class:E([t.Loader&&"disabled","btn btn-primary waves-effect waves-light"]),onClick:s[4]||(s[4]=(...o)=>i.addForm&&i.addForm(...o)),type:"submit"},"Ro'yxatdan o'tish",2)])]),_:1})}const es=u(Y,[["render",K]]);export{es as default};
