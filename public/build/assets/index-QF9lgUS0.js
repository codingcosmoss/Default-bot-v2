import{P as w}from"./Page-J7ry7tet.js";import{_,u as m,o as p,b as y,e as s,t as l,f as S,h as L,G as c,A as a,L as b,c as $,w as E,r as u,a as h,i as g,n as k}from"./app-8LJP0yV3.js";import{L as I}from"./LoginInput-7vqDY3Yw.js";const U={setup(){return{counterStore:m()}}},P={class:"account-pages my-5 pt-sm-5"},x={class:"container"},C={class:"row justify-content-center"},V={class:"col-md-8 col-lg-6 col-xl-5"},B={class:"card overflow-hidden"},N={class:"bg-primary-subtle"},F={class:"row"},O={class:"col-7"},K={class:"text-primary p-4"},T={class:"text-primary"},z={class:"col-5 align-self-end"},A=["src"],G={class:"card-body pt-0"},J={class:"auth-logo"},j={class:"auth-logo-light"},D={class:"avatar-md profile-user-wid mb-4"},W={class:"avatar-title rounded-circle bg-light"},q=["src"],H={href:"index.html",class:"auth-logo-dark"},M={class:"avatar-md profile-user-wid mb-4"},Q={class:"avatar-title rounded-circle bg-light"},R=["src"],X={class:"p-2"},Y={class:"mt-5 text-center"};function Z(t,e,f,n,o,i){return p(),y("div",P,[s("div",x,[s("div",C,[s("div",V,[s("div",B,[s("div",N,[s("div",F,[s("div",O,[s("div",K,[s("h5",T,l(t.$t("WelcomeBack")),1),s("p",null,l(t.$t("EnterLogin")),1)])]),S(" "+l()+" ",1),s("div",z,[s("img",{src:n.counterStore.baseUrl+"/assets/images/profile-img.png",alt:"",class:"img-fluid"},null,8,A)])])]),s("div",G,[s("div",J,[s("a",j,[s("div",D,[s("span",W,[s("img",{src:n.counterStore.baseUrl+"/assets/images/logo-light.svg",alt:"",class:"rounded-circle",height:"34"},null,8,q)])])]),s("a",H,[s("div",M,[s("span",Q,[s("img",{src:n.counterStore.baseUrl+"/assets/images/logo.svg",alt:"",class:"rounded-circle",height:"34"},null,8,R)])])])]),s("div",X,[L(t.$slots,"default")]),s("div",Y,[s("div",null,[s("p",null,"Â© "+l(t.$t("PoweredByCodingCosmos")),1)])])])])])])])])}const ss=_(U,[["render",Z]]),es={setup(){return{counterStore:m()}},components:{LoginInput:I,Layout:ss,Page:w},data(){return{login:"admin",password:"12345678adc",isError:!1,Loader:!1,errors:[]}},methods:{async getUser(){const t=await c();console.log(t),t.success==200&&(a("info",this.$t("youlogged")),localStorage.setItem("user",JSON.stringify(t.data)),localStorage.setItem("token",t.data.role_token),this.counterStore.updateUser(t.data),this.$router.push("/admin"))},async addForm(){try{this.Loader=!0;let t={login:this.login,password:this.password};const e=await b(t);return e.success!=null?e.success==200?(this.isError=!1,this.Loader=!1,localStorage.setItem("0008a78764c2",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.user.role_token),localStorage.setItem("reload",!0),this.counterStore.updateUser(e.data.user),this.$router.push("/redirect"),a("success",this.$t("loginSuccess")),!0):(this.Loader=!1,a("error",this.$t("loginPasswordError")),!1):(this.errors=e.data,a("error",this.$t("loginPasswordError")),this.isError=!0,this.Loader=!1,!1)}catch{a("error",this.$t("loginPasswordError")),this.Loader=!1,this.isError=!0}},async getUserLocal(){await c(),this.$router.push("/")}},mounted(){this.getUser()}},ts=s("br",null,null,-1),os={class:"mt-3 d-grid"};function rs(t,e,f,n,o,i){const d=u("LoginInput"),v=u("Layout");return p(),$(v,null,{default:E(()=>[h(d,{Label:"Username",Pholder:"username",Value:o.login,onOnInput:e[0]||(e[0]=r=>o.login=r),onKeyup:e[1]||(e[1]=g(r=>i.addForm(),["enter"])),isError:"login"in o.errors},null,8,["Value","isError"]),h(d,{Label:"Password",Pholder:"password",Value:o.password,onOnInput:e[2]||(e[2]=r=>o.password=r),Type:"password",onKeyup:e[3]||(e[3]=g(r=>i.addForm(),["enter"])),isError:"password"in o.errors},null,8,["Value","isError"]),ts,s("div",os,[s("button",{class:k([o.Loader&&"disabled","btn btn-primary waves-effect waves-light"]),onClick:e[4]||(e[4]=r=>i.addForm()),type:"submit"},"Tizimga kirish",2)])]),_:1})}const ls=_(es,[["render",rs]]);export{ls as default};
