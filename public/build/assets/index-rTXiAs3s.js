import{P as M}from"./Page--X10l4un.js";import{_ as b,u as k,o as l,c as m,a as s,t as u,k as B,X as E,A as x,r as n,f as v,w as p,b as d,V as W,W as D,L as K,M as A,aH as H,aI as F,aJ as q,aK as $,aL as J,aM as X,h as y,F as C,D as z,s as L}from"./app-0LpGGDjw.js";import{P as G}from"./paginate-btn-KZn80p9X.js";import{I as Q}from"./InputDefault-iSTsXjwG.js";import{_ as R}from"./pagination-01.vue_vue_type_style_index_0_lang-dWoveVZW.js";import{S as O,M as N}from"./Switch-IzpGzEfA.js";import{S as I}from"./Select-vvngwYib.js";import{I as w}from"./Input-qRYOmpW5.js";import{L as Y}from"./Loader-iMOtN3gY.js";import{W as Z}from"./WarehouseTopbar-2-Q0V4he.js";const ee={data(){return{order:"asc",search:"",column:"id"}},methods:{getName(e){return k().getName(e)}}},te={class:"grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table overflow-x-auto"},se={class:"flex items-center justify-content-end p-2.5 xl:p-5"},ae={class:"font-medium text-black dark:text-white"},oe={class:"flex items-center justify-center p-2.5 xl:p-5"},re={class:"font-medium text-black dark:text-white"},ne={class:"flex items-center justify-center p-2.5 xl:p-5"},ie={class:"font-medium text-black dark:text-white"},le={class:"flex items-center justify-center p-2.5 xl:p-5"},de={class:"font-medium text-black dark:text-white"};function ce(e,t,c,_,o,a){return l(),m("div",te,[s("div",se,[s("p",ae,u(a.getName("name_content")),1)]),s("div",oe,[s("p",re,u(a.getName("Created_at")),1)]),s("div",ne,[s("p",ie,u(a.getName("Updated_at")),1)]),s("div",le,[s("p",de,u(a.getName("actions")),1)])])}const ue=b(ee,[["render",ce],["__scopeId","data-v-27d04d19"]]),me={},pe={class:"box"},_e={class:"pagination"};function ge(e,t){return l(),m("div",pe,[s("div",_e,[B(e.$slots,"default")])])}const he=b(me,[["render",ge]]),fe={components:{Switch:O,Input:w,Select:I,ModalLayout:N,Page:M},data(){return{status:1,categoryName:"",errorObj:{}}},props:{isCreateModal:{type:Boolean,default:!1},isUpdateModal:{type:Boolean,default:!1}},methods:{getName(e){return k().getName(e)},hasKey(e){return e in this.errorObj},async createCategory(){var e={name:this.categoryName,status:this.status};const t=await E(e);console.log(t),t.status?(this.categoryName="",this.$emit("closeModal",!1),this.$emit("Created",!0),x("success","Created successfully !")):this.errorObj=t.data}}},be=s("option",{value:1}," Active",-1),ye=s("option",{value:0}," Inactive",-1);function xe(e,t,c,_,o,a){const g=n("Input"),h=n("Select"),f=n("ModalLayout");return l(),v(f,{onOnButton:a.createCategory,isModal:c.isCreateModal,onCloseModal:t[2]||(t[2]=i=>this.$emit("closeModal",i)),Title:a.getName("create")},{default:p(()=>[d(g,{Label:a.getName("name_content"),onOnInput:t[0]||(t[0]=i=>o.categoryName=i),isError:a.hasKey("name"),message:o.errorObj.name,Value:o.categoryName},null,8,["Label","isError","message","Value"]),d(h,{Label:a.getName("status"),onOnSelect:t[1]||(t[1]=i=>this.status=i)},{default:p(()=>[be,ye]),_:1},8,["Label"])]),_:1},8,["onOnButton","isModal","Title"])}const ke=b(fe,[["render",xe]]),ve={components:{Input:w,Select:I,ModalLayout:N,Page:M},data(){return{status:1,categoryName:"",errorObj:{}}},props:{isUpdateModal:{type:Boolean,default:!1},Updated_Id:{type:Number,default:0}},methods:{getName(e){return k().getName(e)},hasKey(e){return e in this.errorObj},async getModel(){console.log(this.isUpdateModal);const e=await W(this.Updated_Id);this.categoryName=e.data.name,this.status=e.data.status},async updateCategory(){var e={name:this.categoryName,status:this.status};const t=await D(this.Updated_Id,e);t.status?(this.categoryName="",this.$emit("closeModal",!1),this.$emit("Created",!0),x("success","Update successfully !")):this.errorObj=t.data}},watch:{Updated_Id:function(e,t){this.getModel()}}},Me=["selected"],Ne=["selected"];function Ie(e,t,c,_,o,a){const g=n("Input"),h=n("Select"),f=n("ModalLayout");return l(),v(f,{onOnButton:a.updateCategory,isModal:c.isUpdateModal,onCloseModal:t[2]||(t[2]=i=>this.$emit("closeUpdatedModal",!1)),Title:a.getName("update")},{default:p(()=>[d(g,{Label:a.getName("name_content"),onOnInput:t[0]||(t[0]=i=>o.categoryName=i),isError:a.hasKey("name"),message:o.errorObj.name,Value:o.categoryName},null,8,["Label","isError","message","Value"]),d(h,{Label:a.getName("status"),onOnSelect:t[1]||(t[1]=i=>o.status=i)},{default:p(()=>[s("option",{selected:o.status==1,value:1}," Active",8,Me),s("option",{selected:o.status!=1,value:0}," Inactive",8,Ne)]),_:1},8,["Label"])]),_:1},8,["onOnButton","isModal","Title"])}const we=b(ve,[["render",Ie]]),Ce={components:{WarehouseTopbar:Z,Loader:Y,Switch:O,Select:I,Input:w,CreateForm:ke,ModalLayout:N,Pagination01:R,UpdateForm:we,VueAwesomePaginate:K,InputDefault:Q,PaginateBtn:G,Paginate:he,TableHeader:ue},data(){return{items:[],search:"",column:"updated_at",order:"asc",paginateCount:10,pagination:{},last_page:0,currentPage:1,UpdatedId:0,isModal:!1,ExitModal:!1,categoryName:"",errorObj:{},crud:""}},methods:{router(){return A},onClickHandler(e){this.paginate=e,this.currentPage=e,this.getItems()},onModal(e){e==null?(this.crud="created",this.categoryName=""):(this.crud="",this.UpdatedId=e,this.getModel()),this.errorObj={},this.isModal=!0},async getModel(){const e=await H(this.UpdatedId);this.categoryName=e.data.name},onUpdateModal(e){this.UpdatedId=e,this.isUpdateModal=!0},hasKey(e){return e in this.errorObj},async crudCategory(){var e={name:this.categoryName},t="";this.crud=="created"?t=await F(e):t=await q(this.UpdatedId,e),console.log(t),t.status?(this.categoryName="",this.UpdatedId=null,this.isModal=!1,this.getItems(),x("success","Created successfully !")):this.errorObj=t.data},getName(e){return k().getName(e)},openModal(){document.querySelector(".modal").classList.remove("hidden")},async getItems(){const e=await $(this.currentPage,this.paginateCount);this.pagination=e.data.pagination,this.last_page=e.data.pagination.last_page,this.current_page=e.data.pagination.currentPage,this.items=e.data.items,console.log(e)},async clickSearch(e,t){if(this.search=e,this.order=t,e!=""){var c={search:this.search,order:this.order,column:this.column,paginate:this.paginateCount};const _=await J(c);console.log(_),this.items=_.data.items}else this.getItems()},async onDelete(e){var t="Вы уверены, что хотите это удалить?";confirm(t)&&(await X(e)).status==!0&&(x("success","Deleted successfully !"),this.getItems())},onPaginate(e){this.paginateCount=e,this.getItems()},hasPermission(e){return!!localStorage.getItem("permissions").split(",").includes(e)}},mounted(){this.getItems()}},Le={class:"col-span-12 xl:col-span-12"},Oe={class:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1"},Pe={class:"flex flex-col table_media_box"},Ue={class:"grid grid-cols-3 rounded-sm mb-2 sm:grid-cols-5 relative media_top_bar"},je={class:"ml-4"},Se=s("option",{value:"10"},"10",-1),Ve=s("option",{value:"20"},"20",-1),Te=s("option",{value:"50"},"50",-1),Be=s("option",{value:"100"},"100",-1),Ee=[Se,Ve,Te,Be],We={key:0,class:"flex flex-wrap gap-5 xl:gap-20",style:{position:"absolute",right:"0px",top:"0"}},De={class:"databes_table grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table"},Ke={class:"flex justify-content-end gap-3 p-2.5 xl:p-5"},Ae={class:"font-bold text-black dark:text-white sm:block cursor-pointer",style:{color:"#0a91f1"}},He={class:"flex items-center justify-center p-2.5 xl:p-5"},Fe={class:"font-medium text-black dark:text-white"},qe={class:"flex items-center justify-center p-2.5 xl:p-5"},$e={class:"font-medium text-black dark:text-white"},Je={class:"flex items-center justify-center p-2.5 sm:flex xl:p-5"},Xe={class:"font-medium text-meta-5"},ze=["onClick"],Ge=["onClick"];function Qe(e,t,c,_,o,a){const g=n("WarehouseTopbar"),h=n("TableHeader"),f=n("Loader"),i=n("vue-awesome-paginate"),P=n("Pagination01"),U=n("Paginate"),j=n("Input"),S=n("ModalLayout");return l(),m(C,null,[s("div",Le,[s("div",Oe,[d(g),s("div",Pe,[s("div",Ue,[s("div",null,[s("input",{type:"text",placeholder:"Search",onInput:t[0]||(t[0]=r=>a.clickSearch(r.target.value,o.order)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},null,32)]),s("div",je,[s("select",{placeholder:"Search",onInput:t[1]||(t[1]=r=>a.onPaginate(r.target.value)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},Ee,32)]),a.hasPermission("Warehouse-create")?(l(),m("div",We,[s("span",{onClick:t[2]||(t[2]=r=>a.onModal(null)),class:"cursor-pointer inline-flex items-center justify-center rounded-md bg-primary py-3 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10"},u(a.getName("create")),1)])):y("",!0)]),d(h),(l(!0),m(C,null,z(o.items,(r,V)=>(l(),m("div",De,[s("div",Ke,[L(u(V+1)+". ",1),s("p",Ae,u(r.name),1)]),s("div",He,[s("p",Fe,u(r.products.length),1)]),s("div",qe,[s("p",$e,u(r.updated_at),1)]),s("div",Je,[s("p",Xe,[a.hasPermission("Warehouse-update")?(l(),m("i",{key:0,onClick:T=>a.onModal(r.id),class:"fa-solid setting-icon fa-pen-to-square"},null,8,ze)):y("",!0),L("   "),a.hasPermission("Warehouse-delete")&&r.products.length==0?(l(),m("i",{key:1,onClick:T=>a.onDelete(r.id),class:"fa-solid text-danger fa-trash setting-icon"},null,8,Ge)):y("",!0)])])]))),256)),o.items.length==0&&o.search==""?(l(),v(f,{key:0})):y("",!0),d(U,null,{default:p(()=>[d(P,null,{default:p(()=>[d(i,{"total-items":o.last_page,"items-per-page":1,"max-pages-shown":1,modelValue:o.currentPage,"onUpdate:modelValue":t[3]||(t[3]=r=>o.currentPage=r),"on-click":a.onClickHandler},null,8,["total-items","modelValue","on-click"])]),_:1})]),_:1})])])]),d(S,{onOnButton:t[5]||(t[5]=r=>a.crudCategory()),isModal:o.isModal,onCloseModal:t[6]||(t[6]=r=>o.isModal=!1),Title:o.crud=="created"?a.getName("create"):a.getName("update")},{default:p(()=>[d(j,{Label:a.getName("name_content"),onOnInput:t[4]||(t[4]=r=>o.categoryName=r),isError:a.hasKey("name"),message:o.errorObj.name,Value:o.categoryName},null,8,["Label","isError","message","Value"])]),_:1},8,["isModal","Title"])],64)}const Re=b(Ce,[["render",Qe]]),lt={__name:"index",setup(e){return(t,c)=>(l(),v(M,{Animation:!1},{default:p(()=>[d(Re)]),_:1}))}};export{lt as default};
