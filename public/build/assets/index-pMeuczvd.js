import{a as D,b as k,P as $}from"./Page-gvb1AEqc.js";import{_ as v,M as w,u as I,ck as T,I as m,cl as N,A as g,c,w as u,r,o as i,e,a as _,t as s,f as L,b as f,d as A,$ as E,g as d,F as M}from"./app-ealr4c5P.js";import{B as G}from"./BasicTable-5aCicm8M.js";import{G as V}from"./GrowingLoader-BNVSBxfg.js";import{P as z}from"./PrimaryIconBtn-EsV8BMZz.js";import{D as F}from"./DefaultInput-rDKY-th1.js";import{P as O}from"./Paginate-a5fL_7fU.js";import{D as R}from"./DefaultSelect-kkSmRwZI.js";const j={components:{DefaultSelect:R,Paginate:O,DefaultInput:F,PrimaryBtn:D,ModalCentered:w,PrimaryIconBtn:z,PrimaryButton:k,GrowingLoader:V,BasicTable:G,Page:$},setup(){return{counterStore:I()}},data(){return{items:[],item:[],boxItem:[],paginateCount:10,last_page:1,current_page:1,boxLast_page:1,boxCurrent_page:1,column:"id",type:"desc",errors:[],loader:!1,boxLoader:!1,boxItems:[]}},methods:{async indexPaginates(t=1,o=!0){try{this.loader=o;const n=await T(this.paginateCount,t);n.status&&(this.current_page=n.data.pagination.current_page,this.last_page=n.data.pagination.last_page,this.items=n.data.items),this.loader=!1}catch(n){m(this,n)}},async delete(t){try{if(!confirm(this.$t("DeleteAlert")))return!1;if((await N(t)).status){this.indexPaginates(this.current_page),g("success",this.$t("delete"));return}return g("error",this.$t("formError")),!1}catch(o){return m(this,o),!1}}},mounted(){this.indexPaginates()}},q={class:"row"},H={value:"10",selected:""},J=e("option",{value:"10"},"10",-1),K=e("option",{value:"20"},"20",-1),Q=e("option",{value:"50"},"50",-1),U=e("option",{value:"100"},"100",-1),W={class:"m-0"},X={class:"m-0 font-size-12"};function Y(t,o,n,p,l,h){const P=r("DefaultSelect"),b=r("PrimaryIconBtn"),C=r("Paginate"),y=r("GrowingLoader"),x=r("BasicTable"),B=r("Page");return i(),c(B,{Title:""},{default:u(()=>[e("div",q,[_(x,{Th:[t.$t("No"),t.$t("Photo"),t.$t("MedicineName"),t.$t("Collection"),t.$t("Amount"),t.$t("ExpirationDate"),t.$t("Settings")],Col:"col-lg-12",Title:t.$t("MostSolds")},{inputs:u(()=>[_(P,{Label:"",Class:"col-lg-2 col-sm-2",onOnInput:o[0]||(o[0]=a=>(this.paginateCount=a,this.indexPaginates()))},{default:u(()=>[e("option",H,s(t.$t("NumberDownloads")),1),J,K,Q,U]),_:1}),L("   ")]),default:u(()=>[(i(!0),f(M,null,A(l.items,(a,S)=>(i(),f("tr",null,[e("td",null,s((l.current_page-1)*l.paginateCount+S+1),1),e("td",null,[e("div",{class:"table_image",style:E("background-image: url("+a.medicine.image[0].url+")")},null,4)]),e("td",null,[e("p",W,s(a.medicine.name),1),e("p",X,s(a.medicine.generic_name),1)]),e("td",null,s(a.name),1),e("td",null,s(p.counterStore.formatNumber(a.amount)),1),e("td",null,s(a.expiry_date_finished),1),e("td",null,[p.counterStore.hasRole("ExpiredMedicines-delete")?(i(),c(b,{key:0,onClick:Z=>this.delete(a.id),class:"bg-danger border-danger",Icon:"bx bx-trash-alt"},null,8,["onClick"])):d("",!0)])]))),256)),l.last_page!=1?(i(),c(C,{key:0,Cols:"7",currentPage:this.current_page,totalPages:this.last_page,onChangePage:o[1]||(o[1]=a=>h.indexPaginates(a))},null,8,["currentPage","totalPages"])):d("",!0),l.loader?(i(),c(y,{key:1,Cols:"7"})):d("",!0)]),_:1},8,["Th","Title"])])]),_:1})}const le=v(j,[["render",Y]]);export{le as default};
