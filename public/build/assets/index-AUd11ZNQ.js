import{P as v}from"./Page-8n99lQGG.js";import{_ as g,u as x,o as u,c as _,a,t as n,k as P,n as V,X as B,A as y,r as i,f as k,w as m,b as c,V as T,W as $,L as E,M as D,ax as A,ay as K,az as F,at as H,aA as q,aB as z,F as C,D as W,s as X,h as G}from"./app-TemNFbnf.js";import{I as J}from"./InputDefault-tLeF0Vsp.js";import{_ as Q}from"./pagination-01.vue_vue_type_style_index_0_lang-ZvTme92P.js";import{S as I,M as N}from"./Switch-ytQAvUOl.js";import{S as M}from"./Select-2LcnBieZ.js";import{I as w}from"./Input-kd4mt6Nc.js";import{L as R}from"./Loader-rZq7vIO3.js";const Y={data(){return{order:"asc",search:"",column:"id"}},methods:{getName(e){return x().getName(e)}}},Z={class:"grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table overflow-x-auto"},ee={class:"flex items-center justify-content-end p-2.5 xl:p-5"},te={class:"font-medium text-black dark:text-white"},ae={class:"flex items-center justify-center p-2.5 xl:p-5"},se={class:"font-medium text-black dark:text-white"},oe={class:"flex items-center justify-center p-2.5 xl:p-5"},re={class:"font-medium text-black dark:text-white"},ne={class:"flex items-center justify-center p-2.5 xl:p-5"},ie={class:"font-medium text-black dark:text-white"},le={class:"flex items-center justify-center p-2.5 xl:p-5"},de={class:"font-medium text-black dark:text-white"};function ce(e,t,l,p,o,s){return u(),_("div",Z,[a("div",ee,[a("p",te,n(s.getName("name_content")),1)]),a("div",ae,[a("p",se,n(s.getName("Warehouse")),1)]),a("div",oe,[a("p",re,n(s.getName("Created_at")),1)]),a("div",ne,[a("p",ie,n(s.getName("Updated_at")),1)]),a("div",le,[a("p",de,n(s.getName("actions")),1)])])}const ue=g(Y,[["render",ce],["__scopeId","data-v-4ceae024"]]),me={},pe={class:"box"},_e={class:"pagination"};function ge(e,t){return u(),_("div",pe,[a("div",_e,[P(e.$slots,"default")])])}const he=g(me,[["render",ge]]),fe={props:{number:{type:Number,default:0},active:{type:Boolean,default:!1},link:{type:String,default:0}}};function be(e,t,l,p,o,s){return u(),_("a",{class:V([l.active?"active":"","cursor-pointer"])},n(l.number),3)}const ye=g(fe,[["render",be]]),xe={components:{Switch:I,Input:w,Select:M,ModalLayout:N,Page:v},data(){return{status:1,categoryName:"",errorObj:{}}},props:{isCreateModal:{type:Boolean,default:!1},isUpdateModal:{type:Boolean,default:!1}},methods:{getName(e){return x().getName(e)},hasKey(e){return e in this.errorObj},async createCategory(){var e={name:this.categoryName,status:this.status};const t=await B(e);console.log(t),t.status?(this.categoryName="",this.$emit("closeModal",!1),this.$emit("Created",!0),y("success","Created successfully !")):this.errorObj=t.data}}},ke=a("option",{value:1}," Active",-1),ve=a("option",{value:0}," Inactive",-1);function Ne(e,t,l,p,o,s){const h=i("Input"),f=i("Select"),b=i("ModalLayout");return u(),k(b,{onOnButton:s.createCategory,isModal:l.isCreateModal,onCloseModal:t[2]||(t[2]=d=>this.$emit("closeModal",d)),Title:s.getName("create")},{default:m(()=>[c(h,{Label:s.getName("name_content"),onOnInput:t[0]||(t[0]=d=>o.categoryName=d),isError:s.hasKey("name"),message:o.errorObj.name,Value:o.categoryName},null,8,["Label","isError","message","Value"]),c(f,{Label:s.getName("status"),onOnSelect:t[1]||(t[1]=d=>this.status=d)},{default:m(()=>[ke,ve]),_:1},8,["Label"])]),_:1},8,["onOnButton","isModal","Title"])}const Me=g(xe,[["render",Ne]]),we={components:{Input:w,Select:M,ModalLayout:N,Page:v},data(){return{status:1,categoryName:"",errorObj:{}}},props:{isUpdateModal:{type:Boolean,default:!1},Updated_Id:{type:Number,default:0}},methods:{getName(e){return x().getName(e)},hasKey(e){return e in this.errorObj},async getModel(){console.log(this.isUpdateModal);const e=await T(this.Updated_Id);this.categoryName=e.data.name,this.status=e.data.status},async updateCategory(){var e={name:this.categoryName,status:this.status};const t=await $(this.Updated_Id,e);t.status?(this.categoryName="",this.$emit("closeModal",!1),this.$emit("Created",!0),y("success","Update successfully !")):this.errorObj=t.data}},watch:{Updated_Id:function(e,t){this.getModel()}}},Ce=["selected"],Ie=["selected"];function je(e,t,l,p,o,s){const h=i("Input"),f=i("Select"),b=i("ModalLayout");return u(),k(b,{onOnButton:s.updateCategory,isModal:l.isUpdateModal,onCloseModal:t[2]||(t[2]=d=>this.$emit("closeUpdatedModal",!1)),Title:s.getName("update")},{default:m(()=>[c(h,{Label:s.getName("name_content"),onOnInput:t[0]||(t[0]=d=>o.categoryName=d),isError:s.hasKey("name"),message:o.errorObj.name,Value:o.categoryName},null,8,["Label","isError","message","Value"]),c(f,{Label:s.getName("status"),onOnSelect:t[1]||(t[1]=d=>o.status=d)},{default:m(()=>[a("option",{selected:o.status==1,value:1}," Active",8,Ce),a("option",{selected:o.status!=1,value:0}," Inactive",8,Ie)]),_:1},8,["Label"])]),_:1},8,["onOnButton","isModal","Title"])}const Le=g(we,[["render",je]]),Oe={components:{Loader:R,Switch:I,Select:M,Input:w,CreateForm:Me,ModalLayout:N,Pagination01:Q,UpdateForm:Le,VueAwesomePaginate:E,InputDefault:J,PaginateBtn:ye,Paginate:he,TableHeader:ue},data(){return{items:[],search:"",column:"updated_at",order:"asc",paginateCount:10,pagination:{},last_page:0,currentPage:1,UpdatedId:0,isModal:!1,ExitModal:!1,categoryName:"",errorObj:{},crud:""}},methods:{router(){return D},onClickHandler(e){this.paginate=e,this.currentPage=e,this.getItems()},onModal(e){e==null?(this.crud="created",this.categoryName=""):(this.crud="",this.UpdatedId=e,this.getModel()),this.errorObj={},this.isModal=!0},async getModel(){const e=await A(this.UpdatedId);this.categoryName=e.data.name},onUpdateModal(e){this.UpdatedId=e,this.isUpdateModal=!0},hasKey(e){return e in this.errorObj},async crudCategory(){var e={name:this.categoryName},t="";this.crud=="created"?t=await K(e):t=await F(this.UpdatedId,e),console.log(t),t.status?(this.categoryName="",this.UpdatedId=null,this.isModal=!1,this.getItems(),y("success","Created successfully !")):this.errorObj=t.data},getName(e){return x().getName(e)},openModal(){document.querySelector(".modal").classList.remove("hidden")},async getItems(){const e=await H(this.currentPage,this.paginateCount);this.pagination=e.data.pagination,this.last_page=e.data.pagination.last_page,this.current_page=e.data.pagination.currentPage,this.items=e.data.items,console.log(e)},async clickSearch(e,t){if(this.search=e,this.order=t,e!=""){var l={search:this.search,order:this.order,column:this.column,paginate:this.paginateCount};const p=await q(l);console.log(p),this.items=p.data.items}else this.getItems()},async onDelete(e){var t="Вы уверены, что хотите это удалить?";confirm(t)&&(await z(e)).status==!0&&(y("success","Deleted successfully !"),this.getItems())},onPaginate(e){this.paginateCount=e,this.getItems()}},mounted(){this.getItems()}},Ue={class:"col-span-12 xl:col-span-12"},Se={class:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1"},Pe={class:"mb-6 text-xl font-bold text-black dark:text-white"},Ve={class:"flex flex-col table_media_box"},Be={class:"grid grid-cols-3 rounded-sm mb-2 sm:grid-cols-5 relative media_top_bar"},Te={class:"ml-4"},$e=a("option",{value:"10"},"10",-1),Ee=a("option",{value:"20"},"20",-1),De=a("option",{value:"50"},"50",-1),Ae=a("option",{value:"100"},"100",-1),Ke=[$e,Ee,De,Ae],Fe={class:"flex flex-wrap gap-5 xl:gap-20",style:{position:"absolute",right:"0px",top:"0"}},He={class:"databes_table grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table"},qe={class:"flex justify-content-end gap-3 p-2.5 xl:p-5"},ze={class:"font-medium text-black dark:text-white sm:block"},We={class:"flex items-center justify-center p-2.5 xl:p-5"},Xe={class:"font-medium text-black dark:text-white"},Ge={class:"flex items-center justify-center p-2.5 xl:p-5"},Je={class:"font-medium text-black dark:text-white"},Qe={class:"flex items-center justify-center p-2.5 xl:p-5"},Re={class:"font-medium text-black dark:text-white"},Ye={class:"flex items-center justify-center p-2.5 sm:flex xl:p-5"},Ze={class:"font-medium text-meta-5"},et=["onClick"],tt=["onClick"];function at(e,t,l,p,o,s){const h=i("TableHeader"),f=i("Loader"),b=i("vue-awesome-paginate"),d=i("Pagination01"),j=i("Paginate"),L=i("Input"),O=i("ModalLayout");return u(),_(C,null,[a("div",Ue,[a("div",Se,[a("h4",Pe,n(s.getName("Filials")),1),a("div",Ve,[a("div",Be,[a("div",null,[a("input",{type:"text",placeholder:"Search",onInput:t[0]||(t[0]=r=>s.clickSearch(r.target.value,o.order)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},null,32)]),a("div",Te,[a("select",{placeholder:"Search",onInput:t[1]||(t[1]=r=>s.onPaginate(r.target.value)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},Ke,32)]),a("div",Fe,[a("span",{onClick:t[2]||(t[2]=r=>s.onModal(null)),class:"cursor-pointer inline-flex items-center justify-center rounded-md bg-primary py-3 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10"},n(s.getName("create")),1)])]),c(h),(u(!0),_(C,null,W(o.items,(r,U)=>(u(),_("div",He,[a("div",qe,[a("p",ze,n(U+1)+". "+n(r.name),1)]),a("div",We,[a("p",Xe,n(r.warehouses),1)]),a("div",Ge,[a("p",Je,n(r.created_at),1)]),a("div",Qe,[a("p",Re,n(r.updated_at),1)]),a("div",Ye,[a("p",Ze,[a("i",{onClick:S=>s.onModal(r.id),class:"fa-solid setting-icon fa-pen-to-square"},null,8,et),X("   "),a("i",{onClick:S=>s.onDelete(r.id),class:"fa-solid text-danger fa-trash setting-icon"},null,8,tt)])])]))),256)),o.items.length==0&&o.search==""?(u(),k(f,{key:0})):G("",!0),c(j,null,{default:m(()=>[c(d,null,{default:m(()=>[c(b,{"total-items":o.last_page,"items-per-page":1,"max-pages-shown":1,modelValue:o.currentPage,"onUpdate:modelValue":t[3]||(t[3]=r=>o.currentPage=r),"on-click":s.onClickHandler},null,8,["total-items","modelValue","on-click"])]),_:1})]),_:1})])])]),c(O,{onOnButton:t[5]||(t[5]=r=>s.crudCategory()),isModal:o.isModal,onCloseModal:t[6]||(t[6]=r=>o.isModal=!1),Title:o.crud=="created"?s.getName("create"):s.getName("update")},{default:m(()=>[c(L,{Label:s.getName("name_content"),onOnInput:t[4]||(t[4]=r=>o.categoryName=r),isError:s.hasKey("name"),message:o.errorObj.name,Value:o.categoryName},null,8,["Label","isError","message","Value"])]),_:1},8,["isModal","Title"])],64)}const st=g(Oe,[["render",at]]),mt={__name:"index",setup(e){return(t,l)=>(u(),k(v,null,{default:m(()=>[c(st)]),_:1}))}};export{mt as default};
