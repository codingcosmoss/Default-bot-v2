import{P as C}from"./PrimaryButton2-VF5CKIB7.js";import{I as x}from"./Input-sHi6_j3C.js";import{_ as S,o as a,c as n,a as l,t as _,k as B,n as y,h as m,a$ as D,u as I,r as u,F as h,C as b,b as p,w as g,f as w,i as T,j as N}from"./app-wmakNrFD.js";import{L as O}from"./Loader-mtXqPlpY.js";const P={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1},isLoginError:{type:Boolean,default:!1},message:{type:String,default:""}}},V={class:"mb-2.5 block text-black dark:text-white"},j={key:0,class:"text-danger"};function F(e,c,t,k,i,o){return a(),n("div",{class:y(t.Couple?"mb-4.5":"w-full xl:w-1/2")},[l("label",V,_(t.Label),1),l("select",{class:y([t.isError==!0?"isError":"","w-full rounded border-[1.5px] border-stroke bg-transparent px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary select-input"]),onInput:c[0]||(c[0]=d=>this.$emit("onSelect",d.target.value))},[B(e.$slots,"default")],34),t.isError?(a(),n("p",j,_(t.message),1)):m("",!0)],2)}const A=S(P,[["render",F]]),q={components:{Loader:O,PrimaryButton2:C,Input:x,Select:A},data(){return{personal_procents:[],employes:[]}},props:{errors:{type:[Object,Array],default:[]},isLoader:{type:Boolean,default:!0},personalProcents:{type:[Object,Array,String],default:[]},summError:{type:[Boolean],default:!1}},methods:{addTodo(){this.personal_procents.push({employee:"",procent:0,type:"%",index:0})},async getData(){this.personalProcents.length>0&&(this.personal_procents=this.personalProcents)},removeTudo(e){this.removeLoader(),confirm("Do you really want to delete it?")&&this.personal_procents.splice(e,1)},async getEmployes(){const e=await D("/employee/index?pages=1000");this.employes=e.data.employees},sendData(){this.$emit("Data",this.personal_procents)},getName(e){return I().getName(e)},hasKey(e){return e in this.errorObj},removeLoader(){const e=document.querySelector(".loader_box");e!=null&&setTimeout(()=>{e.classList.add("hidden_box")},2e3)}},mounted(){this.getEmployes(),this.getData(),this.removeLoader()},watch:{personalProcents:function(e,c){this.getData()}}},z=e=>(T("data-v-aeb69bca"),e=e(),N(),e),G={class:"list01"},K={class:"flex mt-5"},H=z(()=>l("option",null,"---",-1)),J=["value","selected"],M=["selected"],Q=["selected"],R={class:"btn-delete"},U=["onClick"],W={key:0,class:"text-danger mt-5"},X={key:1,class:"text-danger mt-5 loader_box"};function Y(e,c,t,k,i,o){const d=u("Select"),E=u("Input"),v=u("Loader"),L=u("PrimaryButton2");return a(),n("ul",G,[(a(!0),n(h,null,b(i.personal_procents,(f,r)=>(a(),n("li",K,[p(d,{isError:t.errors.includes(r)||t.summError,Couple:!1,Label:o.getName("employees"),onOnSelect:s=>(this.personal_procents[r].employee=s,o.sendData())},{default:g(()=>[H,(a(!0),n(h,null,b(i.employes,s=>(a(),n("option",{value:s.id,selected:s.id==this.personal_procents[r].employee},_(s.name),9,J))),256))]),_:2},1032,["isError","Label","onOnSelect"]),p(E,{isError:t.errors.includes(r)||t.summError,style:{"margin-left":"20px"},Type:"number",Couple:!1,Label:o.getName("Summa"),onOnInput:s=>(this.personal_procents[r].procent=s,o.sendData()),Value:this.personal_procents[r].procent},null,8,["isError","Label","onOnInput","Value"]),p(d,{isError:t.errors.includes(r)||t.summError,style:{width:"150px",margin:"0 20px"},Couple:!1,Label:"Type",onOnSelect:s=>(this.personal_procents[r].type=s,this.personal_procents[r].index=r,o.sendData())},{default:g(()=>[l("option",{selected:f.type=="%",value:"%"},"%",8,M),l("option",{value:"sum",selected:f.type=="sum"},"Sum",8,Q)]),_:2},1032,["isError","onOnSelect"]),l("div",R,[l("i",{onClick:s=>(o.removeTudo(r),o.sendData()),class:"fa-solid fa-trash"},null,8,U)])]))),256)),t.summError?(a(),n("p",W,_(o.getName("summError")),1)):m("",!0),t.isLoader?(a(),n("p",X,[i.personal_procents==0?(a(),w(v,{key:0})):m("",!0)])):m("",!0),p(L,{onClick:o.addTodo,Class:"btn-primary",class:"btn mt-5",Icon:"fa-solid fa-plus",Title:""},null,8,["onClick"])])}const re=S(q,[["render",Y],["__scopeId","data-v-aeb69bca"]]);export{re as D};
