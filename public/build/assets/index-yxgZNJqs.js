import{a as w,b as S,P as x}from"./Page-NCt1vy8i.js";import{_ as T,M as k,u as D,bt as R,I as h,bu as j,A as _,o as i,c as p,w as r,e as s,a as u,b as $,t as l,g,f as b,r as n,S as q,bv as H,bw as J,bx as K,by as Q,d as N,F as V,n as W}from"./app-lWMg9xSA.js";import{a as O,B as X}from"./BasicTable-ogQmHKq1.js";import{G as Y}from"./GrowingLoader--NO59BdZ.js";import{P as Z}from"./PrimaryIconBtn-NpjfOHT_.js";import{D as L}from"./DefaultInput-eaIS2-ET.js";import{D as M}from"./DefaultSelect-G7Ix1xfW.js";import{I as U}from"./ImageInput-oEuewNdW.js";import{P as tt}from"./Paginate-arsfl-F6.js";const et={components:{ImageInput:U,DefaultSelect:M,PrimaryBtn:w,BtnBox:O,ModalCentered:k,PrimaryButton:S,DefaultInput:L,Page:x},setup(){return{counterStore:D()}},props:{Item:Object},data(){return{items:[],item:[],paginateCount:10,column:"id",type:"desc",errors:[],passwordErrors:[],loader:!1,loaderPass:!1,status:1,name:"",address:"",phone:"",email:"",image:""}},methods:{async show(e){try{const t=await R(e);this.item=t.data,this.name=t.data.name,this.status=t.data.status}catch(t){h(this,t)}},save(){this.item=this.Item,this.payment_type_id=this.Item.payment_type_id,this.box_size_id=this.Item.box_size_id,this.drug_company_id=this.Item.drug_company_id,this.name=this.Item.name,this.generic_name=this.Item.generic_name,this.buy_price=this.Item.buy_price,this.price=this.Item.price,this.qr_code=this.Item.qr_code,this.hns_code=this.Item.hns_code,this.desc=this.Item.desc,this.strength=this.Item.strength,this.shelf=this.Item.shelf,this.vat=this.Item.vat,this.igta=this.Item.igta,this.status=this.Item.status,console.log("Item",this.Item)},async update(){try{this.loader=!0;let e={name:this.name,status:Number(this.status)};console.log(e);const t=await j(this.Item.id,e);return t.status?(_("success",this.$t("create")),this.errors=[],this.loader=!1,this.counterStore.hiddenModal("payment_typeUpdate"),this.$emit("onUpdate",!0),!0):(this.errors=t.errors,_("error",this.$t("formError")),this.loader=!1,!1)}catch(e){return h(this,e),this.loader=!1,!1}}},mounted(){},watch:{Item:function(e,t){this.save()}}},st={class:"row"},at={class:"row"},nt={key:0,class:"col-12 d-flex flex-column"},ot={class:"form-label"},rt=["checked"],it=s("label",{for:"payment_type_update","data-on-label":"On","data-off-label":"Off"},null,-1),lt={type:"button",class:"btn btn-light","data-bs-dismiss":"modal"};function ut(e,t,c,f,a,m){const I=n("DefaultInput"),C=n("BaseBox"),P=n("PrimaryBtn"),y=n("BtnBox"),B=n("ModalCentered");return i(),p(B,{Title:e.$t("Update"),ModalName:"payment_typeUpdate",isModalFooter:!1},{default:r(()=>[s("div",st,[u(C,{Col:"col-xl-12",Title:""},{default:r(()=>[s("div",at,[u(I,{Label:e.$t("ModalName"),Name:"name",Type:"text",Validated:a.errors,Value:a.name,onOnInput:t[0]||(t[0]=d=>(a.name=d,delete this.errors.name))},null,8,["Label","Validated","Value"]),a.status!=9?(i(),$("div",nt,[s("label",ot,l(e.$t("Status")),1),s("input",{type:"checkbox",id:"payment_type_update",switch:"none",onInput:t[1]||(t[1]=d=>a.status=a.status==1?0:1),checked:a.status==1},null,40,rt),it])):g("",!0)])]),_:1}),u(y,null,{default:r(()=>[s("button",lt,l(e.$t("Close")),1),b("   "),u(P,{Loader:a.loader,onOnButton:t[2]||(t[2]=d=>m.update())},{default:r(()=>[b(l(e.$t("Save")),1)]),_:1},8,["Loader"])]),_:1})])]),_:1},8,["Title"])}const dt=T(et,[["render",ut]]),ct={components:{ImageInput:U,DefaultSelect:M,PrimaryBtn:w,BtnBox:O,ModalCentered:k,PrimaryButton:S,DefaultInput:L,Page:x},setup(){return{counterStore:D()}},props:{Item:Object},data(){return{items:[],item:[],paginateCount:10,column:"id",type:"desc",errors:[],passwordErrors:[],loader:!1,loaderPass:!1,status:1,name:"",address:"",phone:"",email:"",image:""}},methods:{async show(e){try{const t=await q(e);this.item=t.data,this.name=t.data.name,this.status=t.data.status}catch(t){h(this,t)}},async save(){try{this.item="",this.name="",this.status=1}catch(e){h(this,e)}},async create(){try{this.loader=!0;let e={name:this.name,status:this.status};const t=await H(e);return t.status?(_("success",this.$t("create")),this.save(),this.loader=!1,this.errors=[],this.counterStore.hiddenModal("payment_typeCreate"),this.$emit("onCreate",!0),!0):(this.errors=t.errors,_("error",this.$t("formError")),this.loader=!1,!1)}catch(e){return h(this,e),this.loader=!1,!1}}},mounted(){},watch:{Item:function(e,t){this.save()}}},mt={class:"row"},pt={class:"row"},ht={class:"col-12 d-flex flex-column"},_t={class:"form-label"},ft=["checked"],yt=s("label",{for:"payment_type_create","data-on-label":"On","data-off-label":"Off"},null,-1);function gt(e,t,c,f,a,m){const I=n("DefaultInput"),C=n("BaseBox"),P=n("PrimaryBtn"),y=n("BtnBox"),B=n("ModalCentered");return i(),p(B,{Title:e.$t("Create"),ModalName:"payment_typeCreate",isModalFooter:!1},{default:r(()=>[s("div",mt,[u(C,{Col:"col-xl-12",Title:""},{default:r(()=>[s("div",pt,[u(I,{Label:e.$t("ModalName"),Name:"name",Type:"text",Validated:a.errors,Value:a.name,onOnInput:t[0]||(t[0]=d=>(a.name=d,delete this.errors.name))},null,8,["Label","Validated","Value"]),s("div",ht,[s("label",_t,l(e.$t("Status")),1),s("input",{type:"checkbox",id:"payment_type_create",switch:"none",onInput:t[1]||(t[1]=d=>a.status=a.status==1?0:1),checked:a.status==1},null,40,ft),yt])])]),_:1}),u(y,null,{default:r(()=>[s("button",{onClick:t[2]||(t[2]=d=>this.$emit("onClose")),type:"button",class:"btn btn-light","data-bs-dismiss":"modal"},l(e.$t("Close")),1),b("   "),u(P,{Loader:a.loader,onOnButton:t[3]||(t[3]=d=>m.create())},{default:r(()=>[b(l(e.$t("Save")),1)]),_:1},8,["Loader"])]),_:1})])]),_:1},8,["Title"])}const bt=T(ct,[["render",gt]]),It={components:{DefaultSelect:M,Paginate:tt,DefaultInput:L,PrimaryBtn:w,ModalCentered:k,PrimaryIconBtn:Z,PrimaryButton:S,GrowingLoader:Y,BasicTable:X,Page:x,Update:dt,Create:bt},setup(){return{counterStore:D()}},data(){return{items:[],item:[],boxItem:[],paginateCount:10,last_page:1,current_page:1,boxLast_page:1,boxCurrent_page:1,column:"id",type:"desc",errors:[],loader:!1,boxLoader:!1,boxItems:[]}},methods:{async indexPaginates(e=1,t=!0){try{this.loader=t;const c=await J(50,e);c.status&&(this.current_page=c.data.pagination.current_page,this.last_page=c.data.pagination.last_page,this.items=c.data.items),this.loader=!1}catch(c){h(this,c)}},async search(e=""){try{if(this.loader=!0,e=="")return this.indexPaginates(),!0;const t=await K(e);return this.items=t.data,this.loader=!1,t.status?(this.loader=!1,!0):(_("error",this.$t("formError")),this.loader=!1,!1)}catch(t){return h(this,t),this.loader=!1,!1}},async delete(e){try{if(!confirm(this.$t("DeleteAlert")))return!1;if((await Q(e)).status){this.indexPaginates(this.current_page),_("success",this.$t("delete"));return}return _("error",this.$t("formError")),!1}catch(t){return h(this,t),!1}}},mounted(){this.indexPaginates()}},Ct={class:"row"},Pt={value:"10",selected:""},Bt=s("option",{value:"10"},"10",-1),$t=s("option",{value:"20"},"20",-1),vt=s("option",{value:"50"},"50",-1),wt=s("option",{value:"100"},"100",-1),St={class:"m-0"};function xt(e,t,c,f,a,m){const I=n("DefaultInput"),C=n("DefaultSelect"),P=n("PrimaryBtn"),y=n("PrimaryIconBtn"),B=n("Paginate"),d=n("GrowingLoader"),E=n("BasicTable"),A=n("Update"),z=n("Create"),F=n("Page");return i(),p(F,{Title:""},{default:r(()=>[s("div",Ct,[u(E,{Th:[e.$t("No"),e.$t("ModalName"),e.$t("TotalRemittances"),e.$t("Status"),e.$t("Settings")],Title:e.$t("PaymentTypes"),Col:"col-lg-12"},{inputs:r(()=>[u(I,{Class:"col-lg-3 col-sm-2 search_input",Label:"",Name:"name",Type:"text",Pholder:"Search...",onOnInput:t[0]||(t[0]=o=>m.search(o))}),u(C,{Label:"",Class:"col-lg-2 col-sm-2",onOnInput:t[1]||(t[1]=o=>(this.paginateCount=o,this.indexPaginates()))},{default:r(()=>[s("option",Pt,l(e.$t("NumberDownloads")),1),Bt,$t,vt,wt]),_:1}),b("   ")]),buttons:r(()=>[f.counterStore.hasRole("PaymentTypes-create")?(i(),p(P,{key:0,role:"button","data-bs-toggle":"modal","data-bs-target":"#payment_typeCreate"},{default:r(()=>[b(l(e.$t("Create")),1)]),_:1})):g("",!0)]),default:r(()=>[(i(!0),$(V,null,N(a.items,(o,G)=>(i(),$("tr",null,[s("td",null,l((a.current_page-1)*a.paginateCount+G+1),1),s("td",null,l(o.name),1),s("td",null,[(i(!0),$(V,null,N(o.payments,v=>(i(),$("p",St,l(f.counterStore.formatNumber(v.total_amount))+" "+l(v.sign),1))),256))]),s("td",null,[s("span",{class:W([o.status==1||o.status==9?"badge-soft-success":"badge-soft-danger","badge badge-pill badge-soft-success font-size-11"])},l(o.status==1||o.status==9?e.$t("Active"):e.$t("InActive")),3)]),s("td",null,[f.counterStore.hasRole("PaymentTypes-update")?(i(),p(y,{key:0,onClick:v=>this.item=o,Icon:"bx bx-edit-alt",Modal:"payment_typeUpdate"},null,8,["onClick"])):g("",!0),f.counterStore.hasRole("PaymentTypes-delete")&&o.status!=9&&o.is_delete!=1?(i(),p(y,{key:1,onClick:v=>this.delete(o.id),class:"bg-danger border-danger",Icon:"bx bx-trash-alt"},null,8,["onClick"])):g("",!0)])]))),256)),a.last_page!=1?(i(),p(B,{key:0,Cols:"5",currentPage:this.current_page,totalPages:this.last_page,onChangePage:t[2]||(t[2]=o=>m.indexPaginates(o))},null,8,["currentPage","totalPages"])):g("",!0),a.loader?(i(),p(d,{key:1,Cols:"5"})):g("",!0)]),_:1},8,["Th","Title"])]),u(A,{Item:a.item,onOnUpdate:t[3]||(t[3]=o=>m.indexPaginates(this.current_page,!1))},null,8,["Item"]),u(z,{onOnCreate:t[4]||(t[4]=o=>m.indexPaginates(this.current_page,!1))})]),_:1})}const Et=T(It,[["render",xt]]);export{Et as default};
