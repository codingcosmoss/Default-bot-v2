import{P as y}from"./Page-WY9jM6QH.js";import{_ as g,u as p,o as _,b as w,e as s,t as l,i as b,j as S,k as L,G as d,A as i,L as k,c as $,w as E,r as u,a as h,l as m,n as x}from"./app-NOWLkVVR.js";import{L as I}from"./LoginInput-6TJkZLI4.js";const C={setup(){return{counterStore:p()}}},U={class:"account-pages my-5 pt-sm-5 mb-0"},P={class:"container"},V={class:"row justify-content-center"},B={class:"col-md-8 col-lg-6 col-xl-5"},N={class:"card overflow-hidden"},F={class:"bg-primary-subtle"},O={class:"row"},j={class:"col-7"},A={class:"text-primary p-4"},K={class:"text-primary"},T={class:"col-5 align-self-end"},z=["src"],G={class:"card-body pt-0"},J={class:"auth-logo"},D={class:"auth-logo-light"},W={class:"avatar-md profile-user-wid mb-4"},q={class:"avatar-title rounded-circle bg-light"},H=["src"],M={href:"index.html",class:"auth-logo-dark"},Q={class:"avatar-md profile-user-wid mb-4"},R={class:"avatar-title rounded-circle bg-light"},X=["src"],Y={class:"p-2"},Z={class:"mt-2 text-center"},ss=L('<div class="card border border-success m-0"><div class="card-header bg-transparent border-success d-flex justify-content-between align-items-center"><h5 class="my-0 text-success"><i class="mdi mdi-account me-3"></i>Admin</h5><h5 class="my-0 text-success"><i class="mdi mdi-content-copy"></i></h5></div></div>',1),es=[ss];function ts(t,e,f,n,o,a){return _(),w("div",U,[s("div",P,[s("div",V,[s("div",B,[s("div",N,[s("div",F,[s("div",O,[s("div",j,[s("div",A,[s("h5",K,l(t.$t("WelcomeBack")),1),s("p",null,l(t.$t("EnterLogin")),1)])]),b(" "+l()+" ",1),s("div",T,[s("img",{src:n.counterStore.baseUrl+"/assets/images/profile-img.png",alt:"",class:"img-fluid"},null,8,z)])])]),s("div",G,[s("div",J,[s("a",D,[s("div",W,[s("span",q,[s("img",{src:n.counterStore.baseUrl+"/assets/images/logo-light.svg",alt:"",class:"rounded-circle",height:"34"},null,8,H)])])]),s("a",M,[s("div",Q,[s("span",R,[s("img",{src:n.counterStore.baseUrl+"/assets/images/logo.svg",alt:"",class:"rounded-circle",height:"34"},null,8,X)])])])]),s("div",Y,[S(t.$slots,"default")]),s("div",Z,[s("div",null,[s("p",null,"Â© "+l(t.$t("PoweredByCodingCosmos")),1)])])])]),s("div",{class:"col-lg-12 m-0 cursor-pointer",onClick:e[0]||(e[0]=c=>this.$emit("onCopy",!0))},es)])])])])}const os=g(C,[["render",ts]]),rs={setup(){return{counterStore:p()}},components:{LoginInput:I,Layout:os,Page:y},data(){return{login:"",password:"",isError:!1,Loader:!1,errors:[]}},methods:{async getUser(){const t=await d();console.log(t),t.success==200&&(i("info",this.$t("youlogged")),localStorage.setItem("user",JSON.stringify(t.data)),localStorage.setItem("token",t.data.role_token),this.counterStore.updateUser(t.data),this.$router.push("/admin"))},async addForm(){try{this.Loader=!0;let t={login:this.login,password:this.password};const e=await k(t);return e.success!=null?e.success==200?(this.isError=!1,this.Loader=!1,localStorage.setItem("0008a78764c2",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),localStorage.setItem("token",e.data.user.role_token),localStorage.setItem("reload",!0),this.counterStore.updateUser(e.data.user),this.$router.push("/redirect"),i("success",this.$t("loginSuccess")),!0):(this.Loader=!1,i("error",this.$t("loginPasswordError")),!1):(this.errors=e.data,i("error",this.$t("loginPasswordError")),this.isError=!0,this.Loader=!1,!1)}catch{i("error",this.$t("loginPasswordError")),this.Loader=!1,this.isError=!0}},async getUserLocal(){await d(),this.$router.push("/")}},mounted(){this.getUser()}},as=s("br",null,null,-1),is={class:"d-grid"};function ns(t,e,f,n,o,a){const c=u("LoginInput"),v=u("Layout");return _(),$(v,{onOnCopy:e[5]||(e[5]=r=>(o.login="admin",o.password="12345678adc",a.addForm()))},{default:E(()=>[h(c,{Label:"Username",Pholder:"username",Value:o.login,onOnInput:e[0]||(e[0]=r=>o.login=r),onKeyup:e[1]||(e[1]=m(r=>a.addForm(),["enter"])),isError:"login"in o.errors},null,8,["Value","isError"]),h(c,{Label:"Password",Pholder:"password",Value:o.password,onOnInput:e[2]||(e[2]=r=>o.password=r),Type:"password",onKeyup:e[3]||(e[3]=m(r=>a.addForm(),["enter"])),isError:"password"in o.errors},null,8,["Value","isError"]),as,s("div",is,[s("button",{class:x([o.Loader&&"disabled","btn btn-primary waves-effect waves-light"]),onClick:e[4]||(e[4]=r=>a.addForm()),type:"submit"},"Tizimga kirish",2)])]),_:1})}const us=g(rs,[["render",ns]]);export{us as default};
