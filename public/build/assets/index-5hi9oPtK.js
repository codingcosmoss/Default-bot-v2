import{P as I}from"./Page-8n99lQGG.js";import{_ as f,o as d,c,a as r,t as m,u as b,A as _,r as p,F as v,D as g,h as y,n as S,b as x,m as C,a9 as $,bq as N,f as k,i as j,j as A,br as P,w as T}from"./app-TemNFbnf.js";import{C as M}from"./Checkbox-CcM-0a8e.js";import{C as V}from"./Checkbox01-7mbR3o1K.js";import{P as E}from"./PrimaryButton2-EuaGbrzE.js";import{I as O}from"./Input-FG7ZHoFJ.js";import"./Input-bbvb1mt7.js";const R={data(){return{Count:1}},props:{Value:{type:Number,default:1}},methods:{addCount(e){e?this.Count=this.Value+1:this.Count!=1&&(this.Count=this.Value-1),console.log("Values:",this.Count),this.$emit("count",this.Count)},valueReversed(){}},mounted(){this.valueReversed()},watch:{Value:function(){this.valueReversed()}}},q={class:"box"};function B(e,t,s,l,o,a){return d(),c("div",q,[r("i",{onClick:t[0]||(t[0]=u=>a.addCount(!1)),class:"fa-solid fa-minus"}),r("span",null,m(o.Count),1),r("i",{onClick:t[1]||(t[1]=u=>a.addCount(!0)),class:"fa-solid fa-plus"})])}const w=f(R,[["render",B],["__scopeId","data-v-2e614ea5"]]),K={setup(){return{counterStore:b()}},components:{Counter:w,Checkbox01:V,Checkbox:M},props:{Services:{type:[Array,Object],default:[]},Items:{type:[Array,Object],default:[]}},methods:{sendData(e,t){if(Number(t)==0)return _("error",this.getName("ProductNot")),!1;this.$emit("pushArray",e)},searchKey(e,t){if(t==0)return!1;let s=!1;return this.Items.forEach(l=>{l.id==e&&(s=!0)}),s},getName(e){return b().getName(e)}}},U={class:"col-span-12 xl:col-span-8"},D={class:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1"},H={key:0,class:"mb-6 mt-6 text-xl font-bold text-black dark:text-white"},W={class:"flex flex-col table_media_box"},F={class:"flex items-center gap-3 p-2.5 xl:p-5"},L={class:"font-bold text-black dark:text-white sm:block"},z={class:"flex items-center justify-center p-2.5 xl:p-5"},J={class:"font-medium text-black dark:text-white"},G={class:"flex items-center justify-center p-2.5 xl:p-5"},Z={class:"font-medium text-black dark:text-white"};function Q(e,t,s,l,o,a){const u=p("Checkbox01");return d(),c("div",U,[r("div",D,[(d(!0),c(v,null,g(s.Services,(h,i)=>(d(),c("span",null,[h.services!=0?(d(),c("h4",H,m(i+1)+". "+m(h.name),1)):y("",!0),r("div",W,[(d(!0),c(v,null,g(h.services,n=>(d(),c("div",{class:S([n.max_count==0?"bg-danger":"","grid grid-cols-3 border-b border-stroke dark:border-strokedark sm:grid-cols-3"])},[r("div",F,[r("p",L,[x(u,{onClick:ye=>a.sendData(n,n.max_count),Title:n.name,onCheck:a.searchKey(n.id,n.max_count)},null,8,["onClick","Title","onCheck"])])]),r("div",z,[r("p",J,m(l.counterStore.formatNumber(n.service_total_sum))+" UZS",1)]),r("div",G,[r("p",Z,m(n.max_count==1e3?"":n.max_count)+" "+m(n.max_count==1e3?a.getName("NotLimited"):a.getName("Piece")),1)])],2))),256))])]))),256))])])}const X=f(K,[["render",Q]]),Y={},ee={class:"col-span-12 rounded-sm border border-stroke bg-white py-6 shadow-default dark:border-strokedark dark:bg-boxdark xl:col-span-4"},te=C('<h4 class="mb-6 px-7.5 text-xl font-bold text-black dark:text-white"> Chats </h4><div><a href="messages.html" class="flex items-center gap-5 py-3 px-7.5 hover:bg-gray-3 dark:hover:bg-meta-4"><div class="relative h-14 w-14 rounded-full"><img src="http://127.0.0.1:8000/images/user/user-03.png" alt="User"><img src=""><span class="absolute right-0 bottom-0 h-3.5 w-3.5 rounded-full border-2 border-white bg-meta-3"></span></div><div class="flex flex-1 items-center justify-between"><div><h5 class="font-medium text-black dark:text-white"> Devid Heilo </h5><p><span class="text-sm font-medium text-black dark:text-white">Hello, how are you?</span><span class="text-xs"> . 12 min</span></p></div><div class="flex h-6 w-6 items-center justify-center rounded-full bg-primary"><span class="text-sm font-medium text-white">3</span></div></div></a><a href="messages.html" class="flex items-center gap-5 py-3 px-7.5 hover:bg-gray-3 dark:hover:bg-meta-4"><div class="relative h-14 w-14 rounded-full"><img src="http://127.0.0.1:8000/images/user/user-04.png" alt="User"><span class="absolute right-0 bottom-0 h-3.5 w-3.5 rounded-full border-2 border-white bg-meta-3"></span></div><div class="flex flex-1 items-center justify-between"><div><h5 class="font-medium">Henry Fisher</h5><p><span class="text-sm font-medium">I am waiting for you</span><span class="text-xs"> . 5:54 PM</span></p></div></div></a><a href="messages.html" class="flex items-center gap-5 py-3 px-7.5 hover:bg-gray-3 dark:hover:bg-meta-4"><div class="relative h-14 w-14 rounded-full"><img src="http://127.0.0.1:8000/images/user/user-05.png" alt="User"><span class="absolute right-0 bottom-0 h-3.5 w-3.5 rounded-full border-2 border-white bg-meta-6"></span></div><div class="flex flex-1 items-center justify-between"><div><h5 class="font-medium">Wilium Smith</h5><p><span class="text-sm font-medium">Where are you now?</span><span class="text-xs"> . 10:12 PM</span></p></div></div></a><a href="messages.html" class="flex items-center gap-5 py-3 px-7.5 hover:bg-gray-3 dark:hover:bg-meta-4"><div class="relative h-14 w-14 rounded-full"><img src="http://127.0.0.1:8000/images/user/user-01.png" alt="User"><span class="absolute right-0 bottom-0 h-3.5 w-3.5 rounded-full border-2 border-white bg-meta-3"></span></div><div class="flex flex-1 items-center justify-between"><div><h5 class="font-medium text-black dark:text-white"> Henry Deco </h5><p><span class="text-sm font-medium text-black dark:text-white">Thank you so much!</span><span class="text-xs"> . Sun</span></p></div><div class="flex h-6 w-6 items-center justify-center rounded-full bg-primary"><span class="text-sm font-medium text-white">2</span></div></div></a><a href="messages.html" class="flex items-center gap-5 py-3 px-7.5 hover:bg-gray-3 dark:hover:bg-meta-4"><div class="relative h-14 w-14 rounded-full"><img src="http://127.0.0.1:8000/images/user/user-02.png" alt="User"><span class="absolute right-0 bottom-0 h-3.5 w-3.5 rounded-full border-2 border-white bg-meta-7"></span></div><div class="flex flex-1 items-center justify-between"><div><h5 class="font-medium">Jubin Jack</h5><p><span class="text-sm font-medium">I really love that!</span><span class="text-xs"> . Oct 23</span></p></div></div></a><a href="messages.html" class="flex items-center gap-5 py-3 px-7.5 hover:bg-gray-3 dark:hover:bg-meta-4"><div class="relative h-14 w-14 rounded-full"><img src="http://127.0.0.1:8000/images/user/user-05.png" alt="User"><span class="absolute right-0 bottom-0 h-3.5 w-3.5 rounded-full border-2 border-white bg-meta-6"></span></div><div class="flex flex-1 items-center justify-between"><div><h5 class="font-medium">Wilium Smith</h5><p><span class="text-sm font-medium">Where are you now?</span><span class="text-xs"> . Sep 20</span></p></div></div></a></div>',2),se=[te];function re(e,t){return d(),c("div",ee,se)}const ae=f(Y,[["render",re]]),ne={methods:{getName(e){return b().getName(e)},async getItems(){this.ItemModels=[];const e=await $(this.$route.query.treatment_id);console.log("Response:",e),this.ItemModels=e.data.items,this.ItemModels.forEach(t=>{this.Services.push({id:t.id,count:t.count})}),this.ItemModels.length>0&&this.$emit("getModels",this.ItemModels)},async sendResponse(){let e=[];if(this.Items.length>0&&(this.Items.forEach(t=>{let s=null;this.Services.forEach(l=>{if(t.id==l.id)return s=l,!0}),s!=null?e.push({id:s.id,count:s.count>0?s.count:1}):e.push({id:t.id,count:1})}),e.length>0)){let t={items:e,treatment_id:this.$route.query.treatment_id};const s=await N(t);console.log("Respone:",s),s.status?this.$router.push({path:"/treatmetns/treatmetn",query:{id:this.$route.query.id,treatment_id:this.$route.query.treatment_id}}):this.errorObj=s.data}},hasKey(e){return e in this.errorObj},addCount(e,t){let s=e;const l=document.querySelector(".ui_input"+t.id);Number(s)>Number(t.max_count)&&(l.value=t.max_count,s=t.max_count,_("error",this.getName("ProductMin")));let o=null;this.Services.forEach((a,u)=>{if(a.id==t.id)return o=u,!0}),o==null?this.Services.push({id:t.id,count:s}):this.Services[o].count=s},removeItem(e){this.Services=this.Services.filter(t=>t.id!=e)},searchKey(e){let t=null;return this.Services.forEach((s,l)=>{if(s.id==e)return t=l,!0}),t!=null?this.Services[t].count:1}},data(){return{Services:[],ItemModels:[],errorObj:[]}},components:{Input:O,PrimaryButton2:E,Counter:w},props:{Items:{type:[Array,Object],default:[]},Id:{type:Number,default:0}},mounted(){this.getItems()}},oe=e=>(j("data-v-e21e0827"),e=e(),A(),e),ie={class:"col-span-12 rounded-sm border border-stroke bg-white py-6 shadow-default dark:border-strokedark dark:bg-boxdark xl:col-span-4"},le={class:"mb-6 px-7.5 text-xl font-bold text-black dark:text-white"},de={class:"flex items-center gap-5 py-3 px-7.5 hover:bg-gray-3 dark:hover:bg-meta-4"},ce={class:"flex flex-1 items-center justify-between"},ue={class:"item_box"},me={class:"font-medium"},he={class:"text-sm font-medium"},pe=oe(()=>r("span",{class:"text-xs"}," uzs",-1)),fe=["onClick"],xe={class:"w-full flex justify-content-end",style:{"justify-content":"flex-end"}};function be(e,t,s,l,o,a){const u=p("Input"),h=p("PrimaryButton2");return d(),c("div",ie,[r("h4",le,m(a.getName("services")),1),r("div",null,[(d(!0),c(v,null,g(s.Items,i=>(d(),c("div",de,[r("div",ce,[r("div",ue,[r("h5",me,m(i.name),1),r("p",null,[r("span",he,m(i.service_total_sum),1),pe])]),x(u,{style:{width:"200px","margin-right":"20px"},Type:"number",Label:"",onOnInput:n=>a.addCount(n,i),Value:a.searchKey(i.id),isError:a.hasKey(i.id),message:o.errorObj[i.id],Class:"ui_input"+i.id},null,8,["onOnInput","Value","isError","message","Class"]),r("i",{onClick:n=>(this.$emit("sendId",i),a.removeItem(i.id)),class:"fa-solid text-danger fa-trash setting-icon cursor-pointer"},null,8,fe)])]))),256)),r("div",xe,[s.Items.length!=0?(d(),k(h,{key:0,onClick:t[0]||(t[0]=i=>a.sendResponse()),style:{width:"200px",transform:"scale(0.8)"},Title:a.getName("Save")},null,8,["Title"])):y("",!0)])])])}const ve=f(ne,[["render",be],["__scopeId","data-v-e21e0827"]]),ge={components:{RightTable:ve,Chat01:ae,ServicesTable:X,Page:I},data(){return{Items:[],Services:[],Id:0}},methods:{getName(e){return useConterStore().getName(e)},async getItems(){const e=await P(this.$route.query.treatment_id);console.log("Keldi",e),this.Services=e.data.items},pushArray(e){let t=!1;this.Items.forEach(s=>{s.id==e.id&&(t=!0)}),t?this.Items=this.Items.filter(s=>s.id!=e.id):this.Items.push(e),this.Id=e.id}},mounted(){this.getItems()}};function _e(e,t,s,l,o,a){const u=p("ServicesTable"),h=p("RightTable"),i=p("Page");return d(),k(i,{Animation:!1},{default:T(()=>[x(u,{Services:o.Services,Items:o.Items,onPushArray:t[0]||(t[0]=n=>a.pushArray(n))},null,8,["Services","Items"]),x(h,{Id:o.Id,Items:o.Items,onSendId:t[1]||(t[1]=n=>a.pushArray(n)),onGetModels:t[2]||(t[2]=n=>n.length>0?o.Items=n:"")},null,8,["Id","Items"])]),_:1})}const je=f(ge,[["render",_e]]);export{je as default};
