import{a as S,b as w,P as L}from"./Page-C0EjvpJs.js";import{_ as k,M as D,u as T,b1 as J,J as g,b2 as H,A as _,o as l,c,w as r,e as s,a as i,t as u,i as y,r as n,b3 as K,b4 as Q,b5 as W,b6 as X,b7 as Y,b8 as Z,b9 as ee,ba as te,g as p,b as B,d as O,n as V,F as E}from"./app-LAVUBCmT.js";import{a as A,B as se}from"./BasicTable-JnKeluBY.js";import{G as ae}from"./GrowingLoader-zbPptTlk.js";import{P as oe}from"./PrimaryIconBtn-_sGNmi7d.js";import{D as M}from"./DefaultInput-fCD-8529.js";import{D as U}from"./DefaultSelect-dPDJB3o4.js";import{I as z}from"./ImageInput-AMVtyHKb.js";import{C as ne,a as re}from"./boxCreate-ozvy8Lwd.js";import{P as ie}from"./Paginate-84yQUtA5.js";const le={components:{ImageInput:z,DefaultSelect:U,PrimaryBtn:S,BtnBox:A,ModalCentered:D,PrimaryButton:w,DefaultInput:M,Page:L},setup(){return{counterStore:T()}},props:{Item:Object},data(){return{items:[],item:[],paginateCount:10,column:"id",type:"desc",errors:[],passwordErrors:[],loader:!1,loaderPass:!1,status:1,name:"",address:"",phone:"",email:"",image:""}},methods:{async show(t){try{const e=await J(t);this.item=e.data,this.name=e.data.name,this.status=e.data.status}catch(e){g(this,e)}},save(){this.item=this.Item,this.medicine_category_id=this.Item.medicine_category_id,this.box_size_id=this.Item.box_size_id,this.drug_company_id=this.Item.drug_company_id,this.name=this.Item.name,this.generic_name=this.Item.generic_name,this.buy_price=this.Item.buy_price,this.price=this.Item.price,this.qr_code=this.Item.qr_code,this.hns_code=this.Item.hns_code,this.desc=this.Item.desc,this.strength=this.Item.strength,this.shelf=this.Item.shelf,this.vat=this.Item.vat,this.igta=this.Item.igta,this.status=this.Item.status,console.log("Item",this.Item)},async update(){try{this.loader=!0;let t={name:this.name,status:Number(this.status)};console.log(t);const e=await H(this.Item.id,t);return e.status?(_("success",this.$t("create")),this.errors=[],this.loader=!1,this.counterStore.hiddenModal("medicine_categoryUpdate"),this.$emit("onUpdate",!0),!0):(this.errors=e.errors,_("error",this.$t("formError")),this.loader=!1,!1)}catch(t){return g(this,t),this.loader=!1,!1}}},mounted(){},watch:{Item:function(t,e){this.save()}}},de={class:"row"},ue={class:"row"},ce={class:"col-12 d-flex flex-column"},me={class:"form-label"},he=["checked"],pe=s("label",{for:"medicine_category_update","data-on-label":"On","data-off-label":"Off"},null,-1),ge={type:"button",class:"btn btn-light","data-bs-dismiss":"modal"};function _e(t,e,d,f,a,m){const C=n("DefaultInput"),x=n("BaseBox"),I=n("PrimaryBtn"),b=n("BtnBox"),P=n("ModalCentered");return l(),c(P,{Title:t.$t("Update"),ModalName:"medicine_categoryUpdate",isModalFooter:!1},{default:r(()=>[s("div",de,[i(x,{Col:"col-xl-12",Title:""},{default:r(()=>[s("div",ue,[i(C,{Label:t.$t("ModalName"),Name:"name",Type:"text",Validated:a.errors,Value:a.name,onOnInput:e[0]||(e[0]=h=>(a.name=h,delete this.errors.name))},null,8,["Label","Validated","Value"]),s("div",ce,[s("label",me,u(t.$t("Status")),1),s("input",{type:"checkbox",id:"medicine_category_update",switch:"none",onInput:e[1]||(e[1]=h=>a.status=a.status==1?0:1),checked:a.status==1},null,40,he),pe])])]),_:1}),i(b,null,{default:r(()=>[s("button",ge,u(t.$t("Close")),1),y("   "),i(I,{Loader:a.loader,onOnButton:e[2]||(e[2]=h=>m.update())},{default:r(()=>[y(u(t.$t("Save")),1)]),_:1},8,["Loader"])]),_:1})])]),_:1},8,["Title"])}const fe=k(le,[["render",_e]]),be={components:{ImageInput:z,DefaultSelect:U,PrimaryBtn:S,BtnBox:A,ModalCentered:D,PrimaryButton:w,DefaultInput:M,Page:L},setup(){return{counterStore:T()}},props:{Item:Object},data(){return{items:[],item:[],paginateCount:10,column:"id",type:"desc",errors:[],passwordErrors:[],loader:!1,loaderPass:!1,status:1,name:"",address:"",phone:"",email:"",image:""}},methods:{async show(t){try{const e=await K(t);this.item=e.data,this.name=e.data.name,this.status=e.data.status}catch(e){g(this,e)}},save(){this.item=this.Item,this.name=this.Item.name,this.status=this.Item.status,console.log("Item",this.Item)},async update(){try{this.loader=!0;let t={name:this.name,status:Number(this.status)};console.log(t);const e=await Q(this.Item.id,t);return e.status?(_("success",this.$t("create")),this.errors=[],this.loader=!1,this.counterStore.hiddenModal("drug_companyUpdate"),this.$emit("onUpdate",!0),!0):(this.errors=e.errors,_("error",this.$t("formError")),this.loader=!1,!1)}catch(t){return g(this,t),this.loader=!1,!1}}},mounted(){},watch:{Item:function(t,e){this.save()}}},ye={class:"row"},Ce={class:"row"},xe={class:"col-12 d-flex flex-column"},Ie={class:"form-label"},Pe=["checked"],Be=s("label",{for:"drug_company_update","data-on-label":"On","data-off-label":"Off"},null,-1),ve={type:"button",class:"btn btn-light","data-bs-dismiss":"modal"};function $e(t,e,d,f,a,m){const C=n("DefaultInput"),x=n("BaseBox"),I=n("PrimaryBtn"),b=n("BtnBox"),P=n("ModalCentered");return l(),c(P,{Title:t.$t("Update"),ModalName:"drug_companyUpdate",isModalFooter:!1},{default:r(()=>[s("div",ye,[i(x,{Col:"col-xl-12",Title:""},{default:r(()=>[s("div",Ce,[i(C,{Label:t.$t("ModalName"),Name:"name",Type:"text",Validated:a.errors,Value:a.name,onOnInput:e[0]||(e[0]=h=>(a.name=h,delete this.errors.name))},null,8,["Label","Validated","Value"]),s("div",xe,[s("label",Ie,u(t.$t("Status")),1),s("input",{type:"checkbox",id:"drug_company_update",switch:"none",onInput:e[1]||(e[1]=h=>a.status=a.status==1?0:1),checked:a.status==1},null,40,Pe),Be])])]),_:1}),i(b,null,{default:r(()=>[s("button",ve,u(t.$t("Close")),1),y("   "),i(I,{Loader:a.loader,onOnButton:e[2]||(e[2]=h=>m.update())},{default:r(()=>[y(u(t.$t("Save")),1)]),_:1},8,["Loader"])]),_:1})])]),_:1},8,["Title"])}const Se=k(be,[["render",$e]]),we={components:{DefaultSelect:U,Paginate:ie,boxUpdate:Se,boxCreate:ne,DefaultInput:M,PrimaryBtn:S,ModalCentered:D,PrimaryIconBtn:oe,PrimaryButton:w,GrowingLoader:ae,BasicTable:se,Page:L,Update:fe,Create:re},setup(){return{counterStore:T()}},data(){return{items:[],item:[],boxItem:[],paginateCount:10,last_page:1,current_page:1,boxLast_page:1,boxCurrent_page:1,column:"id",type:"desc",errors:[],loader:!1,boxLoader:!1,boxItems:[]}},methods:{async indexPaginates(t=1,e=!0){try{this.loader=e;const d=await W(50,t);d.status&&(this.current_page=d.data.pagination.current_page,this.last_page=d.data.pagination.last_page,this.items=d.data.items),this.loader=!1}catch(d){g(this,d)}},async indexBoxPaginates(t=1,e=!0){try{this.boxLoader=e;const d=await X(50,t);d.status&&(this.boxCurrent_page=d.data.pagination.current_page,this.boxLast_page=d.data.pagination.last_page,this.boxItems=d.data.items),this.boxLoader=!1}catch(d){g(this,d)}},async search(t=""){try{if(this.loader=!0,t=="")return this.indexPaginates(),!0;const e=await Y(t);return this.items=e.data,this.loader=!1,e.status?(this.loader=!1,!0):(_("error",this.$t("formError")),this.loader=!1,!1)}catch(e){return g(this,e),this.loader=!1,!1}},async boxSearch(t=""){try{if(this.boxLoader=!0,t=="")return this.indexBoxPaginates(),!0;const e=await Z(t);return this.boxItems=e.data,this.boxLoader=!1,e.status?(this.boxLoader=!1,!0):(_("error",this.$t("formError")),this.boxLoader=!1,!1)}catch(e){return g(this,e),this.boxLoader=!1,!1}},async delete(t){try{if(!confirm(this.$t("DeleteAlert")))return!1;if((await ee(t)).status){this.indexPaginates(this.current_page),_("success",this.$t("delete"));return}return _("error",this.$t("formError")),!1}catch(e){return g(this,e),!1}},async boxDelete(t){try{if(!confirm(this.$t("DeleteAlert")))return!1;if((await te(t)).status){this.indexBoxPaginates(this.current_page),_("success",this.$t("delete"));return}return _("error",this.$t("formError")),!1}catch(e){return g(this,e),!1}}},mounted(){this.indexPaginates(),this.indexBoxPaginates()}},Le={class:"row"},ke={value:"10",selected:""},De=s("option",{value:"10"},"10",-1),Te=s("option",{value:"20"},"20",-1),Me=s("option",{value:"50"},"50",-1),Ue=s("option",{value:"100"},"100",-1),Ne={value:"10",selected:""},Oe=s("option",{value:"10"},"10",-1),Ve=s("option",{value:"20"},"20",-1),Ee=s("option",{value:"50"},"50",-1),Ae=s("option",{value:"100"},"100",-1);function ze(t,e,d,f,a,m){const C=n("DefaultInput"),x=n("DefaultSelect"),I=n("PrimaryBtn"),b=n("PrimaryIconBtn"),P=n("Paginate"),h=n("GrowingLoader"),N=n("BasicTable"),R=n("Update"),F=n("Create"),G=n("boxUpdate"),j=n("boxCreate"),q=n("Page");return l(),c(q,{Title:""},{default:r(()=>[s("div",Le,[i(N,{Th:[t.$t("No"),t.$t("ModalName"),t.$t("Status"),t.$t("Settings")],Title:t.$t("Categories"),Col:"col-lg-6"},{inputs:r(()=>[i(C,{Class:"col-lg-3 col-sm-2 search_input",Label:"",Name:"name",Type:"text",Pholder:"Search...",onOnInput:e[0]||(e[0]=o=>m.search(o))}),i(x,{Label:"",Class:"col-lg-2 col-sm-2",onOnInput:e[1]||(e[1]=o=>(this.paginateCount=o,this.indexPaginates()))},{default:r(()=>[s("option",ke,u(t.$t("NumberDownloads")),1),De,Te,Me,Ue]),_:1}),y("   ")]),buttons:r(()=>[f.counterStore.hasRole("MedicineCategories-create")?(l(),c(I,{key:0,role:"button","data-bs-toggle":"modal","data-bs-target":"#medicine_categoryCreate"},{default:r(()=>[y(u(t.$t("Create")),1)]),_:1})):p("",!0)]),default:r(()=>[(l(!0),B(E,null,O(a.items,(o,v)=>(l(),B("tr",null,[s("td",null,u((a.current_page-1)*a.paginateCount+v+1),1),s("td",null,u(o.name),1),s("td",null,[s("span",{class:V([o.status==1?"badge-soft-success":"badge-soft-danger","badge badge-pill badge-soft-success font-size-11"])},u(o.status==1?t.$t("Active"):t.$t("InActive")),3)]),s("td",null,[f.counterStore.hasRole("MedicineCategories-update")?(l(),c(b,{key:0,onClick:$=>this.item=o,Icon:"bx bx-edit-alt",Modal:"medicine_categoryUpdate"},null,8,["onClick"])):p("",!0),f.counterStore.hasRole("MedicineCategories-delete")?(l(),c(b,{key:1,onClick:$=>this.delete(o.id),class:"bg-danger border-danger",Icon:"bx bx-trash-alt"},null,8,["onClick"])):p("",!0)])]))),256)),a.last_page!=1?(l(),c(P,{key:0,currentPage:this.current_page,totalPages:this.last_page,onChangePage:e[2]||(e[2]=o=>m.indexPaginates(o))},null,8,["currentPage","totalPages"])):p("",!0),a.loader?(l(),c(h,{key:1,Cols:"4"})):p("",!0)]),_:1},8,["Th","Title"]),i(N,{Th:[t.$t("No"),t.$t("Size"),t.$t("Status"),t.$t("Settings")],Title:t.$t("DrugCompanies"),Col:"col-lg-6"},{inputs:r(()=>[i(C,{Class:"col-lg-3 col-sm-2 search_input",Label:"",Name:"name",Type:"text",Pholder:"Search...",onOnInput:e[3]||(e[3]=o=>m.boxSearch(o))}),i(x,{Label:"",Class:"col-lg-2 col-sm-2",onOnInput:e[4]||(e[4]=o=>(this.paginateCount=o,this.indexBoxPaginates()))},{default:r(()=>[s("option",Ne,u(t.$t("NumberDownloads")),1),Oe,Ve,Ee,Ae]),_:1}),y("   ")]),buttons:r(()=>[f.counterStore.hasRole("DrugCompanies-create")?(l(),c(I,{key:0,role:"button","data-bs-toggle":"modal","data-bs-target":"#drug_companyCreate"},{default:r(()=>[y(u(t.$t("Create")),1)]),_:1})):p("",!0)]),default:r(()=>[(l(!0),B(E,null,O(a.boxItems,(o,v)=>(l(),B("tr",null,[s("td",null,u((a.boxCurrent_page-1)*a.paginateCount+v+1),1),s("td",null,u(o.name),1),s("td",null,[s("span",{class:V([o.status==1?"badge-soft-success":"badge-soft-danger","badge badge-pill badge-soft-success font-size-11"])},u(o.status==1?t.$t("Active"):t.$t("InActive")),3)]),s("td",null,[f.counterStore.hasRole("DrugCompanies-update")?(l(),c(b,{key:0,onClick:$=>a.boxItem=o,Icon:"bx bx-edit-alt",Modal:"drug_companyUpdate"},null,8,["onClick"])):p("",!0),f.counterStore.hasRole("DrugCompanies-delete")?(l(),c(b,{key:1,onClick:$=>this.boxDelete(o.id),class:"bg-danger border-danger",Icon:"bx bx-trash-alt"},null,8,["onClick"])):p("",!0)])]))),256)),a.boxLast_page!=1?(l(),c(P,{key:0,currentPage:this.boxCurrent_page,totalPages:this.boxLast_page,onChangePage:e[5]||(e[5]=o=>m.indexBoxPaginates(o))},null,8,["currentPage","totalPages"])):p("",!0),a.boxLoader?(l(),c(h,{key:1,Cols:"4"})):p("",!0)]),_:1},8,["Th","Title"])]),i(R,{Item:a.item,onOnUpdate:e[6]||(e[6]=o=>m.indexPaginates(this.current_page,!1))},null,8,["Item"]),i(F,{onOnCreate:e[7]||(e[7]=o=>m.indexPaginates(this.current_page,!1))}),i(G,{Item:a.boxItem,onOnUpdate:e[8]||(e[8]=o=>m.indexBoxPaginates(this.boxCurrent_page,!1))},null,8,["Item"]),i(j,{onOnCreate:e[9]||(e[9]=o=>m.indexBoxPaginates(this.boxCurrent_page,!1))})]),_:1})}const Xe=k(we,[["render",ze]]);export{Xe as default};
