import{P as v}from"./Page-mAivDXea.js";import{_ as f,o as i,c as d,a as s,t as u,n as _,i as E,m as b,u as L,p as I,q as N,A as P,s as T,r as m,b as n,F as h,v as x,d as O,w as B}from"./app-8i59_tig.js";import{I as F}from"./ImageInput-kHPAZAJB.js";import{T as S}from"./Table-U6DySGSG.js";import{C as V}from"./Checkbox01-rD0XVLDM.js";import"./Switch-aMALSFy7.js";import"./Input-AJAfOiLl.js";import"./InputDefault-8H7puYZk.js";import"./Select-YcpyyNbB.js";import"./InputColor-s0cIO5la.js";import"./paginate-8X5YIlX3.js";import"./Loader-gbTB4BrO.js";const j={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1},isLoginError:{type:Boolean,default:!1},message:{type:String,default:""}}},R={class:"mb-2.5 block text-black dark:text-white"},K=["value","type"],A={key:0,class:"text-danger"};function q(l,e,a,g,o,r){return i(),d("div",{class:_(a.Couple?"mb-4.5":"w-full xl:w-1/2")},[s("label",R,u(a.Label),1),s("input",{value:a.Value,type:a.Type,min:"0",class:_([a.isError==!0?"isError":"","w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"]),placeholder:"...",onInput:e[0]||(e[0]=p=>this.$emit("onInput",p.target.value))},null,42,K),a.isError?(i(),d("p",A,u(a.message),1)):E("",!0)],2)}const k=f(j,[["render",q]]),z={components:{Input:k},props:{Couple:{type:Boolean,default:!0},Title:{type:String,default:"Checkbox title"}}};function D(l,e,a,g,o,r){return i(),d("li",null,[s("input",{type:"checkbox",onInput:e[0]||(e[0]=p=>this.$emit("onCheck",!0))},null,32),b("   "+u(a.Title),1)])}const G=f(z,[["render",D],["__scopeId","data-v-5c9ec93d"]]),H={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1}}},J={class:"mb-2.5 block text-black dark:text-white"},M=["value","type"];function Q(l,e,a,g,o,r){return i(),d("div",{class:_(a.Couple?"mb-4.5":"w-full xl:w-1/2")},[s("label",J,u(a.Label),1),s("input",{value:a.Value,type:a.Type,class:_([a.isError==!0?"isError":"","rounded border-[1.5px] border-stroke bg-transparent py-20 px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"]),placeholder:"Select subject",onInput:e[0]||(e[0]=p=>this.$emit("onInput",p.target.value)),style:{width:"80px",height:"40px"}},null,42,M)],2)}const U=f(H,[["render",Q]]),W={data(){return{name:"",position:"",login:"",password:"",profil_photo_path:"",percent_salary:"",salary_static:"",sort_order:"",isPasswordError:!1,reset_password:"",isLoginError:!1,color:"#FFFFFF",errorObj:{},image:"",Roles:[],Permissions:[]}},components:{Checkbox01:V,Table:S,ImageInput:F,InputColor:U,Checkbox:G,Input:k},methods:{getName(l){return L().getName(l)},async getPermissions(){const l=await I();this.Permissions=l.data},testPassword(l){return this.password!=l?this.isPasswordError=!0:this.isPasswordError=!1,this.reset_password=l,this.isPasswordError},addRoles(l){this.Roles.includes(l)?this.Roles=this.Roles.filter(e=>e!=l):this.Roles.push(l)},async create(){if(this.testPassword(this.reset_password)!=!0){var l={name:this.name,position:this.position,login:this.login,password:this.password,profil_photo_path:this.profil_photo_path,percent_salary:this.percent_salary,salary_static:this.salary_static,sort_order:this.sort_order,color:this.color,image:this.image,roles:this.Roles};const e=await N(l);e.status?(P("success","Created successfully !"),this.$router.push("/employees")):(console.log(e.data),this.errorObj=e.data)}},async testLogin(l){this.login=l,(await T({login:l})).status?this.isLoginError=!0:this.isLoginError=!1},hasKey(l){return l in this.errorObj}},mounted(){this.getPermissions()}},X={class:"breadcrumb-nav mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between"},Y={class:"flex items-center gap-2"},Z={class:"font-medium text-primary"},$={class:"grid grid-cols-1 gap-9 sm:grid-cols-2"},ee={class:"flex flex-col gap-9"},se={class:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},re={class:"border-b border-stroke py-4 px-6.5 dark:border-strokedark"},te={class:"font-semibold text-black dark:text-white"},oe={action:"#"},le={class:"p-6.5"},ae={class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},ne={class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},ie={class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},de={class:"flex flex-col gap-9"},ue={class:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},pe=s("div",{class:"border-b border-stroke py-4 px-6.5 dark:border-strokedark"},[s("h3",{class:"font-semibold text-black dark:text-white"})],-1),ce={class:"pt-0 p-6.5"},me={style:{display:"flex",padding:"5px 27px"}},be={class:"pl-7 p-6.5"};function fe(l,e,a,g,o,r){const p=m("ImageInput"),c=m("Input"),w=m("InputColor"),y=m("Checkbox01");return i(),d(h,null,[s("div",X,[s("nav",null,[s("ol",Y,[s("li",null,[s("a",{class:"font-medium cursor-pointer",onClick:e[0]||(e[0]=t=>this.$router.push("/employees"))},u(r.getName("employees"))+" /",1)]),s("li",Z,u(r.getName("create")),1)])])]),s("div",$,[s("div",ee,[s("div",se,[s("div",re,[s("h3",te,u(r.getName("add_employee")),1)]),s("form",oe,[s("div",le,[n(p,{onImage:e[1]||(e[1]=t=>o.image=t)}),s("div",ae,[n(c,{Couple:!1,Label:r.getName("employee_name"),onOnInput:e[2]||(e[2]=t=>o.name=t),isError:r.hasKey("name"),message:o.errorObj.name},null,8,["Label","isError","message"]),n(c,{Couple:!1,Label:r.getName("Position_employee"),onOnInput:e[3]||(e[3]=t=>o.position=t),isError:r.hasKey("position"),message:o.errorObj.position},null,8,["Label","isError","message"])]),n(c,{Label:r.getName("login"),onOnInput:e[4]||(e[4]=t=>r.testLogin(t)),Value:o.login,isError:o.isLoginError,message:"Login is available !"},null,8,["Label","Value","isError"]),s("div",ne,[n(c,{Couple:!1,Label:r.getName("password"),onOnInput:e[5]||(e[5]=t=>o.password=t),Type:"password",isError:r.hasKey("password"),message:o.errorObj.password},null,8,["Label","isError","message"]),n(c,{Couple:!1,Label:r.getName("reset_password"),onOnInput:e[6]||(e[6]=t=>r.testPassword(t)),isError:o.isPasswordError,Type:"password",Value:o.reset_password,message:"The password is not the same"},null,8,["Label","isError","Value"])]),s("div",ie,[n(w,{Type:"color",Couple:!1,Label:r.getName("color"),onOnInput:e[7]||(e[7]=t=>o.color=t),isError:r.hasKey("color"),message:o.errorObj.color},null,8,["Label","isError","message"]),n(c,{Type:"number",Couple:!1,Label:r.getName("Serial_number"),onOnInput:e[8]||(e[8]=t=>o.sort_order=t),isError:r.hasKey("sort_order"),message:o.errorObj.sort_order},null,8,["Label","isError","message"])])])])])]),s("div",de,[s("div",ue,[pe,b("   "),s("p",ce,u(r.getName("employee_roles"))+":",1),s("ul",me,[s("li",null,[(i(!0),d(h,null,x(o.Permissions.slice(0,10),t=>(i(),d("span",null,[n(y,{onClick:C=>r.addRoles(t.id),onCheck:o.Roles.includes(t.id),Title:r.getName(t.lang_name),Class:"genderCheckbox"},null,8,["onClick","onCheck","Title"]),b("   ")]))),256))]),b("                "),s("li",null,[(i(!0),d(h,null,x(o.Permissions.slice(10,o.Permissions.length),t=>(i(),d("span",null,[n(y,{onClick:C=>r.addRoles(t.id),onCheck:o.Roles.includes(t.id),Title:r.getName(t.lang_name),Class:"genderCheckbox"},null,8,["onClick","onCheck","Title"]),b("   ")]))),256))])]),s("div",be,[s("button",{onClick:e[9]||(e[9]=(...t)=>r.create&&r.create(...t)),class:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray"},u(r.getName("create")),1)])])])])],64)}const ge=f(W,[["render",fe]]),_e={components:{FormLayouts:ge,Page:v}};function he(l,e,a,g,o,r){const p=m("FormLayouts"),c=m("Page");return i(),O(c,{Classes:!1,Animation:!1},{default:B(()=>[n(p)]),_:1})}const Oe=f(_e,[["render",he]]);export{Oe as default};
