import{P as v}from"./Page-mAivDXea.js";import{_ as f,o as d,c as m,a as r,t as n,n as h,i as g,m as w,e as L,u as E,a6 as N,A as S,a1 as j,a5 as V,r as p,b as i,w as k,F as x,v as O,d as P}from"./app-8i59_tig.js";import{P as B}from"./PrimaryButton-4iyouYaJ.js";import{P as T}from"./PrimaryButton2-zUn7s8oD.js";import{M as D}from"./MultiSelect-sO-wlXOo.js";import{C as y}from"./Checkbox01-rD0XVLDM.js";import{I as K}from"./ImageInput-kHPAZAJB.js";import"./Select-YcpyyNbB.js";const M={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1},isLoginError:{type:Boolean,default:!1},message:{type:String,default:""}}},F={class:"mb-2.5 block text-black dark:text-white"},A=["value","type"],q={key:0,class:"text-danger"};function U(t,e,a,c,s,o){return d(),m("div",{class:h(a.Couple?"mb-4.5":"w-full xl:w-1/2")},[r("label",F,n(a.Label),1),r("input",{value:a.Value,type:a.Type,min:"0",class:h([a.isError==!0?"isError":"","w-full rounded border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"]),placeholder:"...",onInput:e[0]||(e[0]=u=>this.$emit("onInput",u.target.value))},null,42,A),a.isError?(d(),m("p",q,n(a.message),1)):g("",!0)],2)}const C=f(M,[["render",U]]),z={components:{Input:C},props:{Couple:{type:Boolean,default:!0},Title:{type:String,default:"Checkbox title"}}};function G(t,e,a,c,s,o){return d(),m("li",null,[r("input",{type:"checkbox",onInput:e[0]||(e[0]=u=>this.$emit("onCheck",!0))},null,32),w(" Â  "+n(a.Title),1)])}const J=f(z,[["render",G],["__scopeId","data-v-8fbdb8d8"]]),W={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1}}},H={class:"mb-2.5 block text-black dark:text-white"},Q=["value","type"];function R(t,e,a,c,s,o){return d(),m("div",{class:h(a.Couple?"mb-4.5":"w-full xl:w-1/2")},[r("label",H,n(a.Label),1),r("input",{value:a.Value,type:a.Type,class:h([a.isError==!0?"isError":"","rounded border-[1.5px] border-stroke bg-transparent py-20 px-2 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"]),placeholder:"Select subject",onInput:e[0]||(e[0]=u=>this.$emit("onInput",u.target.value)),style:{width:"80px",height:"40px"}},null,42,Q)],2)}const X=f(W,[["render",R]]),Y={props:{Couple:{type:Boolean,default:!0},Label:{type:String,default:"Input label"},Value:{type:[String,Boolean,Number],default:""},Type:{type:String,default:"text"},isError:{type:Boolean,default:!1},isLoginError:{type:Boolean,default:!1},message:{type:String,default:""}}},Z={class:"mb-2.5 block text-black dark:text-white"},$={key:0,class:"text-danger"};function ee(t,e,a,c,s,o){return d(),m("div",{class:h(a.Couple?"mb-4.5":"w-full xl:w-1/2")},[r("label",Z,n(a.Label),1),r("select",{onInput:e[0]||(e[0]=u=>this.$emit("onSelect",u.target.value)),class:"w-full rounded border-[1.5px] border-stroke bg-transparent px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},[L(t.$slots,"default")],32),a.isError?(d(),m("p",$,n(a.message),1)):g("",!0)],2)}const se=f(Y,[["render",ee]]),te={computed:{checkbox01(){return y}},data(){return{name:"",order:"",code:"",price:"",category:"",material_price:"",technic_price:"",status:1,isLoginError:!1,errorObj:{},categories:[],Checkbox:"",last_name:"",first_name:"",phone:"",job:"",address:"",gender:"",birthday:"",sort_order:"",diseasesIds:[],allDiseases:[],Image:"",Photo:""}},components:{ImageInput:K,Checkbox01:y,Select:se,PrimaryButton2:T,MultiSelect:D,PrimaryButton:B,InputColor:X,Checkbox:J,Input:C},methods:{getName(t){return E().getName(t)},async update(){var t=[];this.diseasesIds.length>0?this.diseasesIds.forEach(c=>{t.push(c.id)}):t=0;var e={first_name:this.first_name,last_name:this.last_name,phone:this.phone,job:this.job,address:this.address,gender:this.Checkbox,birthday:this.birthday,sort_order:this.sort_order,diseasesIds:t,price:0,image:this.Image};const a=await N(this.$route.query.id,e);console.log(a),a.status?(S("success","Update successfully !"),this.$router.push("/patients")):this.errorObj=a.data},async getModel(){const t=await j(this.$route.query.id);t.status&&(this.first_name=t.data.first_name,this.last_name=t.data.last_name,this.phone=t.data.phone,this.job=t.data.job,this.address=t.data.address,this.Checkbox=t.data.gender,this.birthday=t.data.birthday,this.sort_order=t.data.sort_order,this.diseasesIds=t.data.diseases,this.Photo=t.data.image[0].url,this.getDisiases())},async getDisiases(){const t=await V(null,1e3);var e=[];t.data.items.forEach(a=>{this.diseasesIds.some(c=>c.id==a.id)||e.push({name:a.name,id:a.id})}),this.allDiseases=e},hasKey(t){return t in this.errorObj},onSelect(t){this.diseasesIds.indexOf(t)==-1&&(this.diseasesIds.push({name:this.allDiseases.filter(e=>e.id==Number(t))[0].name,id:this.allDiseases.filter(e=>e.id==Number(t))[0].id}),this.allDiseases=this.allDiseases.filter(e=>e.id!=Number(t)))},onPush(t){this.allDiseases.push(t),this.diseasesIds=this.diseasesIds.filter(e=>e.id!=t.id)}},mounted(){this.getModel()}},re={class:"mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",style:{display:"flex","justify-content":"flex-end"}},oe={class:"flex items-center gap-2"},ae={class:"font-medium text-primary"},le={class:"grid grid-cols-1 gap-9 sm:grid-cols-2"},ne={class:"flex flex-col gap-9"},ie={class:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},de={class:"border-b border-stroke py-4 px-6.5 dark:border-strokedark"},ue={class:"font-semibold text-black dark:text-white"},me={action:"#"},ce={class:"p-6.5"},be={class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},pe={class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},fe={class:"mb-2.5 block text-black dark:text-white"},he={key:0,style:{float:"right"},class:"text-danger"},ge={class:"flex flex-col gap-9"},_e={class:"rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark"},xe=r("div",{class:"border-b border-stroke py-4 px-6.5 dark:border-strokedark"},[r("h3",{class:"font-semibold text-black dark:text-white"})],-1),ye={class:"flex flex-col gap-6 xl:flex-row px-6.5"},ke={class:"flex flex-col gap-6 xl:flex-row p-6.5"},Ce={class:"flex flex-col gap-6 xl:flex-row px-6.5"},Ie=r("option",{selected:""},"---",-1),ve=["value"],we=r("div",{class:"mb-4.5 flex flex-col gap-6 xl:flex-row"},null,-1),Le={class:"pl-7 p-6.5"};function Ee(t,e,a,c,s,o){const u=p("ImageInput"),b=p("Input"),_=p("checkbox01"),I=p("MultiSelect");return d(),m(x,null,[r("div",re,[r("nav",null,[r("ol",oe,[r("li",null,[r("a",{class:"font-medium cursor-pointer",onClick:e[0]||(e[0]=l=>this.$router.push("/patients"))},n(o.getName("Patients"))+" /",1)]),r("li",ae,n(o.getName("create")),1)])])]),r("div",le,[r("div",ne,[r("div",ie,[r("div",de,[r("h3",ue,n(o.getName("Patients")),1)]),r("form",me,[r("div",ce,[i(u,{onImage:e[1]||(e[1]=l=>s.Image=l),Label:"Photo",Photo:s.Photo},null,8,["Photo"]),r("div",be,[i(b,{Couple:!1,Label:o.getName("last_name"),onOnInput:e[2]||(e[2]=l=>s.last_name=l),isError:o.hasKey("last_name"),message:s.errorObj.last_name,Value:s.last_name},null,8,["Label","isError","message","Value"]),i(b,{Couple:!1,Label:o.getName("name"),onOnInput:e[3]||(e[3]=l=>s.first_name=l),isError:o.hasKey("first_name"),message:s.errorObj.first_name,Value:s.first_name},null,8,["Label","isError","message","Value"])]),r("div",pe,[i(b,{Couple:!1,Label:o.getName("Address"),onOnInput:e[4]||(e[4]=l=>s.address=l),isError:o.hasKey("address"),message:s.errorObj.address,Value:s.address},null,8,["Label","isError","message","Value"]),r("label",fe,n(o.getName("Gender")),1),i(_,{onClick:e[5]||(e[5]=l=>(s.Checkbox=5,console.log(s.Checkbox))),onCheck:s.Checkbox==5,Title:o.getName("Male"),Class:"genderCheckbox"},null,8,["onCheck","Title"]),i(_,{onClick:e[6]||(e[6]=l=>(s.Checkbox=4,console.log(s.Checkbox))),onCheck:s.Checkbox==4,Title:o.getName("Woman"),Class:"genderCheckbox"},null,8,["onCheck","Title"])]),o.hasKey("gender")?(d(),m("p",he,n(s.errorObj.gender),1)):g("",!0)])])])]),r("div",ge,[r("div",_e,[xe,r("div",ye,[i(b,{Couple:!1,Label:o.getName("phone"),onOnInput:e[7]||(e[7]=l=>s.phone=l),isError:o.hasKey("phone"),message:s.errorObj.phone,Value:s.phone},null,8,["Label","isError","message","Value"]),i(b,{Couple:!1,Label:o.getName("Job"),onOnInput:e[8]||(e[8]=l=>s.job=l),isError:o.hasKey("job"),message:s.errorObj.job,Value:s.job},null,8,["Label","isError","message","Value"])]),r("div",ke,[i(b,{Couple:!1,Label:o.getName("Date_birth"),onOnInput:e[9]||(e[9]=l=>s.birthday=l),isError:o.hasKey("birthday"),message:s.errorObj.birthday,Value:s.birthday,Type:"date"},null,8,["Label","isError","message","Value"]),i(b,{Couple:!1,Label:o.getName("Serial_number"),onOnInput:e[10]||(e[10]=l=>s.sort_order=l),isError:o.hasKey("sort_order"),message:s.errorObj.sort_order,Value:s.sort_order,Type:"number"},null,8,["Label","isError","message","Value"])]),r("div",Ce,[i(I,{Couple:!1,Label:o.getName("diseases"),onOnSelect:e[11]||(e[11]=l=>o.onSelect(l)),Items:s.diseasesIds,onPushArray:e[12]||(e[12]=l=>o.onPush(l))},{default:k(()=>[Ie,(d(!0),m(x,null,O(s.allDiseases,l=>(d(),m("option",{value:l.id},n(l.name),9,ve))),256))]),_:1},8,["Label","Items"]),we]),r("div",Le,[r("button",{onClick:e[13]||(e[13]=l=>o.update()),class:"flex w-full justify-center rounded bg-primary p-3 font-medium text-gray"},n(o.getName("update")),1)])])])])],64)}const Ne=f(te,[["render",Ee]]),Se={components:{FormLayouts:Ne,Page:v}};function je(t,e,a,c,s,o){const u=p("FormLayouts"),b=p("Page");return d(),P(b,{Classes:!1,Animation:!1},{default:k(()=>[i(u)]),_:1})}const Fe=f(Se,[["render",je]]);export{Fe as default};
