import{_ as h,u as k,o as l,c as n,a as e,t as i,e as L,n as f,K as T,L as E,B as j,A as x,Z as S,aQ as B,aR as V,r as c,b as u,F,v as O,z as w,m as _,d as z,i as D,w as g}from"./app-8i59_tig.js";import{I as H}from"./Input-fJbOcXUa.js";import{I as q}from"./InputDefault-8H7puYZk.js";import{_ as A}from"./pagination-01.vue_vue_type_style_index_0_lang-WLTl4Kz3.js";import{M as K}from"./Switch-aMALSFy7.js";import{L as U}from"./Loader-gbTB4BrO.js";import{T as Q}from"./Table-U6DySGSG.js";import{T as R}from"./Page-mAivDXea.js";const Z={data(){return{order:"asc",search:"",column:"id"}},methods:{getName(t){return k().getName(t)}}},G={class:"grid grid-cols-6 border-b border-stroke dark:border-strokedark sm:grid-cols-6 overflow-x-auto"},J={class:"flex items-center justify-center p-2.5 xl:p-5"},W={class:"font-medium text-black dark:text-white"},X={class:"flex items-center justify-center p-2.5 xl:p-5"},Y={class:"font-medium text-black dark:text-white"},$={class:"flex items-center justify-center p-2.5 xl:p-5"},ee={class:"font-medium text-black dark:text-white"},te={class:"flex items-center justify-center p-2.5 xl:p-5"},se={class:"font-medium text-black dark:text-white"},oe={class:"flex items-center justify-center p-2.5 xl:p-5"},re={class:"font-medium text-black dark:text-white"},ae={class:"flex items-center justify-center p-2.5 xl:p-5"},ie={class:"font-medium text-black dark:text-white"};function le(t,r,d,m,o,s){return l(),n("div",G,[e("div",J,[e("p",W,i(s.getName("fio")),1)]),e("div",X,[e("p",Y,i(s.getName("position")),1)]),e("div",$,[e("p",ee,i(s.getName("login")),1)]),e("div",te,[e("p",se,i(s.getName("color")),1)]),e("div",oe,[e("p",re,i(s.getName("serial_number")),1)]),e("div",ae,[e("p",ie,i(s.getName("actions")),1)])])}const ne=h(Z,[["render",le],["__scopeId","data-v-300dc050"]]),de={},ce={class:"box"},ue={class:"pagination"};function me(t,r){return l(),n("div",ce,[e("div",ue,[L(t.$slots,"default")])])}const pe=h(de,[["render",me]]),_e={props:{number:{type:Number,default:0},active:{type:Boolean,default:!1},link:{type:String,default:0}}};function he(t,r,d,m,o,s){return l(),n("a",{class:f([d.active?"active":"","cursor-pointer"])},i(d.number),3)}const ge=h(_e,[["render",he]]),fe={components:{Table01:R,Table:Q,Loader:U,ModalLayout:K,Pagination01:A,Input:H,VueAwesomePaginate:T,InputDefault:q,PaginateBtn:ge,Paginate:pe,TableHeader:ne},data(){return{items:[],search:"",column:"sort_order",order:"asc",paginateCount:10,pagination:{},last_page:0,currentPage:1,password_1:".",password_2:"",ExitModal:!1,isModal:!1,password:"",isPasswordError:!1,reset_password:"",isLoginError:!1,color:"#FFFFFF",errorObj:{},user_id:0,ModelType:"",Item:"",Image:""}},methods:{router(){return E},onClickHandler(t){this.paginate=t,this.currentPage=t,this.getItems()},onModal(t){this.Item=t,this.Image=t.image[0].url,this.password="",this.reset_password="",this.user_id=t.id,this.isModal=!0},getName(t){return k().getName(t)},openModal(){document.querySelector(".modal").classList.remove("hidden")},testPasswordModal(t){return this.password!=t||this.password==""?this.isPasswordError=!0:this.isPasswordError=!1,this.reset_password=t,this.isPasswordError},async editPassword(){if(this.testPasswordModal(this.reset_password)!=!0){var t={id:this.user_id,password:this.password};const r=await j(t);r.status?(this.isModal=!1,x("success","Update successfully !")):this.errorObj=r.data}},testPassword(t){return this.password_1!=t?(this.isPasswordError=!0,this.ExitModal=!1):(this.isPasswordError=!1,this.ExitModal=!0),this.password_2=t,this.isPasswordError},async getItems(){const t=await S(this.currentPage,this.paginateCount);this.pagination=t.data.pagination,this.last_page=t.data.pagination.last_page,this.current_page=t.data.pagination.currentPage,this.items=t.data.employees},async clickSearch(t,r){this.search=t,this.order=r;var d={search:this.search,order:this.order,column:this.column,paginate:10};const m=await B(d);this.items=m.data.items},async onDelete(t){var r="Вы уверены, что хотите это удалить?";confirm(r)&&(await V(t)).status==!0&&(x("success","Deleted successfully !"),this.getItems())},onSearch(t){this.order=t,this.search()},onPaginate(t){this.paginateCount=t,this.getItems()},hasKey(t){return t in this.errorObj}},mounted(){this.getItems()}},be={class:"col-span-12 xl:col-span-12"},xe={class:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1"},we={class:"mb-6 text-xl font-bold text-black dark:text-white"},ke={class:"flex flex-col"},ye={class:"grid grid-cols-3 rounded-sm mb-2 sm:grid-cols-5 relative"},ve={selected:"",value:"sort_order"},Pe=e("option",{value:"id"},"Id",-1),Me={value:"name"},Ne={value:"login"},Ie={value:"position"},Ce={class:"ml-4 flex btn01"},Le=["title"],Te=e("path",{fill:"currentColor",d:"M6 17.59L7.41 19L12 14.42L16.59 19L18 17.59l-6-6z"},null,-1),Ee=e("path",{fill:"currentColor",d:"m6 11l1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},null,-1),je=[Te,Ee],Se=["title"],Be=e("path",{fill:"currentColor",d:"M18 6.41L16.59 5L12 9.58L7.41 5L6 6.41l6 6z"},null,-1),Ve=e("path",{fill:"currentColor",d:"m18 13l-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},null,-1),Fe=[Be,Ve],Oe={class:"ml-4"},ze=e("option",{value:"10"},"10",-1),De=e("option",{value:"20"},"20",-1),He=e("option",{value:"50"},"50",-1),qe=e("option",{value:"100"},"100",-1),Ae=[ze,De,He,qe],Ke={class:"flex flex-wrap gap-5 xl:gap-20",style:{position:"absolute",right:"0px",top:"0"}},Ue={class:"databes_table grid grid-cols-6 border-b border-stroke dark:border-strokedark sm:grid-cols-6"},Qe={class:"flex items-center gap-3 p-2.5 xl:p-5 data_table"},Re={style:{"white-space":"nowrap"},class:"font-medium hidden text-black dark:text-white sm:block"},Ze={class:"flex items-center justify-center p-2.5 xl:p-5 data_table"},Ge={class:"font-medium text-black dark:text-white"},Je={class:"flex items-center justify-center p-2.5 xl:p-5 data_table"},We={class:"font-medium text-meta-3"},Xe={class:"hidden items-center justify-center p-2.5 sm:flex xl:p-5 data_table"},Ye={class:"font-medium text-black dark:text-white"},$e={class:"hidden items-center justify-center p-2.5 sm:flex xl:p-5 data_table"},et={class:"font-medium text-meta-5"},tt={class:"hidden items-center justify-center p-2.5 sm:flex xl:p-5 data_table"},st={class:"font-medium text-meta-5"},ot=["onClick"],rt=["onClick"],at=["onClick"],it=["onClick"],lt=["onClick"],nt={key:0},dt={key:1},ct={class:"table01"},ut=e("th",null,"ID:   ",-1),mt=["src"];function pt(t,r,d,m,o,s){const y=c("TableHeader"),v=c("Loader"),P=c("vue-awesome-paginate"),M=c("Pagination01"),N=c("Paginate"),b=c("Input"),I=c("ModalLayout");return l(),n("div",be,[e("div",xe,[e("h4",we,i(s.getName("employees")),1),e("div",ke,[e("div",ye,[e("div",null,[e("input",{type:"text",placeholder:"Search",onInput:r[0]||(r[0]=a=>s.clickSearch(a.target.value,o.order)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},null,32)]),e("div",null,[e("select",{placeholder:"Search",onInput:r[1]||(r[1]=a=>o.column=a.target.value),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},[e("option",ve,i(s.getName("serial_number")),1),Pe,e("option",Me,i(s.getName("name")),1),e("option",Ne,i(s.getName("login")),1),e("option",Ie,i(s.getName("position")),1)],32)]),e("div",Ce,[(l(),n("svg",{onClick:r[2]||(r[2]=a=>s.clickSearch(o.search,"asc")),title:s.getName("growth"),class:f(o.order=="asc"?"active":""),xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},je,10,Le)),(l(),n("svg",{onClick:r[3]||(r[3]=a=>s.clickSearch(o.search,"desc")),class:f(o.order=="desc"?"active":""),title:s.getName("decrease"),xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},Fe,10,Se))]),e("div",Oe,[e("select",{placeholder:"Search",onInput:r[4]||(r[4]=a=>s.onPaginate(a.target.value)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},Ae,32)]),e("div",Ke,[e("a",{onClick:r[5]||(r[5]=a=>this.$router.push("/employees/create")),class:"cursor-pointer inline-flex items-center justify-center rounded-md bg-primary py-3 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10"},i(s.getName("create")),1)])]),u(y),(l(!0),n(F,null,O(o.items,(a,C)=>(l(),n("div",Ue,[e("div",Qe,[e("div",{class:"photo-img",style:w("background-image: url("+a.image[0].url+")")},null,4),e("p",Re,i(C+1)+". "+i(a.name),1)]),e("div",Ze,[e("p",Ge,i(a.position),1)]),e("div",Je,[e("p",We,i(a.login),1)]),e("div",Xe,[e("p",Ye,[e("div",{style:w([{width:"40px",height:"20px"},"background:"+a.color])},null,4)])]),e("div",$e,[e("p",et,i(a.sort_order),1)]),e("div",tt,[e("p",st,[e("i",{onClick:p=>this.$router.push({path:"/employees/update",query:{id:a.id}}),class:"fa-solid setting-icon fa-pen-to-square"},null,8,ot),_("   "),e("i",{onClick:p=>(s.onModal(a),o.ModelType="show"),class:"fa-solid setting-icon fa-eye"},null,8,rt),_("   "),e("i",{onClick:p=>(s.onModal(a),o.ModelType="password"),class:"fa-solid setting-icon fa-key"},null,8,at),_("   "),e("i",{onClick:p=>this.$router.push({path:"/employees/calendar",query:{id:a.id}}),class:"fa-solid fa-calendar-days setting-icon"},null,8,it),_("   "),e("i",{onClick:p=>s.onDelete(a.id),class:"fa-solid text-danger fa-trash setting-icon"},null,8,lt)])])]))),256)),o.items.length==0&&o.search==""?(l(),z(v,{key:0})):D("",!0),u(N,null,{default:g(()=>[u(M,null,{default:g(()=>[u(P,{"total-items":o.last_page,"items-per-page":1,"max-pages-shown":1,modelValue:o.currentPage,"onUpdate:modelValue":r[6]||(r[6]=a=>o.currentPage=a),"on-click":s.onClickHandler},null,8,["total-items","modelValue","on-click"])]),_:1})]),_:1})])]),u(I,{onOnButton:s.editPassword,isModal:o.isModal,onCloseModal:r[9]||(r[9]=a=>o.isModal=a),Title:o.ModelType=="password"?s.getName("edit_password"):o.Item.name,isSubmit:o.ModelType!="show"},{default:g(()=>[o.ModelType=="password"?(l(),n("span",nt,[u(b,{Label:s.getName("password"),onOnInput:r[7]||(r[7]=a=>o.password=a),Type:"password",isError:s.hasKey("password"),message:o.errorObj.password,Pholder:"password"},null,8,["Label","isError","message"]),u(b,{Label:s.getName("reset_password"),onOnInput:r[8]||(r[8]=a=>s.testPasswordModal(a)),isError:o.isPasswordError,Type:"password",Value:o.reset_password,message:"The password is not the same",Pholder:"reset password"},null,8,["Label","isError","Value"])])):(l(),n("span",dt,[e("table",ct,[e("tr",null,[ut,e("td",null,i(o.Item.id),1)]),e("tr",null,[e("th",null,i(s.getName("name"))+":   ",1),e("td",null,i(o.Item.name),1)]),e("tr",null,[e("th",null,i(s.getName("login"))+":   ",1),e("td",null,i(o.Item.login),1)]),e("tr",null,[e("th",null,i(s.getName("position"))+":   ",1),e("td",null,i(o.Item.position),1)]),e("tr",null,[e("th",null,i(s.getName("image"))+":   ",1),e("td",null,[e("img",{src:o.Image,width:"100px"},null,8,mt)])])])]))]),_:1},8,["onOnButton","isModal","Title","isSubmit"])])}const yt=h(fe,[["render",pt]]);export{yt as T};
