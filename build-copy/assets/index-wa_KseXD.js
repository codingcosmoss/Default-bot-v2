import{P as N}from"./Page-mAivDXea.js";import{_ as h,u as v,o as l,c as m,a as s,t as d,e as T,n as F,W as K,A as x,r as i,d as k,w as _,b as n,U as D,V as H,K as W,L as q,ao as z,ap as G,aq as J,ar as Q,as as R,at as X,au as Y,av as Z,F as y,v as w,m as S,i as $}from"./app-8i59_tig.js";import{I as ee}from"./InputDefault-8H7puYZk.js";import{_ as te}from"./pagination-01.vue_vue_type_style_index_0_lang-WLTl4Kz3.js";import{S as j,M}from"./Switch-aMALSFy7.js";import{S as C}from"./Select-YcpyyNbB.js";import{I}from"./Input-fJbOcXUa.js";import{L as se}from"./Loader-gbTB4BrO.js";import{W as ae}from"./WarehouseTopbar-NPU5-NWK.js";const oe={data(){return{order:"asc",search:"",column:"id"}},methods:{getName(e){return v().getName(e)}}},re={class:"grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table overflow-x-auto"},ne={class:"flex items-center justify-content-end p-2.5 xl:p-5"},ie={class:"font-medium text-black dark:text-white"},le={class:"flex items-center justify-center p-2.5 xl:p-5"},de={class:"font-medium text-black dark:text-white"},ce={class:"flex items-center justify-center p-2.5 xl:p-5"},ue={class:"font-medium text-black dark:text-white"},me={class:"flex items-center justify-center p-2.5 xl:p-5"},_e={class:"font-medium text-black dark:text-white"},pe={class:"flex items-center justify-center p-2.5 xl:p-5"},he={class:"font-medium text-black dark:text-white"};function ge(e,t,c,p,a,o){return l(),m("div",re,[s("div",ne,[s("p",ie,d(o.getName("name_content")),1)]),s("div",le,[s("p",de,d(o.getName("Address")),1)]),s("div",ce,[s("p",ue,d(o.getName("Filial")),1)]),s("div",me,[s("p",_e,d(o.getName("category")),1)]),s("div",pe,[s("p",he,d(o.getName("actions")),1)])])}const fe=h(oe,[["render",ge],["__scopeId","data-v-9eb35740"]]),be={},ye={class:"box"},xe={class:"pagination"};function ve(e,t){return l(),m("div",ye,[s("div",xe,[T(e.$slots,"default")])])}const ke=h(be,[["render",ve]]),we={props:{number:{type:Number,default:0},active:{type:Boolean,default:!1},link:{type:String,default:0}}};function Ne(e,t,c,p,a,o){return l(),m("a",{class:F([c.active?"active":"","cursor-pointer"])},d(c.number),3)}const Me=h(we,[["render",Ne]]),Ce={components:{Switch:j,Input:I,Select:C,ModalLayout:M,Page:N},data(){return{status:1,categoryName:"",errorObj:{}}},props:{isCreateModal:{type:Boolean,default:!1},isUpdateModal:{type:Boolean,default:!1}},methods:{getName(e){return v().getName(e)},hasKey(e){return e in this.errorObj},async createCategory(){var e={name:this.categoryName,status:this.status};const t=await K(e);console.log(t),t.status?(this.categoryName="",this.$emit("closeModal",!1),this.$emit("Created",!0),x("success","Created successfully !")):this.errorObj=t.data}}},Ie=s("option",{value:1}," Active",-1),Le=s("option",{value:0}," Inactive",-1);function Oe(e,t,c,p,a,o){const g=i("Input"),f=i("Select"),b=i("ModalLayout");return l(),k(b,{onOnButton:o.createCategory,isModal:c.isCreateModal,onCloseModal:t[2]||(t[2]=u=>this.$emit("closeModal",u)),Title:o.getName("create")},{default:_(()=>[n(g,{Label:o.getName("name_content"),onOnInput:t[0]||(t[0]=u=>a.categoryName=u),isError:o.hasKey("name"),message:a.errorObj.name,Value:a.categoryName},null,8,["Label","isError","message","Value"]),n(f,{Label:o.getName("status"),onOnSelect:t[1]||(t[1]=u=>this.status=u)},{default:_(()=>[Ie,Le]),_:1},8,["Label"])]),_:1},8,["onOnButton","isModal","Title"])}const Se=h(Ce,[["render",Oe]]),je={components:{Input:I,Select:C,ModalLayout:M,Page:N},data(){return{status:1,categoryName:"",errorObj:{}}},props:{isUpdateModal:{type:Boolean,default:!1},Updated_Id:{type:Number,default:0}},methods:{getName(e){return v().getName(e)},hasKey(e){return e in this.errorObj},async getModel(){console.log(this.isUpdateModal);const e=await D(this.Updated_Id);this.categoryName=e.data.name,this.status=e.data.status},async updateCategory(){var e={name:this.categoryName,status:this.status};const t=await H(this.Updated_Id,e);t.status?(this.categoryName="",this.$emit("closeModal",!1),this.$emit("Created",!0),x("success","Update successfully !")):this.errorObj=t.data}},watch:{Updated_Id:function(e,t){this.getModel()}}},Ue=["selected"],Ve=["selected"];function Pe(e,t,c,p,a,o){const g=i("Input"),f=i("Select"),b=i("ModalLayout");return l(),k(b,{onOnButton:o.updateCategory,isModal:c.isUpdateModal,onCloseModal:t[2]||(t[2]=u=>this.$emit("closeUpdatedModal",!1)),Title:o.getName("update")},{default:_(()=>[n(g,{Label:o.getName("name_content"),onOnInput:t[0]||(t[0]=u=>a.categoryName=u),isError:o.hasKey("name"),message:a.errorObj.name,Value:a.categoryName},null,8,["Label","isError","message","Value"]),n(f,{Label:o.getName("status"),onOnSelect:t[1]||(t[1]=u=>a.status=u)},{default:_(()=>[s("option",{selected:a.status==1,value:1}," Active",8,Ue),s("option",{selected:a.status!=1,value:0}," Inactive",8,Ve)]),_:1},8,["Label"])]),_:1},8,["onOnButton","isModal","Title"])}const Ae=h(je,[["render",Pe]]),Be={components:{WarehouseTopbar:ae,Loader:se,Switch:j,Select:C,Input:I,CreateForm:Se,ModalLayout:M,Pagination01:te,UpdateForm:Ae,VueAwesomePaginate:W,InputDefault:ee,PaginateBtn:Me,Paginate:ke,TableHeader:fe},data(){return{items:[],search:"",column:"updated_at",order:"asc",paginateCount:10,pagination:{},last_page:0,currentPage:1,UpdatedId:0,isModal:!1,ExitModal:!1,status:!0,Name:"",filial_id:"",Filials:"",Address:"",Categories:"",category_id:"",errorObj:{},crud:""}},methods:{router(){return q},onClickHandler(e){this.paginate=e,this.currentPage=e,this.getItems()},onModal(e){e==null?(this.crud="created",this.Name="",this.Address="",this.category_id="",this.filial_id=""):(this.crud="",this.UpdatedId=e,this.getModel()),this.errorObj={},this.isModal=!0},async getModel(){const e=await z(this.UpdatedId);this.Name=e.data.name,this.Address=e.data.address,this.category_id=e.data.category_id,this.filial_id=e.data.filial_id,this.status=e.data.status==1},onUpdateModal(e){this.UpdatedId=e,this.isUpdateModal=!0},hasKey(e){return e in this.errorObj},async crudCategory(){var e=[],t={name:this.Name,address:this.Address,status:this.status==!0?1:0,filial_id:this.filial_id,warehouse_category_id:this.category_id};this.crud=="created"?e=await G(t):e=await J(this.UpdatedId,t),e.status?(this.Name="",this.category_id="",this.filial_id="",this.Address="",this.status=!0,this.UpdatedId=null,this.isModal=!1,this.getItems(),x("success","Created successfully !")):this.errorObj=e.data},getName(e){return v().getName(e)},openModal(){document.querySelector(".modal").classList.remove("hidden")},async getItems(){const e=await Q(this.currentPage,this.paginateCount);this.pagination=e.data.pagination,this.last_page=e.data.pagination.last_page,this.current_page=e.data.pagination.currentPage,this.items=e.data.items,console.log(e)},async getFilials(){const e=await R(1,1e3);this.Filials=e.data.items},async getCategories(){const e=await X(1,1e3);this.Categories=e.data.items},async clickSearch(e,t){if(this.search=e,this.order=t,e!=""){var c={search:this.search,order:this.order,column:this.column,paginate:this.paginateCount};const p=await Y(c);console.log(p),this.items=p.data.items}else this.getItems()},async onDelete(e){var t="Вы уверены, что хотите это удалить?";confirm(t)&&(await Z(e)).status==!0&&(x("success","Deleted successfully !"),this.getItems())},onPaginate(e){this.paginateCount=e,this.getItems()}},mounted(){this.getItems(),this.getCategories(),this.getFilials()}},Ee={class:"col-span-12 xl:col-span-12"},Te={class:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default dark:border-strokedark dark:bg-boxdark sm:px-7.5 xl:pb-1"},Fe={class:"flex flex-col"},Ke={class:"grid grid-cols-3 rounded-sm mb-2 sm:grid-cols-5 relative"},De={class:"ml-4"},He=s("option",{value:"10"},"10",-1),We=s("option",{value:"20"},"20",-1),qe=s("option",{value:"50"},"50",-1),ze=s("option",{value:"100"},"100",-1),Ge=[He,We,qe,ze],Je={class:"flex flex-wrap gap-5 xl:gap-20",style:{position:"absolute",right:"0px",top:"0"}},Qe={class:"grid grid-cols-5 border-b border-stroke dark:border-strokedark sm:grid-cols-5 databes_table"},Re={class:"flex justify-content-end gap-3 p-2.5 xl:p-5"},Xe={class:"font-bold hidden text-black dark:text-white sm:block cursor-pointer",style:{color:"#0a91f1"}},Ye={class:"flex items-center justify-center p-2.5 xl:p-5"},Ze={class:"font-medium text-black dark:text-white"},$e={class:"flex items-center justify-center p-2.5 xl:p-5"},et={class:"font-medium text-black dark:text-white"},tt={class:"flex items-center justify-center p-2.5 xl:p-5"},st={class:"font-medium text-black dark:text-white"},at={class:"hidden items-center justify-center p-2.5 sm:flex xl:p-5"},ot={class:"font-medium text-meta-5"},rt=["onClick"],nt=["onClick"],it=s("option",null,"---",-1),lt=["value","selected"],dt=s("option",null,"---",-1),ct=["value","selected"];function ut(e,t,c,p,a,o){const g=i("WarehouseTopbar"),f=i("TableHeader"),b=i("Loader"),u=i("vue-awesome-paginate"),U=i("Pagination01"),V=i("Paginate"),L=i("Input"),O=i("Select"),P=i("Switch"),A=i("ModalLayout");return l(),m(y,null,[s("div",Ee,[s("div",Te,[n(g),s("div",Fe,[s("div",Ke,[s("div",null,[s("input",{type:"text",placeholder:"Search",onInput:t[0]||(t[0]=r=>o.clickSearch(r.target.value,a.order)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary"},null,32)]),s("div",De,[s("select",{placeholder:"Search",onInput:t[1]||(t[1]=r=>o.onPaginate(r.target.value)),class:"w-full rounded-lg border-[1.5px] border-stroke bg-transparent py-3 px-5 font-medium outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:focus:border-primary ml-4"},Ge,32)]),s("div",Je,[s("span",{onClick:t[2]||(t[2]=r=>o.onModal(null)),class:"cursor-pointer inline-flex items-center justify-center rounded-md bg-primary py-3 px-10 text-center font-medium text-white hover:bg-opacity-90 lg:px-8 xl:px-10"},d(o.getName("create")),1)])]),n(f),(l(!0),m(y,null,w(a.items,(r,B)=>(l(),m("div",Qe,[s("div",Re,[S(d(B+1)+". ",1),s("p",Xe,d(r.name),1)]),s("div",Ye,[s("p",Ze,d(r.address),1)]),s("div",$e,[s("p",et,d(r.filial),1)]),s("div",tt,[s("p",st,d(r.category),1)]),s("div",at,[s("p",ot,[s("i",{onClick:E=>o.onModal(r.id),class:"fa-solid setting-icon fa-pen-to-square"},null,8,rt),S("   "),s("i",{onClick:E=>o.onDelete(r.id),class:"fa-solid text-danger fa-trash setting-icon"},null,8,nt)])])]))),256)),a.items.length==0&&a.search==""?(l(),k(b,{key:0})):$("",!0),n(V,null,{default:_(()=>[n(U,null,{default:_(()=>[n(u,{"total-items":a.last_page,"items-per-page":1,"max-pages-shown":1,modelValue:a.currentPage,"onUpdate:modelValue":t[3]||(t[3]=r=>a.currentPage=r),"on-click":o.onClickHandler},null,8,["total-items","modelValue","on-click"])]),_:1})]),_:1})])])]),n(A,{onOnButton:t[9]||(t[9]=r=>o.crudCategory()),isModal:a.isModal,onCloseModal:t[10]||(t[10]=r=>a.isModal=!1),Title:a.crud=="created"?o.getName("create"):o.getName("update")},{default:_(()=>[n(L,{Label:o.getName("name_content"),onOnInput:t[4]||(t[4]=r=>a.Name=r),isError:o.hasKey("name"),message:a.errorObj.name,Value:a.Name},null,8,["Label","isError","message","Value"]),n(L,{Label:o.getName("Address"),onOnInput:t[5]||(t[5]=r=>a.Address=r),isError:o.hasKey("address"),message:a.errorObj.address,Value:a.Address},null,8,["Label","isError","message","Value"]),n(O,{Label:o.getName("Filial"),isError:o.hasKey("filial_id"),message:a.errorObj.filial_id,onOnSelect:t[6]||(t[6]=r=>a.filial_id=r)},{default:_(()=>[it,(l(!0),m(y,null,w(a.Filials,r=>(l(),m("option",{value:r.id,selected:r.id==a.filial_id},d(r.name),9,lt))),256))]),_:1},8,["Label","isError","message"]),n(O,{Label:o.getName("Categories"),isError:o.hasKey("warehouse_category_id"),message:a.errorObj.warehouse_category_id,onOnSelect:t[7]||(t[7]=r=>a.category_id=r)},{default:_(()=>[dt,(l(!0),m(y,null,w(a.Categories,r=>(l(),m("option",{value:r.id,selected:r.id==a.category_id},d(r.name),9,ct))),256))]),_:1},8,["Label","isError","message"]),n(P,{isSwitch:a.status==1,onOnClick:t[8]||(t[8]=r=>a.status=r)},null,8,["isSwitch"])]),_:1},8,["isModal","Title"])],64)}const mt=h(Be,[["render",ut]]),kt={__name:"index",setup(e){return(t,c)=>(l(),k(N,{Animation:!1},{default:_(()=>[n(mt)]),_:1}))}};export{kt as default};
